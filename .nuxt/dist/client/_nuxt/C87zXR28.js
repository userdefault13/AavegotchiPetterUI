const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./hBpi3ciK.js","./C6U2NV7D.js"])))=>i.map(i=>d[i]);
import{F as ha,d as en,o as Gn,y as D,z as G,A,B as q,G as te,q as pa,g as Z,n as ba,H as je,I as ae,E as ma,J as at,K as i0,L as a0,M as pr,N as c0,O as ya,C as Qr,k as fn}from"./C6U2NV7D.js";const Ht=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Is=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ga=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],wa=[...ga,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],u0=[...ga,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ui=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],di=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],va=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],li=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Ne(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new E0(e.type);return`${e.name}(${Cr(e.inputs,{includeName:t})})`}function Cr(e,{includeName:t=!1}={}){return e?e.map(n=>d0(n,{includeName:t})).join(t?", ":","):""}function d0(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Cr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function De(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ee(e){return De(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const xa="2.46.1";let hn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${xa}`},C=class As extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof As?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof As&&n.cause.docsPath||n.docsPath,o=(a=hn.getDocsUrl)==null?void 0:a.call(hn,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...hn.version?[`Version: ${hn.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=xa}walk(t){return Pa(this,t)}};function Pa(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Pa(e.cause,t):t?null:e}class l0 extends C{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class fi extends C{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ea extends C{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Cr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class qn extends C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class f0 extends C{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class h0 extends C{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ee(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class p0 extends C{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class b0 extends C{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class hi extends C{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class $a extends C{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class m0 extends C{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class y0 extends C{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class pi extends C{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Vt extends C{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Ia extends C{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class g0 extends C{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class w0 extends C{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ne(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ne(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let v0=class extends C{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class gr extends C{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Cr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class lo extends C{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ne(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class x0 extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class P0 extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Aa=class extends C{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class E0 extends C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let pe=class extends C{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Sa=class extends C{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Ca=class extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class bi extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function tn(e,{dir:t,size:n=32}={}){return typeof e=="string"?ut(e,{dir:t,size:n}):$0(e,{dir:t,size:n})}function ut(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Ca({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function $0(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Ca({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let fo=class extends C{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},I0=class extends C{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class A0 extends C{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let S0=class extends C{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Be(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Fe(e,{size:t}){if(ee(e)>t)throw new S0({givenSize:ee(e),maxSize:t})}function ie(e,t={}){const{signed:n}=t;t.size&&Fe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function C0(e,t={}){let n=e;if(t.size&&(Fe(n,{size:t.size}),n=Be(n)),Be(n)==="0x00")return!1;if(Be(n)==="0x01")return!0;throw new A0(n)}function Te(e,t={}){const n=ie(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new fo({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}const B0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ye(e,t={}){return typeof e=="number"||typeof e=="bigint"?F(e,t):typeof e=="string"?Wt(e,t):typeof e=="boolean"?Ba(e,t):ne(e,t)}function Ba(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Fe(n,{size:t.size}),tn(n,{size:t.size})):n}function ne(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=B0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Fe(r,{size:t.size}),tn(r,{dir:"right",size:t.size})):r}function F(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new fo({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?tn(a,{size:r}):a}const T0=new TextEncoder;function Wt(e,t={}){const n=T0.encode(e);return ne(n,t)}const k0=new TextEncoder;function nn(e,t={}){return typeof e=="number"||typeof e=="bigint"?N0(e,t):typeof e=="boolean"?_0(e,t):De(e)?Ge(e,t):vt(e,t)}function _0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Fe(n,{size:t.size}),tn(n,{size:t.size})):n}const Ve={zero:48,nine:57,A:65,F:70,a:97,f:102};function mi(e){if(e>=Ve.zero&&e<=Ve.nine)return e-Ve.zero;if(e>=Ve.A&&e<=Ve.F)return e-(Ve.A-10);if(e>=Ve.a&&e<=Ve.f)return e-(Ve.a-10)}function Ge(e,t={}){let n=e;t.size&&(Fe(n,{size:t.size}),n=tn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=mi(r.charCodeAt(a++)),u=mi(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new C(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function N0(e,t){const n=F(e,t);return Ge(n)}function vt(e,t={}){const n=k0.encode(e);return typeof t.size=="number"?(Fe(n,{size:t.size}),tn(n,{dir:"right",size:t.size})):n}const ar=BigInt(2**32-1),yi=BigInt(32);function O0(e,t=!1){return t?{h:Number(e&ar),l:Number(e>>yi&ar)}:{h:Number(e>>yi&ar)|0,l:Number(e&ar)|0}}function R0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=O0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const F0=(e,t,n)=>e<<n|t>>>32-n,M0=(e,t,n)=>t<<n|e>>>32-n,z0=(e,t,n)=>t<<n-32|e>>>64-n,L0=(e,t,n)=>e<<n-32|t>>>64-n,Rt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function wn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Et(e,...t){if(!j0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function U0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");wn(e.outputLen),wn(e.blockLen)}function Zt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ta(e,t){Et(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function D0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Kt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function es(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ze(e,t){return e<<32-t|e>>>t}const G0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function q0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function H0(e){for(let t=0;t<e.length;t++)e[t]=q0(e[t]);return e}const gi=G0?e=>e:H0;function V0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Br(e){return typeof e=="string"&&(e=V0(e)),Et(e),e}function W0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Et(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class ho{}function ka(e){const t=r=>e().update(Br(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Z0(e=32){if(Rt&&typeof Rt.getRandomValues=="function")return Rt.getRandomValues(new Uint8Array(e));if(Rt&&typeof Rt.randomBytes=="function")return Uint8Array.from(Rt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const K0=BigInt(0),pn=BigInt(1),Y0=BigInt(2),J0=BigInt(7),X0=BigInt(256),Q0=BigInt(113),_a=[],Na=[],Oa=[];for(let e=0,t=pn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],_a.push(2*(5*r+n)),Na.push((e+1)*(e+2)/2%64);let s=K0;for(let o=0;o<7;o++)t=(t<<pn^(t>>J0)*Q0)%X0,t&Y0&&(s^=pn<<(pn<<BigInt(o))-pn);Oa.push(s)}const Ra=R0(Oa,!0),ed=Ra[0],td=Ra[1],wi=(e,t,n)=>n>32?z0(e,t,n):F0(e,t,n),vi=(e,t,n)=>n>32?L0(e,t,n):M0(e,t,n);function nd(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],l=wi(u,d,1)^n[a],f=vi(u,d,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=l,e[i+h+1]^=f}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Na[i],c=wi(s,o,a),u=vi(s,o,a),d=_a[i];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=ed[r],e[1]^=td[r]}Kt(n)}class po extends ho{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,wn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=D0(this.state)}clone(){return this._cloneInto()}keccak(){gi(this.state32),nd(this.state32,this.rounds),gi(this.state32),this.posOut=0,this.pos=0}update(t){Zt(this),t=Br(t),Et(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Zt(this,!1),Et(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return wn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ta(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Kt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new po(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const rd=(e,t,n)=>ka(()=>new po(t,e,n)),Fa=rd(1,136,256/8);function ce(e,t){const n=t||"hex",r=Fa(De(e,{strict:!1})?nn(e):e);return n==="bytes"?r:ye(r)}let rn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const sd=/^0x[a-fA-F0-9]{40}$/,ts=new rn(8192);function re(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ts.has(r))return ts.get(r);const s=sd.test(e)?e.toLowerCase()===e?!0:n?Hn(e)===e:!0:!1;return ts.set(r,s),s}const ns=new rn(8192);function Hn(e,t){if(ns.has(`${e}.${t}`))return ns.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ce(vt(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return ns.set(`${e}.${t}`,o),o}function ct(e,t){if(!re(e,{strict:!1}))throw new pe({address:e});return Hn(e,t)}let xi=class extends C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Ma=class extends C{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},od=class extends C{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const id={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new od({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ma({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new xi({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new xi({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function bo(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(id);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function $t(e,t,n,{strict:r}={}){return De(e,{strict:!1})?Ss(e,t,n,{strict:r}):ja(e,t,n,{strict:r})}function za(e,t){if(typeof t=="number"&&t>0&&t>ee(e)-1)throw new Sa({offset:t,position:"start",size:ee(e)})}function La(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ee(e)!==n-t)throw new Sa({offset:n,position:"end",size:ee(e)})}function ja(e,t,n,{strict:r}={}){za(e,t);const s=e.slice(t,n);return r&&La(s,t,n),s}function Ss(e,t,n,{strict:r}={}){za(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&La(s,t,n),s}function ad(e,t={}){typeof t.size<"u"&&Fe(e,{size:t.size});const n=ne(e,t);return ie(n,t)}function cd(e,t={}){let n=e;if(typeof t.size<"u"&&(Fe(n,{size:t.size}),n=Be(n)),n.length>1||n[0]>1)throw new I0(n);return!!n[0]}function Xe(e,t={}){typeof t.size<"u"&&Fe(e,{size:t.size});const n=ne(e,t);return Te(n,t)}function ud(e,t={}){let n=e;return typeof t.size<"u"&&(Fe(n,{size:t.size}),n=Be(n,{dir:"right"})),new TextDecoder().decode(n)}function de(e){return typeof e[0]=="string"?Me(e):dd(e)}function dd(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Me(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const ld=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ua=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function _t(e,t){if(e.length!==t.length)throw new p0({expectedLength:e.length,givenLength:t.length});const n=fd({params:e,values:t}),r=yo(n);return r.length===0?"0x":r}function fd({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(mo({param:e[r],value:t[r]}));return n}function mo({param:e,value:t}){const n=go(e.type);if(n){const[r,s]=n;return pd(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return wd(t,{param:e});if(e.type==="address")return hd(t);if(e.type==="bool")return md(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ua.exec(e.type)??[];return yd(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return bd(t,{param:e});if(e.type==="string")return gd(t);throw new x0(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function yo(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ee(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(F(t+s,{size:32})),r.push(a),s+=ee(a)):n.push(a)}return de([...n,...r])}function hd(e){if(!re(e))throw new pe({address:e});return{dynamic:!1,encoded:ut(e.toLowerCase())}}function pd(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Aa(e);if(!r&&e.length!==t)throw new f0({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=mo({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=yo(o);if(r){const a=F(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?de([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:de(o.map(({encoded:i})=>i))}}function bd(e,{param:t}){const[,n]=t.type.split("bytes"),r=ee(e);if(!n){let s=e;return r%32!==0&&(s=ut(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:de([ut(F(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new h0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ut(e,{dir:"right"})}}function md(e){if(typeof e!="boolean")throw new C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ut(Ba(e))}}function yd(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new fo({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:F(e,{size:32,signed:t})}}function gd(e){const t=Wt(e),n=Math.ceil(ee(t)/32),r=[];for(let s=0;s<n;s++)r.push(ut($t(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:de([ut(F(ee(t),{size:32})),...r])}}function wd(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=mo({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?yo(r):de(r.map(({encoded:s})=>s))}}function go(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Vn(e,t){const n=typeof t=="string"?Ge(t):t,r=bo(n);if(ee(n)===0&&e.length>0)throw new qn;if(ee(t)&&ee(t)<32)throw new Ea({data:typeof t=="string"?t:ne(t),params:e,size:ee(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Dt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Dt(e,t,{staticPosition:n}){const r=go(t.type);if(r){const[s,o]=r;return xd(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Id(e,t,{staticPosition:n});if(t.type==="address")return vd(e);if(t.type==="bool")return Pd(e);if(t.type.startsWith("bytes"))return Ed(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return $d(e,t);if(t.type==="string")return Ad(e,{staticPosition:n});throw new P0(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Pi=32,Cs=32;function vd(e){const t=e.readBytes(32);return[Hn(ne(ja(t,-20))),32]}function xd(e,t,{length:n,staticPosition:r}){if(!n){const i=Xe(e.readBytes(Cs)),a=r+i,c=a+Pi;e.setPosition(a);const u=Xe(e.readBytes(Pi)),d=vn(t);let l=0;const f=[];for(let h=0;h<u;++h){e.setPosition(c+(d?h*32:l));const[b,p]=Dt(e,t,{staticPosition:c});l+=p,f.push(b)}return e.setPosition(r+32),[f,32]}if(vn(t)){const i=Xe(e.readBytes(Cs)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[d]=Dt(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Dt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Pd(e){return[cd(e.readBytes(32),{size:32}),32]}function Ed(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Xe(e.readBytes(32));e.setPosition(n+i);const a=Xe(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ne(c),32]}return[ne(e.readBytes(Number.parseInt(s,10),32)),32]}function $d(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ad(s,{signed:n}):Xe(s,{signed:n}),32]}function Id(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(vn(t)){const i=Xe(e.readBytes(Cs)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[d,l]=Dt(e,u,{staticPosition:a});o+=l,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Dt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function Ad(e,{staticPosition:t}){const n=Xe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Xe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=ud(Be(o));return e.setPosition(t+32),[i,32]}function vn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(vn);const n=go(e.type);return!!(n&&vn({...e,type:n[1]}))}const Sd=e=>ce(nn(e));function Cd(e){return Sd(e)}const Bd="1.2.3";let we=class Bs extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Bs?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Bs&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Bd}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function rt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Da=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ga=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,qa=/^\(.+?\).*?$/,Ei=/^tuple(?<array>(\[(\d*)\])*)$/;function Ts(e){let t=e.type;if(Ei.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Ts(o),s<n-1&&(t+=", ")}const r=rt(Ei,e.type);return t+=`)${(r==null?void 0:r.array)||""}`,Ts({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function zt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Ts(s),r!==n-1&&(t+=", ")}return t}function wr(e){var t;return e.type==="function"?`function ${e.name}(${zt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${zt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${zt(e.inputs)})`:e.type==="error"?`error ${e.name}(${zt(e.inputs)})`:e.type==="constructor"?`constructor(${zt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ha=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Td(e){return Ha.test(e)}function kd(e){return rt(Ha,e)}const Va=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _d(e){return Va.test(e)}function Nd(e){return rt(Va,e)}const Wa=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Od(e){return Wa.test(e)}function Rd(e){return rt(Wa,e)}const Za=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Tr(e){return Za.test(e)}function Fd(e){return rt(Za,e)}const Ka=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Md(e){return Ka.test(e)}function zd(e){return rt(Ka,e)}const Ya=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ld(e){return Ya.test(e)}function jd(e){return rt(Ya,e)}const Ud=/^receive\(\) external payable$/;function Dd(e){return Ud.test(e)}const $i=new Set(["memory","indexed","storage","calldata"]),Gd=new Set(["indexed"]),ks=new Set(["calldata","memory","storage"]);class qd extends we{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Hd extends we{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Vd extends we{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Wd extends we{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Zd extends we{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Kd extends we{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Yd extends we{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Jd extends we{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Xd extends we{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class sn extends we{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Qd extends we{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class el extends we{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class tl extends we{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class nl extends we{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function rl(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const rs=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function _s(e,t={}){if(Od(e))return sl(e,t);if(_d(e))return ol(e,t);if(Td(e))return il(e,t);if(Md(e))return al(e,t);if(Ld(e))return cl(e);if(Dd(e))return{type:"receive",stateMutability:"payable"};throw new Qd({signature:e})}function sl(e,t={}){const n=Rd(e);if(!n)throw new sn({signature:e,type:"function"});const r=Ee(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(et(r[a],{modifiers:ks,structs:t,type:"function"}));const i=[];if(n.returns){const a=Ee(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(et(a[u],{modifiers:ks,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function ol(e,t={}){const n=Nd(e);if(!n)throw new sn({signature:e,type:"event"});const r=Ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(et(r[i],{modifiers:Gd,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function il(e,t={}){const n=kd(e);if(!n)throw new sn({signature:e,type:"error"});const r=Ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(et(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function al(e,t={}){const n=zd(e);if(!n)throw new sn({signature:e,type:"constructor"});const r=Ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(et(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function cl(e){const t=jd(e);if(!t)throw new sn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const ul=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dl=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ll=/^u?int$/;function et(e,t){var l,f;const n=rl(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(rs.has(n))return rs.get(n);const r=qa.test(e),s=rt(r?dl:ul,e);if(!s)throw new Zd({param:e});if(s.name&&hl(s.name))throw new Kd({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Ee(s.type),b=[],p=h.length;for(let m=0;m<p;m++)b.push(et(h[m],{structs:a}));u={components:b}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(ll.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Ja(c))throw new Vd({type:c});if(s.modifier){if(!((f=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&f.call(l,s.modifier)))throw new Yd({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(ks.has(s.modifier)&&!pl(c,!!s.array))throw new Jd({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...i,...u};return rs.set(n,d),d}function Ee(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?Ee(a,[...t,n.trim()]):Ee(a,t,`${n}${i}`,r);case"(":return Ee(a,t,`${n}${i}`,r+1);case")":return Ee(a,t,`${n}${i}`,r-1);default:return Ee(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new nl({current:n,depth:r});return t.push(n.trim()),t}function Ja(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Da.test(e)||Ga.test(e)}const fl=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function hl(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Da.test(e)||Ga.test(e)||fl.test(e)}function pl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function wo(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Tr(a))continue;const c=Fd(a);if(!c)throw new sn({signature:a,type:"struct"});const u=c.properties.split(";"),d=[],l=u.length;for(let f=0;f<l;f++){const b=u[f].trim();if(!b)continue;const p=et(b,{type:"struct"});d.push(p)}if(!d.length)throw new el({signature:a});t[c.name]=d}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Xa(c,t)}return r}const bl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Xa(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(qa.test(i.type))r.push(i);else{const c=rt(bl,i.type);if(!(c!=null&&c.type))throw new Xd({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new tl({type:d});r.push({...i,type:`tuple${u??""}`,components:Xa(t[d],t,new Set([...n,d]))})}else if(Ja(d))r.push(i);else throw new Hd({type:d})}}return r}function Qa(e){const t=wo(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Tr(o)||n.push(_s(o,t))}return n}function Ii(e){let t;if(typeof e=="string")t=_s(e);else{const n=wo(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Tr(o)){t=_s(o,n);break}}}if(!t)throw new qd({signature:e});return t}function Ai(e){const t=[];if(typeof e=="string"){const n=Ee(e),r=n.length;for(let s=0;s<r;s++)t.push(et(n[s],{modifiers:$i}))}else{const n=wo(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Tr(o))continue;const i=Ee(o),a=i.length;for(let c=0;c<a;c++)t.push(et(i[c],{modifiers:$i,structs:n}))}}if(t.length===0)throw new Wd({params:e});return t}function ml(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new C("Unable to normalize signature.");return s}const yl=e=>{const t=typeof e=="string"?e:wr(e);return ml(t)};function ec(e){return Cd(yl(e))}const kr=ec,Wn=e=>$t(ec(e),0,4);function Nt(e){const{abi:t,args:n=[],name:r}=e,s=De(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Wn(a)===r:a.type==="event"?kr(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in a&&a.inputs[d];return l?Ns(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=tc(a.inputs,i.inputs,n);if(u)throw new w0({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Ns(e,t){const n=typeof e,r=t.type;switch(r){case"address":return re(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Ns(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ns(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tc(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return tc(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?re(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?re(n[r],{strict:!1}):!1)return i}}const ss="/docs/contract/decodeFunctionResult";function ht(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Nt({abi:t,args:n,name:r});if(!a)throw new Vt(r,{docsPath:ss});o=a}if(o.type!=="function")throw new Vt(void 0,{docsPath:ss});if(!o.outputs)throw new Ia(o.name,{docsPath:ss});const i=Vn(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Si="/docs/contract/encodeFunctionData";function gl(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Nt({abi:t,args:n,name:r});if(!o)throw new Vt(r,{docsPath:Si});s=o}if(s.type!=="function")throw new Vt(void 0,{docsPath:Si});return{abi:[s],functionName:Wn(Ne(s))}}function ve(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:gl(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?_t(s.inputs,t??[]):void 0;return Me([o,i??"0x"])}class Os extends C{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class wl extends C{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class vl extends C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class nc extends C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class _r extends C{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function on({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Os({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Os({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function X(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const xl={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},rc={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Pl={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function El(e){const{abi:t,data:n}=e,r=$t(n,0,4);if(r==="0x")throw new qn;const o=[...t||[],rc,Pl].find(i=>i.type==="error"&&r===Wn(Ne(i)));if(!o)throw new $a(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Vn(o.inputs,$t(n,4)):void 0,errorName:o.name}}const se=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function sc({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?se(t[o]):t[o]}`).join(", ")})`}const $l={gwei:9,wei:18},Il={ether:-9,wei:9};function oc(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Nr(e,t="wei"){return oc(e,$l[t])}function ge(e,t="wei"){return oc(e,Il[t])}class Al extends C{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Sl extends C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Ci(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Cl(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Ci(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Ci(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Zn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Bl extends C{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Tl extends C{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Zn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class kl extends C{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class _l extends C{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var b;const h=Zn({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${Nr(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ge(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ge(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ge(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ic extends C{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class ac extends C{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class cc extends C{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Nl extends C{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Ol=e=>e,vo=e=>e;class uc extends C{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f,stateOverride:h}){var m;const b=n?X(n):void 0;let p=Zn({from:b==null?void 0:b.address,to:l,value:typeof f<"u"&&`${Nr(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ge(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ge(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ge(u)} gwei`,nonce:d});h&&(p+=`
${Cl(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class dc extends C{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Nt({abi:n,args:r,name:i}),u=c?sc({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Ne(c,{includeName:!0}):void 0,l=Zn({address:s&&Ol(s),function:d,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Rs extends C{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=El({abi:t,data:n});const{abiItem:d,errorName:l,args:f}=i;if(l==="Error")c=f[0];else if(l==="Panic"){const[h]=f;c=xl[h]}else{const h=d?Ne(d,{includeName:!0}):void 0,b=d&&f?sc({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof $a&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Rl extends C{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Fl extends C{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Or extends C{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function xo(e){var n,r,s,o,i,a;if(!(e instanceof C))return!1;const t=e.walk(c=>c instanceof Rs);return t instanceof Rs?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Ml(e){const{abi:t,data:n}=e,r=$t(n,0,4),s=t.find(o=>o.type==="function"&&r===Wn(Ne(o)));if(!s)throw new g0(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Vn(s.inputs,$t(n,4)):void 0}}const os="/docs/contract/encodeErrorResult";function Bi(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Nt({abi:t,args:r,name:n});if(!c)throw new hi(n,{docsPath:os});s=c}if(s.type!=="error")throw new hi(void 0,{docsPath:os});const o=Ne(s),i=Wn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new b0(s.name,{docsPath:os});a=_t(s.inputs,r)}return Me([i,a])}const is="/docs/contract/encodeFunctionResult";function zl(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Nt({abi:t,name:n});if(!i)throw new Vt(n,{docsPath:is});s=i}if(s.type!=="function")throw new Vt(void 0,{docsPath:is});if(!s.outputs)throw new Ia(s.name,{docsPath:is});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Aa(r)})();return _t(s.outputs,o)}const Rr="x-batch-gateway:true";async function Ll(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Ml({abi:Is,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Rr)?await Ll({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=jl(c)}})),zl({abi:Is,functionName:"query",result:[s,o]})}function jl(e){return e.name==="HttpRequestError"&&e.status?Bi({abi:Is,errorName:"HttpError",args:[e.status,e.shortMessage]}):Bi({abi:[rc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function lc(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return De(t)?t:null}function Fs(e){let t=new Uint8Array(32).fill(0);if(!e)return ne(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=lc(n[r]),o=s?nn(s):ce(vt(n[r]),"bytes");t=ce(de([t,o]),"bytes")}return ne(t)}function Ul(e){return`[${e.slice(2)}]`}function Dl(e){const t=new Uint8Array(32).fill(0);return e?lc(e)||ce(vt(e)):ne(t)}function Po(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(vt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=vt(s[o]);i.byteLength>255&&(i=vt(Ul(Dl(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function j(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class yn extends C{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${vo(i)}`,t&&`Request body: ${se(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class Eo extends C{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${vo(r)}`,`Request body: ${se(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Ti extends C{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${vo(n)}`,`Request body: ${se(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Gl=-1;class xe extends C{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Eo?t.code:n??Gl}}class Pe extends xe{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class xn extends xe{constructor(t){super(t,{code:xn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Pn extends xe{constructor(t){super(t,{code:Pn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class En extends xe{constructor(t,{method:n}={}){super(t,{code:En.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class $n extends xe{constructor(t){super(t,{code:$n.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class It extends xe{constructor(t){super(t,{code:It.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class lt extends xe{constructor(t){super(t,{code:lt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class In extends xe{constructor(t){super(t,{code:In.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class dt extends xe{constructor(t){super(t,{code:dt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class An extends xe{constructor(t){super(t,{code:An.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class gt extends xe{constructor(t,{method:n}={}){super(t,{code:gt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Yt extends xe{constructor(t){super(t,{code:Yt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Sn extends xe{constructor(t){super(t,{code:Sn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class le extends Pe{constructor(t){super(t,{code:le.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(le,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Cn extends Pe{constructor(t){super(t,{code:Cn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Bn extends Pe{constructor(t,{method:n}={}){super(t,{code:Bn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Tn extends Pe{constructor(t){super(t,{code:Tn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class kn extends Pe{constructor(t){super(t,{code:kn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class At extends Pe{constructor(t){super(t,{code:At.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Jt extends Pe{constructor(t){super(t,{code:Jt.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class _n extends Pe{constructor(t){super(t,{code:_n.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Nn extends Pe{constructor(t){super(t,{code:Nn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class On extends Pe{constructor(t){super(t,{code:On.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Rn extends Pe{constructor(t){super(t,{code:Rn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Fn extends Pe{constructor(t){super(t,{code:Fn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xt extends Pe{constructor(t){super(t,{code:Xt.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Mn extends Pe{constructor(t){super(t,{code:Mn.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class ql extends xe{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Hl=3;function St(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Or?e:e instanceof C?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:d,message:l,shortMessage:f}=a,h=e instanceof qn?new Rl({functionName:o}):[Hl,It.code].includes(c)&&(u||d||l||f)||c===lt.code&&d==="execution reverted"&&u?new Rs({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Eo?d:f??l}):e;return new dc(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $o=BigInt(0),Ms=BigInt(1);function Kn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Io(e){if(!Kn(e))throw new Error("Uint8Array expected")}function zn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function cr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function fc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?$o:BigInt("0x"+e)}const hc=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Vl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ln(e){if(Io(e),hc)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Vl[e[n]];return t}const We={_0:48,_9:57,A:65,F:70,a:97,f:102};function ki(e){if(e>=We._0&&e<=We._9)return e-We._0;if(e>=We.A&&e<=We.F)return e-(We.A-10);if(e>=We.a&&e<=We.f)return e-(We.a-10)}function vr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(hc)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=ki(e.charCodeAt(o)),a=ki(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function xt(e){return fc(Ln(e))}function pc(e){return Io(e),fc(Ln(Uint8Array.from(e).reverse()))}function Yn(e,t){return vr(e.toString(16).padStart(t*2,"0"))}function bc(e,t){return Yn(e,t).reverse()}function Se(e,t,n){let r;if(typeof t=="string")try{r=vr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Kn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function xr(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Io(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const as=e=>typeof e=="bigint"&&$o<=e;function Ao(e,t,n){return as(e)&&as(t)&&as(n)&&t<=e&&e<n}function Gt(e,t,n,r){if(!Ao(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Wl(e){let t;for(t=0;e>$o;e>>=Ms,t+=1);return t}const Fr=e=>(Ms<<BigInt(e))-Ms,cs=e=>new Uint8Array(e),_i=e=>Uint8Array.from(e);function Zl(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=cs(e),s=cs(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...l)=>n(s,r,...l),c=(l=cs(0))=>{s=a(_i([0]),l),r=a(),l.length!==0&&(s=a(_i([1]),l),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<t;){r=a();const h=r.slice();f.push(h),l+=r.length}return xr(...f)};return(l,f)=>{i(),c(l);let h;for(;!(h=f(u()));)c();return i(),h}}const Kl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Kn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Mr(e,t,n={}){const r=(s,o,i)=>{const a=Kl[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Ni(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Yl="0.1.1";function Jl(){return Yl}let W=class Ke extends Error{static setStaticOptions(t){Ke.prototype.docsOrigin=t.docsOrigin,Ke.prototype.showVersion=t.showVersion,Ke.prototype.version=t.version}constructor(t,n={}){const r=(()=>{var d;if(n.cause instanceof Ke){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof Ke&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??Ke.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??Ke.prototype.showVersion),c=n.version??Ke.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return mc(this,t)}};Object.defineProperty(W,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Jl()}`}});W.setStaticOptions(W.defaultStaticOptions);function mc(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?mc(e.cause,t):t?null:e}function Jn(e,t){if(Lt(e)>t)throw new bf({givenSize:Lt(e),maxSize:t})}const Ze={zero:48,nine:57,A:65,F:70,a:97,f:102};function Oi(e){if(e>=Ze.zero&&e<=Ze.nine)return e-Ze.zero;if(e>=Ze.A&&e<=Ze.F)return e-(Ze.A-10);if(e>=Ze.a&&e<=Ze.f)return e-(Ze.a-10)}function Xl(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new mf({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function yc(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function zr(e,t){if($e(e)>t)throw new Pf({givenSize:$e(e),maxSize:t})}function Ql(e,t){if(typeof t=="number"&&t>0&&t>$e(e)-1)throw new Ac({offset:t,position:"start",size:$e(e)})}function ef(e,t,n){if(typeof t=="number"&&typeof n=="number"&&$e(e)!==n-t)throw new Ac({offset:n,position:"end",size:$e(e)})}function gc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Ef({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const tf="#__bigint";function wc(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+tf:s,n)}const nf=new TextDecoder,rf=new TextEncoder;function sf(e){return e instanceof Uint8Array?e:typeof e=="string"?vc(e):of(e)}function of(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function vc(e,t={}){const{size:n}=t;let r=e;n&&(zr(e,n),r=Bt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Oi(s.charCodeAt(c++)),d=Oi(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new W(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u<<4|d}return i}function af(e,t={}){const{size:n}=t,r=rf.encode(e);return typeof n=="number"?(Jn(r,n),cf(r,n)):r}function cf(e,t){return Xl(e,{dir:"right",size:t})}function Lt(e){return e.length}function uf(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function df(e,t={}){const{size:n}=t;typeof n<"u"&&Jn(e,n);const r=Re(e,t);return Ec(r,t)}function lf(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Jn(r,n),r=xc(r)),r.length>1||r[0]>1)throw new pf(r);return!!r[0]}function Qe(e,t={}){const{size:n}=t;typeof n<"u"&&Jn(e,n);const r=Re(e,t);return $c(r,t)}function ff(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Jn(r,n),r=hf(r)),nf.decode(r)}function xc(e){return yc(e,{dir:"left"})}function hf(e){return yc(e,{dir:"right"})}class pf extends W{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let bf=class extends W{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},mf=class extends W{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const yf=new TextEncoder,gf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function wf(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ri(e);if(typeof e!="string")throw new Ri(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Fi(e);if(!e.startsWith("0x"))throw new Fi(e)}function Oe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function vf(e){return e instanceof Uint8Array?Re(e):Array.isArray(e)?Re(new Uint8Array(e)):e}function Pc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(zr(n,t.size),Ct(n,t.size)):n}function Re(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=gf[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(zr(r,t.size),Bt(r,t.size)):r}function fe(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Ic({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?Ct(c,r):c}function So(e,t={}){return Re(yf.encode(e),t)}function Ct(e,t){return gc(e,{dir:"left",size:t})}function Bt(e,t){return gc(e,{dir:"right",size:t})}function Ue(e,t,n,r={}){const{strict:s}=r;Ql(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&ef(o,t,n),o}function $e(e){return Math.ceil((e.length-2)/2)}function Ec(e,t={}){const{signed:n}=t;t.size&&zr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function $c(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Ec(e,t))}function xf(e,t={}){const{strict:n=!1}=t;try{return wf(e,{strict:n}),!0}catch{return!1}}class Ic extends W{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ri extends W{constructor(t){super(`Value \`${typeof t=="object"?wc(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Fi extends W{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Pf extends W{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ac extends W{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Ef extends W{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function $f(e){return{address:e.address,amount:fe(e.amount),index:fe(e.index),validatorIndex:fe(e.validatorIndex)}}function Sc(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:fe(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:fe(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:fe(e.gasLimit)},...typeof e.number=="bigint"&&{number:fe(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:fe(e.prevRandao)},...typeof e.time=="bigint"&&{time:fe(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map($f)}}}const If="0x82ad56cb",Cc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Af="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Sf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Co="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",us="/docs/contract/encodeDeployData";function Lr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new l0({docsPath:us});if(!("inputs"in s))throw new fi({docsPath:us});if(!s.inputs||s.inputs.length===0)throw new fi({docsPath:us});const o=_t(s.inputs,n);return Me([r,o])}class jt extends C{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(jt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Tt extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ge(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Tt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class zs extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ge(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ls extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Ls,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class js extends C{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Us extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ds extends C{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Gs extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Gs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class qs extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(qs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Hs extends C{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class jn extends C{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ge(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ge(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(jn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Xn extends C{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function jr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof C?e.walk(s=>(s==null?void 0:s.code)===jt.code):e;return r instanceof C?new jt({cause:e,message:r.details}):jt.nodeMessage.test(n)?new jt({cause:e,message:e.details}):Tt.nodeMessage.test(n)?new Tt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):zs.nodeMessage.test(n)?new zs({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ls.nodeMessage.test(n)?new Ls({cause:e,nonce:t==null?void 0:t.nonce}):js.nodeMessage.test(n)?new js({cause:e,nonce:t==null?void 0:t.nonce}):Us.nodeMessage.test(n)?new Us({cause:e,nonce:t==null?void 0:t.nonce}):Ds.nodeMessage.test(n)?new Ds({cause:e}):Gs.nodeMessage.test(n)?new Gs({cause:e,gas:t==null?void 0:t.gas}):qs.nodeMessage.test(n)?new qs({cause:e,gas:t==null?void 0:t.gas}):Hs.nodeMessage.test(n)?new Hs({cause:e}):jn.nodeMessage.test(n)?new jn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Xn({cause:e})}function Bc(e,{docsPath:t,...n}){const r=(()=>{const s=jr(e,n);return s instanceof Xn?e:s})();return new uc(r,{docsPath:t,...n})}function an(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Bo(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const a of n)delete i[a];return{...i,...r(s,o)}},type:e})}const Cf={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function pt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Bf(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ne(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=F(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=F(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=F(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=F(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=F(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=F(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Cf[e.type]),typeof e.value<"u"&&(n.value=F(e.value)),n}function Bf(e){return e.map(t=>({address:t.address,r:t.r?F(BigInt(t.r)):t.r,s:t.s?F(BigInt(t.s)):t.s,chainId:F(t.chainId),nonce:F(t.nonce),...typeof t.yParity<"u"?{yParity:F(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:F(t.v)}:{}}))}function To(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const ds=new Map;function Tc({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();i();const l=d.map(({args:f})=>f);l.length!==0&&e(l).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<d.length;h++){const{resolve:b}=d[h];b==null||b([f[h],f])}}).catch(f=>{for(let h=0;h<d.length;h++){const{reject:b}=d[h];b==null||b(f)}})},i=()=>ds.delete(t),a=()=>c().map(({args:d})=>d),c=()=>ds.get(t)||[],u=d=>ds.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:l,resolve:f,reject:h}=To();return(n==null?void 0:n([...a(),d]))&&o(),c().length>0?(u({args:d,resolve:f,reject:h}),l):(u({args:d,resolve:f,reject:h}),setTimeout(o,r),l)}}}function Mi(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new bi({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new bi({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Tf(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=F(t)),n!==void 0&&(i.nonce=F(n)),r!==void 0&&(i.state=Mi(r)),s!==void 0){if(i.state)throw new Sl;i.stateDiff=Mi(s)}return i}function ko(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!re(n,{strict:!1}))throw new pe({address:n});if(t[n])throw new Al({address:n});t[n]=Tf(r)}return t}const Ur=2n**256n-1n;function st(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?X(t):void 0;if(o&&!re(o.address))throw new pe({address:o.address});if(s&&!re(s))throw new pe({address:s});if(n&&n>Ur)throw new Tt({maxFeePerGas:n});if(r&&n&&r>n)throw new jn({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function Qn(e,t){var _,H,S,O;const{account:n=e.account,authorizationList:r,batch:s=!!((_=e.batch)!=null&&_.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:d,data:l,factory:f,factoryData:h,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:y,to:w,value:g,stateOverride:P,...x}=t,$=n?X(n):void 0;if(d&&(f||h))throw new C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&w)throw new C("Cannot provide both `code` & `to` as parameters.");const I=d&&l,M=f&&h&&w&&l,B=I||M,R=I?kc({code:d,data:l}):M?Nf({data:l,factory:f,factoryData:h,to:w}):l;try{st(t);const k=(typeof o=="bigint"?F(o):void 0)||i,L=u?Sc(u):void 0,U=ko(P),T=(O=(S=(H=e.chain)==null?void 0:H.formatters)==null?void 0:S.transactionRequest)==null?void 0:O.format,K=(T||pt)({...an(x,{format:T}),accessList:a,account:$,authorizationList:r,blobs:c,data:R,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:y,to:B?void 0:w,value:g},"call");if(s&&kf({request:K})&&!U&&!L)try{return await _f(e,{...K,blockNumber:o,blockTag:i})}catch(Q){if(!(Q instanceof nc)&&!(Q instanceof Os))throw Q}const Y=(()=>{const Q=[K,k];return U&&L?[...Q,U,L]:U?[...Q,U]:L?[...Q,{},L]:Q})(),J=await e.request({method:"eth_call",params:Y});return J==="0x"?{data:void 0}:{data:J}}catch(z){const k=Of(z),{offchainLookup:L,offchainLookupSignature:U}=await ha(async()=>{const{offchainLookup:T,offchainLookupSignature:N}=await import("./hBpi3ciK.js");return{offchainLookup:T,offchainLookupSignature:N}},__vite__mapDeps([0,1]),import.meta.url);if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===U&&w)return{data:await L(e,{data:k,to:w})};throw B&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new Fl({factory:f}):Bc(z,{...t,account:$,chain:e.chain})}}function kf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(If)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function _f(e,t){var p;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return on({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new nc})(),l=(typeof o=="bigint"?F(o):void 0)||i,{schedule:f}=Tc({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(m){return m.reduce((E,{data:y})=>E+(y.length-2),0)>n*2},fn:async m=>{const v=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),E=ve({abi:Ht,args:[v],functionName:"aggregate3"}),y=await e.request({method:"eth_call",params:[{...u===null?{data:kc({code:Co,data:E})}:{to:u,data:E}},l]});return ht({abi:Ht,args:[v],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:b}]=await f({data:a,to:c});if(!b)throw new Or({data:h});return h==="0x"?{data:void 0}:{data:h}}function kc(e){const{code:t,data:n}=e;return Lr({abi:Qa(["constructor(bytes, bytes)"]),bytecode:Cc,args:[t,n]})}function Nf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Lr({abi:Qa(["constructor(address, bytes, address, bytes)"]),bytecode:Af,args:[s,t,n,r]})}function Of(e){var n;if(!(e instanceof C))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ke(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=ve({abi:n,args:s,functionName:o});try{const{data:c}=await j(e,Qn,"call")({...i,data:a,to:r});return ht({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw St(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Rf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return on({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;const l=s!=null?[Fs(o),BigInt(s)]:[Fs(o)];try{const f=ve({abi:di,functionName:"addr",args:l}),h={address:u,abi:wa,functionName:"resolveWithGateways",args:[ye(Po(o)),f,i??[Rr]],blockNumber:n,blockTag:r},p=await j(e,ke,"readContract")(h);if(p[0]==="0x")return null;const m=ht({abi:di,args:l,functionName:"addr",data:p[0]});return m==="0x"||Be(m)==="0x00"?null:m}catch(f){if(a)throw f;if(xo(f))return null;throw f}}class Ff extends C{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class bn extends C{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class _o extends C{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Mf extends C{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const zf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Lf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,jf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Uf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Df(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function zi(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function _c({uri:e,gatewayUrls:t}){const n=jf.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=zi(t==null?void 0:t.ipfs,"https://ipfs.io"),s=zi(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(zf),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=i==="ipns:/"||a==="ipns/",l=i==="ipfs:/"||a==="ipfs/"||Lf.test(e);if(e.startsWith("http")&&!d&&!l){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Uf,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new _o({uri:e})}function Nc(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ff({data:e});return e.image||e.image_url||e.image_data}async function Gf({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await No({gatewayUrls:e,uri:Nc(n)})}catch{throw new _o({uri:t})}}async function No({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=_c({uri:t,gatewayUrls:e});if(r||await Df(n))return n;throw new _o({uri:t})}function qf(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new bn({reason:"Only EIP-155 supported"});if(!i)throw new bn({reason:"Chain ID not found"});if(!c)throw new bn({reason:"Contract address not found"});if(!s)throw new bn({reason:"Token ID not found"});if(!a)throw new bn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Hf(e,{nft:t}){if(t.namespace==="erc721")return ke(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ke(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Mf({namespace:t.namespace})}async function Vf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Wf(e,{gatewayUrls:t,record:n}):No({uri:n,gatewayUrls:t})}async function Wf(e,{gatewayUrls:t,record:n}){const r=qf(n),s=await Hf(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=_c({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return No({uri:Nc(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Gf({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Oc(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return on({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(l=>o.endsWith(l)))return null;try{const l={address:u,abi:wa,args:[ye(Po(o)),ve({abi:ui,functionName:"text",args:[Fs(o),s]}),i??[Rr]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await j(e,ke,"readContract")(l);if(h[0]==="0x")return null;const b=ht({abi:ui,functionName:"text",data:h[0]});return b===""?null:b}catch(l){if(a)throw l;if(xo(l))return null;throw l}}async function Zf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await j(e,Oc,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Vf(e,{record:c,gatewayUrls:r})}catch{return null}}async function Kf(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return on({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:u0,args:[n,o,i??[Rr]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=j(e,ke,"readContract"),[f]=await l(d);return f||null}catch(d){if(a)throw d;if(xo(d))return null;throw d}}async function Yf(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return on({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await j(e,ke,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ye(Po(s))],blockNumber:n,blockTag:r});return c}async function Rc(e,t){var m,v,E;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:h,...b}=t,p=n?X(n):void 0;try{st(t);const w=(typeof r=="bigint"?F(r):void 0)||s,g=(E=(v=(m=e.chain)==null?void 0:m.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,x=(g||pt)({...an(b,{format:g}),account:p,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:h},"createAccessList"),$=await e.request({method:"eth_createAccessList",params:[x,w]});return{accessList:$.accessList,gasUsed:BigInt($.gasUsed)}}catch(y){throw Bc(y,{...t,account:p,chain:e.chain})}}function Dr(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),(o=>n[o]||e.request)}async function Jf(e){const t=Dr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Xf extends C{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Li="/docs/contract/encodeEventTopics";function er(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Nt({abi:t,name:n});if(!u)throw new pi(n,{docsPath:Li});s=u}if(s.type!=="event")throw new pi(void 0,{docsPath:Li});const o=Ne(s),i=kr(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(l=>"indexed"in l&&l.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(l=>r[l.name]))??[]:[];d.length>0&&(a=(u==null?void 0:u.map((l,f)=>Array.isArray(d[f])?d[f].map((h,b)=>ji({param:l,value:d[f][b]})):typeof d[f]<"u"&&d[f]!==null?ji({param:l,value:d[f]}):null))??[])}return[i,...a]}function ji({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ce(nn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Xf(e.type);return _t([e],[t])}async function Fc(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Dr(e,{method:"eth_newFilter"}),d=o?er({abi:r,args:s,eventName:o}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?F(i):i,toBlock:typeof c=="bigint"?F(c):c,topics:d}]});return{abi:r,args:s,eventName:o,id:l,request:u(l),strict:!!a,type:"event"}}async function Mc(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Dr(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(h=>er({abi:[h],eventName:h.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?F(o):o,toBlock:typeof a=="bigint"?F(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:l,request:u(l),strict:!!i,toBlock:a,type:"event"}}async function zc(e){const t=Dr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function Qf(e){const t=ce(`0x${e.substring(4)}`).substring(26);return Hn(`0x${t}`)}async function eh({hash:e,signature:t}){const n=De(e)?e:ye(e),{secp256k1:r}=await ha(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>g1);return{secp256k1:i}},void 0,import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:f}=t,h=Number(f??l),b=Ui(h);return new r.Signature(ie(u),ie(d)).addRecoveryBit(b)}const i=De(t)?t:ye(t);if(ee(i)!==65)throw new Error("invalid signature length");const a=Te(`0x${i.slice(130)}`),c=Ui(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ui(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Lc({hash:e,signature:t}){return Qf(await eh({hash:e,signature:t}))}function ft(e,t="hex"){const n=jc(e),r=bo(new Uint8Array(n.length));return n.encode(r),t==="hex"?ne(r.bytes):r.bytes}function jc(e){return Array.isArray(e)?th(e.map(t=>jc(t))):nh(e)}function th(e){const t=e.reduce((s,o)=>s+o.length,0),n=Uc(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function nh(e){const t=typeof e=="string"?Ge(e):e,n=Uc(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Uc(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new C("Length is too large.")}function rh(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=ce(Me(["0x05",ft([t?F(t):"0x",s,n?F(n):"0x"])]));return r==="bytes"?Ge(o):o}async function Gr(e){const{authorization:t,signature:n}=e;return Lc({hash:rh(t),signature:n??t})}class sh extends C{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var b;const h=Zn({from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${Nr(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ge(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ge(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ge(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function oh(e,{docsPath:t,...n}){const r=(()=>{const s=jr(e,n);return s instanceof Xn?e:s})();return new sh(r,{docsPath:t,...n})}class Dc extends C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Oo extends C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class ih extends C{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ge(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Gc extends C{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const qc={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function tr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Te(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Te(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?qc[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=ch(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const ah=Bo("transaction",tr);function ch(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Ro(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:tr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const uh=Bo("block",Ro);async function _e(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,l;const o=s??!1,i=n!==void 0?F(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new Gc({blockHash:t,blockNumber:n});return(((l=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:l.format)||Ro)(a,"getBlock")}async function Fo(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function dh(e,t){return Hc(e,t)}async function Hc(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await j(e,_e,"getBlock")({}),d=await a({block:u,client:e,request:s});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ie(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):j(e,_e,"getBlock")({}),j(e,Fo,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Oo;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function lh(e,t){return Vs(e,t)}async function Vs(e,t){var f,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var b,p;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(i<1)throw new Dc;const c=10**(((f=i.toString().split(".")[1])==null?void 0:f.length)??0),u=b=>b*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await j(e,_e,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(b!==null)return b}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Oo;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Hc(e,{block:d,chain:r,request:s}),p=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await j(e,Fo,"getGasPrice")({}))}}async function Mo(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?F(r):n]},{dedupe:!!r});return Te(s)}function zo(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ge(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>ne(o))}function Lo(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ge(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ge(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>ne(i))}function fh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function hh(e,t,n){return e&t^~e&n}function ph(e,t,n){return e&t^e&n^t&n}class bh extends ho{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=es(this.buffer)}update(t){Zt(this),t=Br(t),Et(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=es(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Zt(this),Ta(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Kt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;fh(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=es(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,d[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const ot=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),it=new Uint32Array(64);class yh extends bh{constructor(t=32){super(64,t,8,!1),this.A=ot[0]|0,this.B=ot[1]|0,this.C=ot[2]|0,this.D=ot[3]|0,this.E=ot[4]|0,this.F=ot[5]|0,this.G=ot[6]|0,this.H=ot[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)it[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const f=it[l-15],h=it[l-2],b=ze(f,7)^ze(f,18)^f>>>3,p=ze(h,17)^ze(h,19)^h>>>10;it[l]=p+it[l-7]+b+it[l-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:d}=this;for(let l=0;l<64;l++){const f=ze(a,6)^ze(a,11)^ze(a,25),h=d+f+hh(a,c,u)+mh[l]+it[l]|0,p=(ze(r,2)^ze(r,13)^ze(r,22))+ph(r,s,o)|0;d=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,c,u,d)}roundClean(){Kt(it)}destroy(){this.set(0,0,0,0,0,0,0,0),Kt(this.buffer)}}const Vc=ka(()=>new yh),gh=Vc;function wh(e,t){return gh(De(e,{strict:!1})?nn(e):e)}function vh(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=wh(t);return s.set([n],0),r==="bytes"?s:ne(s)}function Wc(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(vh({commitment:o,to:r,version:n}));return s}const Di=6,Zc=32,jo=4096,Kc=Zc*jo,Gi=Kc*Di-1-1*jo*Di,Yc=1;class xh extends C{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Jc extends C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Ph extends C{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Eh extends C{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Yc}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function $h(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ge(e.data):e.data,r=ee(n);if(!r)throw new Jc;if(r>Gi)throw new xh({maxSize:Gi,size:r});const s=[];let o=!0,i=0;for(;o;){const a=bo(new Uint8Array(Kc));let c=0;for(;c<jo;){const u=n.slice(i,i+(Zc-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>ne(a.bytes))}function Xc(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??$h({data:t,to:r}),o=e.commitments??zo({blobs:s,kzg:n,to:r}),i=e.proofs??Lo({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Qc(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Tl({transaction:e})}function qr(e,{docsPath:t,...n}){const r=(()=>{const s=jr(e,n);return s instanceof Xn?e:s})();return new _l(r,{docsPath:t,...n})}async function bt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Te(t)}async function Uo(e,t){var $,I,M,B,R;const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:b,nonceManager:p,to:m,type:v,value:E,...y}=t,w=await(async()=>{if(!n||!p||typeof b<"u")return b;const _=X(n),H=o?o.id:await j(e,bt,"getChainId")({});return await p.consume({address:_.address,chainId:H,client:e})})();st(t);const g=(I=($=o==null?void 0:o.formatters)==null?void 0:$.transactionRequest)==null?void 0:I.format,x=(g||pt)({...an(y,{format:g}),account:n?X(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:w,to:m,type:v,value:E},"fillTransaction");try{const _=await e.request({method:"eth_fillTransaction",params:[x]}),S=(((B=(M=o==null?void 0:o.formatters)==null?void 0:M.transaction)==null?void 0:B.format)||tr)(_.tx);delete S.blockHash,delete S.blockNumber,delete S.r,delete S.s,delete S.transactionIndex,delete S.v,delete S.yParity,S.data=S.input,S.gas&&(S.gas=t.gas??S.gas),S.gasPrice&&(S.gasPrice=t.gasPrice??S.gasPrice),S.maxFeePerBlobGas&&(S.maxFeePerBlobGas=t.maxFeePerBlobGas??S.maxFeePerBlobGas),S.maxFeePerGas&&(S.maxFeePerGas=t.maxFeePerGas??S.maxFeePerGas),S.maxPriorityFeePerGas&&(S.maxPriorityFeePerGas=t.maxPriorityFeePerGas??S.maxPriorityFeePerGas),S.nonce&&(S.nonce=t.nonce??S.nonce);const O=await(async()=>{var U,T;if(typeof((U=o==null?void 0:o.fees)==null?void 0:U.baseFeeMultiplier)=="function"){const N=await j(e,_e,"getBlock")({});return o.fees.baseFeeMultiplier({block:N,client:e,request:t})}return((T=o==null?void 0:o.fees)==null?void 0:T.baseFeeMultiplier)??1.2})();if(O<1)throw new Dc;const k=10**(((R=O.toString().split(".")[1])==null?void 0:R.length)??0),L=U=>U*BigInt(Math.ceil(O*k))/BigInt(k);return S.maxFeePerGas&&!t.maxFeePerGas&&(S.maxFeePerGas=L(S.maxFeePerGas)),S.gasPrice&&!t.gasPrice&&(S.gasPrice=L(S.gasPrice)),{raw:_.raw,transaction:{from:x.from,...S}}}catch(_){throw qr(_,{...t,chain:e.chain})}}const Do=["blobVersionedHashes","chainId","fees","gas","nonce","type"],qi=new Map,ls=new rn(128);async function nr(e,t){var w,g,P;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=Do);const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await j(e,bt,"getChainId")({}),c))}const d=r&&X(r);let l=n.nonce;if(i.includes("nonce")&&typeof l>"u"&&d&&o){const x=await u();l=await o.consume({address:d.address,chainId:x,client:e})}a!=null&&a.fn&&((w=a.runAt)!=null&&w.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),l??(l=n.nonce));const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||ls.get(e.uid)===!1||!["fees","gas"].some($=>i.includes($))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof l!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await j(e,Uo,"fillTransaction")({...n,nonce:l}).then(x=>{const{chainId:$,from:I,gas:M,gasPrice:B,nonce:R,maxFeePerBlobGas:_,maxFeePerGas:H,maxPriorityFeePerGas:S,type:O,...z}=x.transaction;return ls.set(e.uid,!0),{...n,...I?{from:I}:{},...O?{type:O}:{},...typeof $<"u"?{chainId:$}:{},...typeof M<"u"?{gas:M}:{},...typeof B<"u"?{gasPrice:B}:{},...typeof R<"u"?{nonce:R}:{},...typeof _<"u"?{maxFeePerBlobGas:_}:{},...typeof H<"u"?{maxFeePerGas:H}:{},...typeof S<"u"?{maxPriorityFeePerGas:S}:{},..."nonceKey"in z&&typeof z.nonceKey<"u"?{nonceKey:z.nonceKey}:{}}}).catch(x=>{var M;const $=x;return $.name!=="TransactionExecutionError"||((M=$.walk)==null?void 0:M.call($,B=>{const R=B;return R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"}))&&ls.set(e.uid,!1),n}):n;l??(l=h.nonce),n={...h,...d?{from:d==null?void 0:d.address}:{},...l?{nonce:l}:{}};const{blobs:b,gas:p,kzg:m,type:v}=n;a!=null&&a.fn&&((g=a.runAt)!=null&&g.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let E;async function y(){return E||(E=await j(e,_e,"getBlock")({blockTag:"latest"}),E)}if(i.includes("nonce")&&typeof l>"u"&&d&&!o&&(n.nonce=await j(e,Mo,"getTransactionCount")({address:d.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&b&&m){const x=zo({blobs:b,kzg:m});if(i.includes("blobVersionedHashes")){const $=Wc({commitments:x,to:"hex"});n.blobVersionedHashes=$}if(i.includes("sidecars")){const $=Lo({blobs:b,commitments:x,kzg:m}),I=Xc({blobs:b,commitments:x,proofs:$,to:"hex"});n.sidecars=I}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof v>"u")try{n.type=Qc(n)}catch{let x=qi.get(e.uid);if(typeof x>"u"){const $=await y();x=typeof($==null?void 0:$.baseFeePerGas)=="bigint",qi.set(e.uid,x)}n.type=x?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const x=await y(),{maxFeePerGas:$,maxPriorityFeePerGas:I}=await Vs(e,{block:x,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<I)throw new ih({maxPriorityFeePerGas:I});n.maxPriorityFeePerGas=I,n.maxFeePerGas=$}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Oo;if(typeof n.gasPrice>"u"){const x=await y(),{gasPrice:$}=await Vs(e,{block:x,chain:s,request:n,type:"legacy"});n.gasPrice=$}}return i.includes("gas")&&typeof p>"u"&&(n.gas=await j(e,Go,"estimateGas")({...n,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((P=a.runAt)!=null&&P.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),st(n),delete n.parameters,n}async function Go(e,t){var i,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?X(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await Gr({authorization:t.authorizationList[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:l,blobs:f,blobVersionedHashes:h,blockNumber:b,blockTag:p,data:m,gas:v,gasPrice:E,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:g,nonce:P,value:x,stateOverride:$,...I}=r?await nr(e,{...t,parameters:o,to:u}):t;if(v&&t.gas!==v)return v;const B=(typeof b=="bigint"?F(b):void 0)||p,R=ko($);st(t);const _=(c=(a=(i=e.chain)==null?void 0:i.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,S=(_||pt)({...an(I,{format:_}),account:s,accessList:d,authorizationList:l,blobs:f,blobVersionedHashes:h,data:m,gasPrice:E,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:g,nonce:P,to:u,value:x},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:R?[S,B??e.experimental_blockTag??"latest",R]:B?[S,B]:[S]}))}catch(u){throw oh(u,{...t,account:s,chain:e.chain})}}async function Ih(e,t){var u;const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:(u=e.dataSuffix)==null?void 0:u.value,...a}=t,c=ve({abi:n,args:s,functionName:o});try{return await j(e,Go,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(d){const l=a.account?X(a.account):void 0;throw St(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:l==null?void 0:l.address})}}async function Ah(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){var i,a,c;if((i=e.batch)!=null&&i.multicall&&((c=(a=e.chain)==null?void 0:a.contracts)!=null&&c.multicall3)){const u=e.chain.contracts.multicall3.address,d=ve({abi:Ht,functionName:"getEthBalance",args:[t]}),{data:l}=await j(e,Qn,"call")({to:u,data:d,blockNumber:n,blockTag:r});return ht({abi:Ht,functionName:"getEthBalance",args:[t],data:l||"0x"})}const s=typeof n=="bigint"?F(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Sh(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const Ch=new Map,Bh=new Map;function Th(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Ch),r=t(e,Bh);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function kh(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Th(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const _h=e=>`blockNumber.${e}`;async function rr(e,{cacheTime:t=e.cacheTime}={}){const n=await kh(()=>e.request({method:"eth_blockNumber"}),{cacheKey:_h(e.uid),cacheTime:t});return BigInt(n)}async function Nh(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?F(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Te(o)}async function Ws(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?F(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function sr(e,t){if(!re(e,{strict:!1}))throw new pe({address:e});if(!re(t,{strict:!1}))throw new pe({address:t});return e.toLowerCase()===t.toLowerCase()}const Hi="/docs/contract/decodeEventLog";function Pr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new m0({docsPath:Hi});const c=t.find(v=>v.type==="event"&&i===kr(Ne(v)));if(!(c&&"name"in c)||c.type!=="event")throw new y0(i,{docsPath:Hi});const{name:u,inputs:d}=c,l=d==null?void 0:d.some(v=>!("name"in v&&v.name)),f=l?[]:{},h=d.map((v,E)=>[v,E]).filter(([v])=>"indexed"in v&&v.indexed),b=[];for(let v=0;v<h.length;v++){const[E,y]=h[v],w=a[v];if(!w){if(o)throw new lo({abiItem:c,param:E});b.push([E,y]);continue}f[l?y:E.name||y]=Oh({param:E,value:w})}const p=d.filter(v=>!("indexed"in v&&v.indexed)),m=o?p:[...b.map(([v])=>v),...p];if(m.length>0){if(n&&n!=="0x")try{const v=Vn(m,n);if(v){let E=0;if(!o)for(const[y,w]of b)f[l?w:y.name||w]=v[E++];if(l)for(let y=0;y<d.length;y++)f[y]===void 0&&E<v.length&&(f[y]=v[E++]);else for(let y=0;y<p.length;y++)f[p[y].name]=v[E++]}}catch(v){if(o)throw v instanceof Ea||v instanceof Ma?new gr({abiItem:c,data:n,params:m,size:ee(n)}):v}else if(o)throw new gr({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Oh({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Vn([e],t)||[])[0]}function qo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:kr(a)}));return r.map(a=>{var l;const c=i.filter(f=>a.topics[0]===f.selector);if(c.length===0)return null;let u,d;for(const f of c)try{u=Pr({...a,abi:[f.abi],strict:!0}),d=f;break}catch{}if(!u&&!s){d=c[0];try{u=Pr({data:a.data,topics:a.topics,abi:[d.abi],strict:!1})}catch{const f=(l=d.abi.inputs)==null?void 0:l.some(h=>!("name"in h&&h.name));return{...a,args:f?[]:{},eventName:d.abi.name}}}return!u||!d||o&&!o.includes(u.eventName)||!Rh({args:u.args,inputs:d.abi.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function Rh(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?sr(i,a):o.type==="string"||o.type==="bytes"?ce(nn(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function tt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Ho(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,d=i??(o?[o]:void 0);let l=[];d&&(l=[d.flatMap(p=>er({abi:[p],eventName:p.name,args:i?void 0:a}))],o&&(l=l[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?F(r):r,toBlock:typeof s=="bigint"?F(s):s}]});const h=f.map(b=>tt(b));return d?qo({abi:d,args:a,logs:h,strict:u}):h}async function eu(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,d=i?Nt({abi:n,name:i}):void 0,l=d?void 0:n.filter(f=>f.type==="event");return j(e,Ho,"getLogs")({address:r,args:s,blockHash:o,event:d,events:l,fromBlock:a,toBlock:c,strict:u})}class Fh extends C{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Mh(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,d,l]=await j(e,ke,"readContract")({abi:zh,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:d},extensions:l,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Fh({address:n}):i}}const zh=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Lh(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function jh(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?F(n):void 0,i=await e.request({method:"eth_feeHistory",params:[F(t),o||r,s]},{dedupe:!!o});return Lh(i)}async function Hr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>tt(o));return!("abi"in t)||!t.abi?s:qo({abi:t.abi,logs:s,strict:n})}async function Uh(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>tt(o));return t.abi?qo({abi:t.abi,logs:s,strict:n}):s}function Dh(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!re(s))throw new pe({address:s});if(r<0)throw new _r({chainId:r})}Vo(e)}function Gh(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Jc;for(const n of t){const r=ee(n),s=Te($t(n,0,1));if(r!==32)throw new Ph({hash:n,size:r});if(s!==Yc)throw new Eh({hash:n,version:s})}}Vo(e)}function Vo(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new _r({chainId:t});if(s&&!re(s))throw new pe({address:s});if(r&&r>Ur)throw new Tt({maxFeePerGas:r});if(n&&r&&n>r)throw new jn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function qh(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new _r({chainId:t});if(o&&!re(o))throw new pe({address:o});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Ur)throw new Tt({maxFeePerGas:r})}function Hh(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!re(o))throw new pe({address:o});if(typeof t<"u"&&t<=0)throw new _r({chainId:t});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Ur)throw new Tt({maxFeePerGas:r})}function Vr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new kl({storageKey:s[o]});if(!re(r,{strict:!1}))throw new pe({address:r});t.push([r,s])}return t}function Vh(e,t){const n=Qc(e);return n==="eip1559"?Kh(e,t):n==="eip2930"?Yh(e,t):n==="eip4844"?Zh(e,t):n==="eip7702"?Wh(e,t):Jh(e,t)}function Wh(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;Dh(e);const f=Vr(d),h=Xh(n);return Me(["0x04",ft([F(r),o?F(o):"0x",u?F(u):"0x",c?F(c):"0x",s?F(s):"0x",i??"0x",a?F(a):"0x",l??"0x",f,h,...or(e,t)])])}function Zh(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;Gh(e);let f=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof f>"u"||typeof h>"u")){const y=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(P=>ne(P)),w=e.kzg,g=zo({blobs:y,kzg:w});if(typeof f>"u"&&(f=Wc({commitments:g})),typeof h>"u"){const P=Lo({blobs:y,commitments:g,kzg:w});h=Xc({blobs:y,commitments:g,proofs:P})}}const b=Vr(d),p=[F(n),s?F(s):"0x",u?F(u):"0x",c?F(c):"0x",r?F(r):"0x",o??"0x",i?F(i):"0x",l??"0x",b,a?F(a):"0x",f??[],...or(e,t)],m=[],v=[],E=[];if(h)for(let y=0;y<h.length;y++){const{blob:w,commitment:g,proof:P}=h[y];m.push(w),v.push(g),E.push(P)}return Me(["0x03",ft(h?[p,m,v,E]:p)])}function Kh(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:d}=e;Vo(e);const l=Vr(u),f=[F(n),s?F(s):"0x",c?F(c):"0x",a?F(a):"0x",r?F(r):"0x",o??"0x",i?F(i):"0x",d??"0x",l,...or(e,t)];return Me(["0x02",ft(f)])}function Yh(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;qh(e);const d=Vr(c),l=[F(n),o?F(o):"0x",u?F(u):"0x",r?F(r):"0x",i??"0x",a?F(a):"0x",s??"0x",d,...or(e,t)];return Me(["0x01",ft(l)])}function Jh(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;Hh(e);let u=[o?F(o):"0x",c?F(c):"0x",r?F(r):"0x",i??"0x",a?F(a):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Bl({v:t.v});return h})(),l=Be(t.r),f=Be(t.s);u=[...u,F(d),l==="0x00"?"0x":l,f==="0x00"?"0x":f]}else n>0&&(u=[...u,F(n),"0x","0x"]);return ft(u)}function or(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Be(n.r),i=Be(n.s);return[typeof s=="number"?s?F(1):"0x":r===0n?"0x":r===1n?F(1):r===27n?"0x":F(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Xh(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?ye(r):"0x",i,s?ye(s):"0x",...or({},o)])}return t}async function Qh({address:e,authorization:t,signature:n}){return sr(ct(e),await Gr({authorization:t,signature:n}))}const ur=new rn(8192);function ep(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(ur.get(n))return ur.get(n);const r=e().finally(()=>ur.delete(n));return ur.set(n,r),r}async function Zs(e){return new Promise(t=>setTimeout(t,e))}function Un(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await Zs(d),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function tp(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((l=o==null?void 0:o.exclude)!=null&&l.includes(u))throw new gt(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new gt(new Error("method not supported"),{method:u});const d=s?Wt(`${c}.${se(n)}`):void 0;return ep(()=>Un(async()=>{try{return await e(n)}catch(f){const h=f;switch(h.code){case xn.code:throw new xn(h);case Pn.code:throw new Pn(h);case En.code:throw new En(h,{method:n.method});case $n.code:throw new $n(h);case It.code:throw new It(h);case lt.code:throw new lt(h);case In.code:throw new In(h);case dt.code:throw new dt(h);case An.code:throw new An(h);case gt.code:throw new gt(h,{method:n.method});case Yt.code:throw new Yt(h);case Sn.code:throw new Sn(h);case le.code:throw new le(h);case Cn.code:throw new Cn(h);case Bn.code:throw new Bn(h);case Tn.code:throw new Tn(h);case kn.code:throw new kn(h);case At.code:throw new At(h);case Jt.code:throw new Jt(h);case _n.code:throw new _n(h);case Nn.code:throw new Nn(h);case On.code:throw new On(h);case Rn.code:throw new Rn(h);case Fn.code:throw new Fn(h);case Xt.code:throw new Xt(h);case 5e3:throw new le(h);case Mn.code:throw new Mn(h);default:throw f instanceof C?f:new ql(h)}}},{delay:({count:f,error:h})=>{var b;if(h&&h instanceof yn){const p=(b=h==null?void 0:h.headers)==null?void 0:b.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<f)*i},retryCount:a,shouldRetry:({error:f})=>np(f)}),{enabled:s,id:d})}}function np(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Yt.code||e.code===It.code:e instanceof yn&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Wo({chain:e,currentChainId:t}){if(!e)throw new vl;if(t!==e.id)throw new wl({chain:e,currentChainId:t})}function tu(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}const nu={"0x0":"reverted","0x1":"success"};function Zo(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>tt(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Te(e.transactionIndex):null,status:e.status?nu[e.status]:null,type:e.type?qc[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const rp=Bo("transactionReceipt",Zo);function ru(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function sp(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Vi=sp();function op(e,t={}){const{url:n,headers:r}=ip(e);return{async request(s){var b;const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,d={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:l,method:f,signal:h}=d;try{const p=await ru(async({signal:v})=>{const E={...d,body:Array.isArray(o)?se(o.map(P=>({jsonrpc:"2.0",id:P.id??Vi.take(),...P}))):se({jsonrpc:"2.0",id:o.id??Vi.take(),...o}),headers:{...r,"Content-Type":"application/json",...l},method:f||"POST",signal:h||(u>0?v:null)},y=new Request(n,E),w=await(a==null?void 0:a(y,E))??{...E,url:n};return await i(w.url??n,w)},{errorInstance:new Ti({body:o,url:n}),timeout:u,signal:!0});c&&await c(p);let m;if((b=p.headers.get("Content-Type"))!=null&&b.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(v){if(p.ok)throw v;m={error:m}}}if(!p.ok)throw new yn({body:o,details:se(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof yn||p instanceof Ti?p:new yn({body:o,cause:p,url:n})}}}}function ip(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const ap=`Ethereum Signed Message:
`;function cp(e){const t=typeof e=="string"?Wt(e):typeof e.raw=="string"?e.raw:ne(e.raw),n=Wt(`${ap}${ee(t)}`);return de([n,t])}function su(e,t){return ce(cp(e),t)}class up extends C{constructor({domain:t}){super(`Invalid domain "${se(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class dp extends C{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class lp extends C{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function fp(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const d={...u};for(const l of c){const{name:f,type:h}=l;h==="address"&&(d[f]=d[f].toLowerCase())}return d},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return se({domain:i,message:a,primaryType:r,types:s})}function ou(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:d}=c,l=a[u],f=d.match(Ua);if(f&&(typeof l=="number"||typeof l=="bigint")){const[p,m,v]=f;F(l,{signed:m==="int",size:Number.parseInt(v,10)/8})}if(d==="address"&&typeof l=="string"&&!re(l))throw new pe({address:l});const h=d.match(ld);if(h){const[p,m]=h;if(m&&ee(l)!==Number.parseInt(m,10))throw new v0({expectedSize:Number.parseInt(m,10),givenSize:ee(l)})}const b=s[d];b&&(hp(d),o(b,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new up({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new dp({primaryType:r,types:s})}function iu({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function hp(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new lp({type:e})}function pp(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:iu({domain:t}),...e.types};ou({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(bp({domain:t,types:s})),r!=="EIP712Domain"&&o.push(au({data:n,primaryType:r,types:s})),ce(de(o))}function bp({domain:e,types:t}){return au({data:e,primaryType:"EIP712Domain",types:t})}function au({data:e,primaryType:t,types:n}){const r=cu({data:e,primaryType:t,types:n});return ce(r)}function cu({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[mp({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=du({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return _t(r,s)}function mp({primaryType:e,types:t}){const n=ye(yp({primaryType:e,types:t}));return ce(n)}function yp({primaryType:e,types:t}){let n="";const r=uu({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function uu({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])uu({primaryType:o.type,types:t},n);return n}function du({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ce(cu({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},ce(r)];if(n==="string")return[{type:"bytes32"},ce(ye(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>du({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ce(_t(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class gp extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const wp={checksum:new gp(8192)},fs=wp.checksum;class lu extends ho{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,U0(t);const r=Br(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Kt(o)}update(t){return Zt(this),this.iHash.update(t),this}digestInto(t){Zt(this),Et(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fu=(e,t,n)=>new lu(e,t).update(n).digest();fu.create=(e,t)=>new lu(e,t);function hu(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Fa(sf(e));return n==="Bytes"?r:Re(r)}const vp=/^0x[a-fA-F0-9]{40}$/;function Wr(e,t={}){const{strict:n=!0}=t;if(!vp.test(e))throw new Wi({address:e,cause:new xp});if(n){if(e.toLowerCase()===e)return;if(pu(e)!==e)throw new Wi({address:e,cause:new Pp})}}function pu(e){if(fs.has(e))return fs.get(e);Wr(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=hu(af(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return fs.set(e,s),s}function Ks(e,t={}){const{strict:n=!0}=t??{};try{return Wr(e,{strict:n}),!0}catch{return!1}}class Wi extends W{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class xp extends W{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Pp extends W{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Ep=/^(.*)\[([0-9]*)\]$/,$p=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Zi=2n**256n-1n;function qt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Jo(t.type);if(o){const[i,a]=o;return Ap(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Tp(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Ip(e,{checksum:r});if(t.type==="bool")return Sp(e);if(t.type.startsWith("bytes"))return Cp(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Bp(e,t);if(t.type==="string")return kp(e,{staticPosition:s});throw new Qo(t.type)}const Ki=32,Ys=32;function Ip(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?pu(o):o)(Re(uf(r,-20))),32]}function Ap(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Qe(e.readBytes(Ys)),u=o+c,d=u+Ki;e.setPosition(u);const l=Qe(e.readBytes(Ki)),f=Dn(t);let h=0;const b=[];for(let p=0;p<l;++p){e.setPosition(d+(f?p*32:h));const[m,v]=qt(e,t,{checksumAddress:r,staticPosition:d});h+=v,b.push(m)}return e.setPosition(o+32),[b,32]}if(Dn(t)){const c=Qe(e.readBytes(Ys)),u=o+c,d=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[f]=qt(e,t,{checksumAddress:r,staticPosition:u});d.push(f)}return e.setPosition(o+32),[d,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,d]=qt(e,t,{checksumAddress:r,staticPosition:o+i});i+=d,a.push(u)}return[a,i]}function Sp(e){return[lf(e.readBytes(32),{size:32}),32]}function Cp(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Qe(e.readBytes(32));e.setPosition(n+i);const a=Qe(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Re(c),32]}return[Re(e.readBytes(Number.parseInt(s,10),32)),32]}function Bp(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?df(s,{signed:n}):Qe(s,{signed:n}),32]}function Tp(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(Dn(t)){const c=Qe(e.readBytes(Ys)),u=s+c;for(let d=0;d<t.components.length;++d){const l=t.components[d];e.setPosition(u+a);const[f,h]=qt(e,l,{checksumAddress:r,staticPosition:u});a+=h,i[o?d:l==null?void 0:l.name]=f}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[d,l]=qt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u==null?void 0:u.name]=d,a+=l}return[i,a]}function kp(e,{staticPosition:t}){const n=Qe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Qe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=ff(xc(o));return e.setPosition(t+32),[i,32]}function _p({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ko({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ko({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Jo(r.type);if(s){const[o,i]=s;return Op(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Lp(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Np(n,{checksum:e});if(r.type==="bool")return Fp(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=bu.exec(r.type)??[];return Mp(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Rp(n,{type:r.type});if(r.type==="string")return zp(n);throw new Qo(r.type)}function Yo(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=$e(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(fe(t+s,{size:32})),r.push(a),s+=$e(a)):n.push(a)}return Oe(...n,...r)}function Np(e,t){const{checksum:n=!1}=t;return Wr(e,{strict:n}),{dynamic:!1,encoded:Ct(e.toLowerCase())}}function Op(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Zp(e);if(!o&&e.length!==r)throw new Wp({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=Ko({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Yo(a);if(o){const u=fe(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Oe(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Oe(...a.map(({encoded:c})=>c))}}function Rp(e,{type:t}){const[,n]=t.split("bytes"),r=$e(e);if(!n){let s=e;return r%32!==0&&(s=Bt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Oe(Ct(fe(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new yu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Bt(e)}}function Fp(e){if(typeof e!="boolean")throw new W(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ct(Pc(e))}}function Mp(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ic({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:fe(e,{size:32,signed:t})}}function zp(e){const t=So(e),n=Math.ceil($e(t)/32),r=[];for(let s=0;s<n;s++)r.push(Bt(Ue(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Oe(Bt(fe($e(t),{size:32})),...r)}}function Lp(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=Ko({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Yo(o):Oe(...o.map(({encoded:i})=>i))}}function Jo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Dn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Dn);const n=Jo(e.type);return!!(n&&Dn({...e,type:n[1]}))}const jp={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Gp({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Dp({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Yi({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Yi({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Up(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(jp);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Yi extends W{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Dp extends W{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Gp extends W{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function qp(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?vc(t):t,i=Up(o);if(Lt(o)===0&&e.length>0)throw new Vp;if(Lt(o)&&Lt(o)<32)throw new Hp({data:typeof t=="string"?t:Re(t),parameters:e,size:Lt(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const d=e[u];i.setPosition(a);const[l,f]=qt(i,d,{checksumAddress:s,staticPosition:0});a+=f,r==="Array"?c.push(l):c[d.name??u]=l}return c}function Xo(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new gu({expectedLength:e.length,givenLength:t.length});const s=_p({checksumAddress:r,parameters:e,values:t}),o=Yo(s);return o.length===0?"0x":o}function Js(e,t){if(e.length!==t.length)throw new gu({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Js.encode(s,o))}return Oe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Wr(c),Ct(c.toLowerCase(),s?32:0)}if(n==="string")return So(r);if(n==="bytes")return r;if(n==="bool")return Ct(Pc(r),s?32:1);const o=n.match(bu);if(o){const[c,u,d="256"]=o,l=Number.parseInt(d,10)/8;return fe(r,{size:s?32:l,signed:u==="int"})}const i=n.match($p);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new yu({expectedSize:Number.parseInt(u,10),value:r});return Bt(r,s?32:0)}const a=n.match(Ep);if(a&&Array.isArray(r)){const[c,u]=a,d=[];for(let l=0;l<r.length;l++)d.push(t(u,r[l],!0));return d.length===0?"0x":Oe(...d)}throw new Qo(n)}e.encode=t})(Js||(Js={}));function mu(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Ai(e):e}class Hp extends W{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${zt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Vp extends W{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Wp extends W{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class yu extends W{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${$e(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class gu extends W{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Zp extends W{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Qo extends W{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const me=BigInt(0),he=BigInt(1),wt=BigInt(2),Kp=BigInt(3),wu=BigInt(4),vu=BigInt(5),xu=BigInt(8);function be(e,t){const n=e%t;return n>=me?n:t+n}function Ae(e,t,n){let r=e;for(;t-- >me;)r*=r,r%=n;return r}function Xs(e,t){if(e===me)throw new Error("invert: expected non-zero number");if(t<=me)throw new Error("invert: expected positive modulus, got "+t);let n=be(e,t),r=t,s=me,o=he;for(;n!==me;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==he)throw new Error("invert: does not exist");return be(s,t)}function Pu(e,t){const n=(e.ORDER+he)/wu,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Yp(e,t){const n=(e.ORDER-vu)/xu,r=e.mul(t,wt),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,wt),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Jp(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-he,n=0;for(;t%wt===me;)t/=wt,n++;let r=wt;const s=ei(e);for(;Ji(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Pu;let o=s.pow(r,t);const i=(t+he)/wt;return function(c,u){if(c.is0(u))return u;if(Ji(c,u)!==1)throw new Error("Cannot find square root");let d=n,l=c.mul(c.ONE,o),f=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let b=1,p=c.sqr(f);for(;!c.eql(p,c.ONE);)if(b++,p=c.sqr(p),b===d)throw new Error("Cannot find square root");const m=he<<BigInt(d-b-1),v=c.pow(l,m);d=b,l=c.sqr(v),f=c.mul(f,l),h=c.mul(h,v)}return h}}function Xp(e){return e%wu===Kp?Pu:e%xu===vu?Yp:Jp(e)}const Qp=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Qp.reduce((r,s)=>(r[s]="function",r),t);return Mr(e,n)}function t1(e,t,n){if(n<me)throw new Error("invalid exponent, negatives unsupported");if(n===me)return e.ONE;if(n===he)return t;let r=e.ONE,s=t;for(;n>me;)n&he&&(r=e.mul(r,s)),s=e.sqr(s),n>>=he;return r}function Eu(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Ji(e,t){const n=(e.ORDER-he)/wt,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function $u(e,t){t!==void 0&&wn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ei(e,t,n=!1,r={}){if(e<=me)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=$u(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Fr(s),ZERO:me,ONE:he,create:c=>be(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return me<=c&&c<e},is0:c=>c===me,isOdd:c=>(c&he)===he,neg:c=>be(-c,e),eql:(c,u)=>c===u,sqr:c=>be(c*c,e),add:(c,u)=>be(c+u,e),sub:(c,u)=>be(c-u,e),mul:(c,u)=>be(c*u,e),pow:(c,u)=>t1(a,c,u),div:(c,u)=>be(c*Xs(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Xs(c,e),sqrt:r.sqrt||(c=>(i||(i=Xp(e)),i(a,c))),toBytes:c=>n?bc(c,o):Yn(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?pc(c):xt(c)},invertBatch:c=>Eu(a,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(a)}function Iu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Au(e){const t=Iu(e);return t+Math.ceil(t/2)}function n1(e,t,n=!1){const r=e.length,s=Iu(t),o=Au(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?pc(e):xt(e),a=be(i,t-he)+he;return n?bc(a,s):Yn(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xi=BigInt(0),Qs=BigInt(1);function hs(e,t){const n=t.negate();return e?n:t}function Su(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ps(e,t){Su(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Fr(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Qi(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Qs);const u=t*r,d=u+Math.abs(a)-1,l=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:d,isZero:l,isNeg:f,isNegF:h,offsetF:u}}function r1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function s1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const bs=new WeakMap,Cu=new WeakMap;function ms(e){return Cu.get(e)||1}function o1(e,t){return{constTimeNegate:hs,hasPrecomputes(n){return ms(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Xi;)r&Qs&&(s=s.add(o)),o=o.double(),r>>=Qs;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=ps(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let d=1;d<o;d++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=ps(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:l,isNeg:f,isNegF:h,offsetF:b}=Qi(s,c,a);s=u,l?i=i.add(hs(h,r[b])):o=o.add(hs(f,r[d]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=ps(n,t);for(let a=0;a<i.windows&&s!==Xi;a++){const{nextN:c,offset:u,isZero:d,isNeg:l}=Qi(s,a,i);if(s=c,!d){const f=r[u];o=o.add(l?f.negate():f)}}return o},getPrecomputes(n,r,s){let o=bs.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&bs.set(r,s(o))),o},wNAFCached(n,r,s){const o=ms(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=ms(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Su(r,t),Cu.set(n,r),bs.delete(n)}}}function i1(e,t,n,r){r1(n,e),s1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Wl(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Fr(c),d=new Array(Number(u)+1).fill(i),l=Math.floor((t.BITS-1)/c)*c;let f=i;for(let h=l;h>=0;h-=c){d.fill(i);for(let p=0;p<o;p++){const m=r[p],v=Number(m>>BigInt(h)&u);d[v]=d[v].add(n[p])}let b=i;for(let p=d.length-1,m=i;p>0;p--)m=m.add(d[p]),b=b.add(m);if(f=f.add(b),h!==0)for(let p=0;p<c;p++)f=f.double()}return f}function Bu(e){return e1(e.Fp),Mr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$u(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ea(e){e.lowS!==void 0&&zn("lowS",e.lowS),e.prehash!==void 0&&zn("prehash",e.prehash)}function a1(e){const t=Bu(e);Mr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class c1 extends Error{constructor(t=""){super(t)}}const Ye={Err:c1,_tlv:{encode:(e,t)=>{const{Err:n}=Ye;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=cr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?cr(s.length/2|128):"";return cr(e)+o+s+t},decode(e,t){const{Err:n}=Ye;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ye;if(e<Je)throw new t("integer: negative integers are not allowed");let n=cr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ye;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return xt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ye,s=Se("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ye,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function ys(e,t){return Ln(Yn(e,t))}const Je=BigInt(0),oe=BigInt(1);BigInt(2);const gs=BigInt(3),u1=BigInt(4);function d1(e){const t=a1(e),{Fp:n}=t,r=ei(t.n,t.nBitLength),s=t.toBytes||((y,w,g)=>{const P=w.toAffine();return xr(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),o=t.fromBytes||(y=>{const w=y.subarray(1),g=n.fromBytes(w.subarray(0,n.BYTES)),P=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:g,y:P}});function i(y){const{a:w,b:g}=t,P=n.sqr(y),x=n.mul(P,y);return n.add(n.add(x,n.mul(y,w)),g)}function a(y,w){const g=n.sqr(w),P=i(y);return n.eql(g,P)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,gs),u1),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(y){return Ao(y,oe,t.n)}function l(y){const{allowedPrivateKeyLengths:w,nByteLength:g,wrapPrivateKey:P,n:x}=t;if(w&&typeof y!="bigint"){if(Kn(y)&&(y=Ln(y)),typeof y!="string"||!w.includes(y.length))throw new Error("invalid private key");y=y.padStart(g*2,"0")}let $;try{$=typeof y=="bigint"?y:xt(Se("private key",y,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof y)}return P&&($=be($,x)),Gt("private key",$,oe,x),$}function f(y){if(!(y instanceof p))throw new Error("ProjectivePoint expected")}const h=Ni((y,w)=>{const{px:g,py:P,pz:x}=y;if(n.eql(x,n.ONE))return{x:g,y:P};const $=y.is0();w==null&&(w=$?n.ONE:n.inv(x));const I=n.mul(g,w),M=n.mul(P,w),B=n.mul(x,w);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:I,y:M}}),b=Ni(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:w,y:g}=y.toAffine();if(!n.isValid(w)||!n.isValid(g))throw new Error("bad point: x or y not FE");if(!a(w,g))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(w,g,P){if(w==null||!n.isValid(w))throw new Error("x required");if(g==null||!n.isValid(g)||n.is0(g))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=w,this.py=g,this.pz=P,Object.freeze(this)}static fromAffine(w){const{x:g,y:P}=w||{};if(!w||!n.isValid(g)||!n.isValid(P))throw new Error("invalid affine point");if(w instanceof p)throw new Error("projective point not allowed");const x=$=>n.eql($,n.ZERO);return x(g)&&x(P)?p.ZERO:new p(g,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const g=Eu(n,w.map(P=>P.pz));return w.map((P,x)=>P.toAffine(g[x])).map(p.fromAffine)}static fromHex(w){const g=p.fromAffine(o(Se("pointHex",w)));return g.assertValidity(),g}static fromPrivateKey(w){return p.BASE.multiply(l(w))}static msm(w,g){return i1(p,r,w,g)}_setWindowSize(w){E.setWindowSize(this,w)}assertValidity(){b(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){f(w);const{px:g,py:P,pz:x}=this,{px:$,py:I,pz:M}=w,B=n.eql(n.mul(g,M),n.mul($,x)),R=n.eql(n.mul(P,M),n.mul(I,x));return B&&R}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:g}=t,P=n.mul(g,gs),{px:x,py:$,pz:I}=this;let M=n.ZERO,B=n.ZERO,R=n.ZERO,_=n.mul(x,x),H=n.mul($,$),S=n.mul(I,I),O=n.mul(x,$);return O=n.add(O,O),R=n.mul(x,I),R=n.add(R,R),M=n.mul(w,R),B=n.mul(P,S),B=n.add(M,B),M=n.sub(H,B),B=n.add(H,B),B=n.mul(M,B),M=n.mul(O,M),R=n.mul(P,R),S=n.mul(w,S),O=n.sub(_,S),O=n.mul(w,O),O=n.add(O,R),R=n.add(_,_),_=n.add(R,_),_=n.add(_,S),_=n.mul(_,O),B=n.add(B,_),S=n.mul($,I),S=n.add(S,S),_=n.mul(S,O),M=n.sub(M,_),R=n.mul(S,H),R=n.add(R,R),R=n.add(R,R),new p(M,B,R)}add(w){f(w);const{px:g,py:P,pz:x}=this,{px:$,py:I,pz:M}=w;let B=n.ZERO,R=n.ZERO,_=n.ZERO;const H=t.a,S=n.mul(t.b,gs);let O=n.mul(g,$),z=n.mul(P,I),k=n.mul(x,M),L=n.add(g,P),U=n.add($,I);L=n.mul(L,U),U=n.add(O,z),L=n.sub(L,U),U=n.add(g,x);let T=n.add($,M);return U=n.mul(U,T),T=n.add(O,k),U=n.sub(U,T),T=n.add(P,x),B=n.add(I,M),T=n.mul(T,B),B=n.add(z,k),T=n.sub(T,B),_=n.mul(H,U),B=n.mul(S,k),_=n.add(B,_),B=n.sub(z,_),_=n.add(z,_),R=n.mul(B,_),z=n.add(O,O),z=n.add(z,O),k=n.mul(H,k),U=n.mul(S,U),z=n.add(z,k),k=n.sub(O,k),k=n.mul(H,k),U=n.add(U,k),O=n.mul(z,U),R=n.add(R,O),O=n.mul(T,U),B=n.mul(L,B),B=n.sub(B,O),O=n.mul(L,z),_=n.mul(T,_),_=n.add(_,O),new p(B,R,_)}subtract(w){return this.add(w.negate())}is0(){return this.equals(p.ZERO)}wNAF(w){return E.wNAFCached(this,w,p.normalizeZ)}multiplyUnsafe(w){const{endo:g,n:P}=t;Gt("scalar",w,Je,P);const x=p.ZERO;if(w===Je)return x;if(this.is0()||w===oe)return this;if(!g||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,w,p.normalizeZ);let{k1neg:$,k1:I,k2neg:M,k2:B}=g.splitScalar(w),R=x,_=x,H=this;for(;I>Je||B>Je;)I&oe&&(R=R.add(H)),B&oe&&(_=_.add(H)),H=H.double(),I>>=oe,B>>=oe;return $&&(R=R.negate()),M&&(_=_.negate()),_=new p(n.mul(_.px,g.beta),_.py,_.pz),R.add(_)}multiply(w){const{endo:g,n:P}=t;Gt("scalar",w,oe,P);let x,$;if(g){const{k1neg:I,k1:M,k2neg:B,k2:R}=g.splitScalar(w);let{p:_,f:H}=this.wNAF(M),{p:S,f:O}=this.wNAF(R);_=E.constTimeNegate(I,_),S=E.constTimeNegate(B,S),S=new p(n.mul(S.px,g.beta),S.py,S.pz),x=_.add(S),$=H.add(O)}else{const{p:I,f:M}=this.wNAF(w);x=I,$=M}return p.normalizeZ([x,$])[0]}multiplyAndAddUnsafe(w,g,P){const x=p.BASE,$=(M,B)=>B===Je||B===oe||!M.equals(x)?M.multiplyUnsafe(B):M.multiply(B),I=$(this,g).add($(w,P));return I.is0()?void 0:I}toAffine(w){return h(this,w)}isTorsionFree(){const{h:w,isTorsionFree:g}=t;if(w===oe)return!0;if(g)return g(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:g}=t;return w===oe?this:g?g(p,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return zn("isCompressed",w),this.assertValidity(),s(p,this,w)}toHex(w=!0){return zn("isCompressed",w),Ln(this.toRawBytes(w))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:v}=t,E=o1(p,m?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:d}}function l1(e){const t=Bu(e);return Mr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function f1(e){const t=l1(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(S){return be(S,r)}function u(S){return Xs(S,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:h}=d1({...t,toBytes(S,O,z){const k=O.toAffine(),L=n.toBytes(k.x),U=xr;return zn("isCompressed",z),z?U(Uint8Array.from([O.hasEvenY()?2:3]),L):U(Uint8Array.from([4]),L,n.toBytes(k.y))},fromBytes(S){const O=S.length,z=S[0],k=S.subarray(1);if(O===i&&(z===2||z===3)){const L=xt(k);if(!Ao(L,oe,n.ORDER))throw new Error("Point is not on curve");const U=f(L);let T;try{T=n.sqrt(U)}catch(Y){const J=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+J)}const N=(T&oe)===oe;return(z&1)===1!==N&&(T=n.neg(T)),{x:L,y:T}}else if(O===a&&z===4){const L=n.fromBytes(k.subarray(0,n.BYTES)),U=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:L,y:U}}else{const L=i,U=a;throw new Error("invalid Point, expected length of "+L+", or uncompressed "+U+", got "+O)}}});function b(S){const O=r>>oe;return S>O}function p(S){return b(S)?c(-S):S}const m=(S,O,z)=>xt(S.slice(O,z));class v{constructor(O,z,k){Gt("r",O,oe,r),Gt("s",z,oe,r),this.r=O,this.s=z,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(O){const z=s;return O=Se("compactSignature",O,z*2),new v(m(O,0,z),m(O,z,2*z))}static fromDER(O){const{r:z,s:k}=Ye.toSig(Se("DER",O));return new v(z,k)}assertValidity(){}addRecoveryBit(O){return new v(this.r,this.s,O)}recoverPublicKey(O){const{r:z,s:k,recovery:L}=this,U=x(Se("msgHash",O));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const T=L===2||L===3?z+t.n:z;if(T>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const N=(L&1)===0?"02":"03",K=d.fromHex(N+ys(T,n.BYTES)),Y=u(T),J=c(-U*Y),Q=c(k*Y),ue=d.BASE.multiplyAndAddUnsafe(K,J,Q);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return vr(this.toDERHex())}toDERHex(){return Ye.hexFromSig(this)}toCompactRawBytes(){return vr(this.toCompactHex())}toCompactHex(){const O=s;return ys(this.r,O)+ys(this.s,O)}}const E={isValidPrivateKey(S){try{return l(S),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const S=Au(t.n);return n1(t.randomBytes(S),t.n)},precompute(S=8,O=d.BASE){return O._setWindowSize(S),O.multiply(BigInt(3)),O}};function y(S,O=!0){return d.fromPrivateKey(S).toRawBytes(O)}function w(S){if(typeof S=="bigint")return!1;if(S instanceof d)return!0;const z=Se("key",S).length,k=n.BYTES,L=k+1,U=2*k+1;if(!(t.allowedPrivateKeyLengths||s===L))return z===L||z===U}function g(S,O,z=!0){if(w(S)===!0)throw new Error("first arg must be private key");if(w(O)===!1)throw new Error("second arg must be public key");return d.fromHex(O).multiply(l(S)).toRawBytes(z)}const P=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const O=xt(S),z=S.length*8-o;return z>0?O>>BigInt(z):O},x=t.bits2int_modN||function(S){return c(P(S))},$=Fr(o);function I(S){return Gt("num < 2^"+o,S,Je,$),Yn(S,s)}function M(S,O,z=B){if(["recovered","canonical"].some(Ie=>Ie in z))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:L}=t;let{lowS:U,prehash:T,extraEntropy:N}=z;U==null&&(U=!0),S=Se("msgHash",S),ea(z),T&&(S=Se("prehashed msgHash",k(S)));const K=x(S),Y=l(O),J=[I(Y),I(K)];if(N!=null&&N!==!1){const Ie=N===!0?L(n.BYTES):N;J.push(Se("extraEntropy",Ie))}const Q=xr(...J),ue=K;function V(Ie){const He=P(Ie);if(!h(He))return;const Xr=u(He),un=d.BASE.multiply(He).toAffine(),yt=c(un.x);if(yt===Je)return;const dn=c(Xr*c(ue+yt*Y));if(dn===Je)return;let ln=(un.x===yt?0:2)|Number(un.y&oe),Ot=dn;return U&&b(dn)&&(Ot=p(dn),ln^=1),new v(yt,Ot,ln)}return{seed:Q,k2sig:V}}const B={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function _(S,O,z=B){const{seed:k,k2sig:L}=M(S,O,z),U=t;return Zl(U.hash.outputLen,U.nByteLength,U.hmac)(k,L)}d.BASE._setWindowSize(8);function H(S,O,z,k=R){var ln;const L=S;O=Se("msgHash",O),z=Se("publicKey",z);const{lowS:U,prehash:T,format:N}=k;if(ea(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(N!==void 0&&N!=="compact"&&N!=="der")throw new Error("format must be compact or der");const K=typeof L=="string"||Kn(L),Y=!K&&!N&&typeof L=="object"&&L!==null&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!K&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,Q;try{if(Y&&(J=new v(L.r,L.s)),K){try{N!=="compact"&&(J=v.fromDER(L))}catch(Ot){if(!(Ot instanceof Ye.Err))throw Ot}!J&&N!=="der"&&(J=v.fromCompact(L))}Q=d.fromHex(z)}catch{return!1}if(!J||U&&J.hasHighS())return!1;T&&(O=t.hash(O));const{r:ue,s:V}=J,Ie=x(O),He=u(V),Xr=c(Ie*He),un=c(ue*He),yt=(ln=d.BASE.multiplyAndAddUnsafe(Q,Xr,un))==null?void 0:ln.toAffine();return yt?c(yt.x)===ue:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:g,sign:_,verify:H,ProjectivePoint:d,Signature:v,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h1(e){return{hash:e,hmac:(t,...n)=>fu(e,t,W0(...n)),randomBytes:Z0}}function p1(e,t){const n=r=>f1({...e,...h1(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ta=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),b1=BigInt(0),m1=BigInt(1),eo=BigInt(2),na=(e,t)=>(e+t/eo)/t;function y1(e){const t=Tu,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=Ae(d,n,t)*d%t,f=Ae(l,n,t)*d%t,h=Ae(f,eo,t)*u%t,b=Ae(h,s,t)*h%t,p=Ae(b,o,t)*b%t,m=Ae(p,a,t)*p%t,v=Ae(m,c,t)*m%t,E=Ae(v,a,t)*p%t,y=Ae(E,n,t)*d%t,w=Ae(y,i,t)*b%t,g=Ae(w,r,t)*u%t,P=Ae(g,eo,t);if(!to.eql(to.sqr(P),e))throw new Error("Cannot find square root");return P}const to=ei(Tu,void 0,void 0,{sqrt:y1}),ku=p1({a:b1,b:BigInt(7),Fp:to,n:ta,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ta,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-m1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=na(o*e,t),c=na(-r*e,t);let u=be(e-a*n-c*s,t),d=be(-a*r-c*o,t);const l=u>i,f=d>i;if(l&&(u=t-u),f&&(d=t-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:f,k2:d}}}},Vc),g1=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ku},Symbol.toStringTag,{value:"Module"}));function _u(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new ws({signature:e});if(typeof e.s>"u")throw new ws({signature:e});if(n&&typeof e.yParity>"u")throw new ws({signature:e});if(e.r<0n||e.r>Zi)throw new I1({value:e.r});if(e.s<0n||e.s>Zi)throw new A1({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new ni({value:e.yParity})}function w1(e){return Nu(Re(e))}function Nu(e){if(e.length!==130&&e.length!==132)throw new $1({signature:e});const t=BigInt(Ue(e,0,32)),n=BigInt(Ue(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return ti(s)}catch{throw new ni({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function v1(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return x1(e)}function x1(e){const t=typeof e=="string"?Nu(e):e instanceof Uint8Array?w1(e):typeof e.r=="string"?E1(e):e.v?P1(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return _u(t),t}function P1(e){return{r:e.r,s:e.s,yParity:ti(e.v)}}function E1(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ti(n)),typeof r!="number")throw new ni({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function ti(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new S1({value:e})}class $1 extends W{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${$e(vf(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ws extends W{constructor({signature:t}){super(`Signature \`${wc(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class I1 extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class A1 extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ni extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class S1 extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function C1(e,t={}){return typeof e.chainId=="string"?B1(e):{...e,...t.signature}}function B1(e){const{address:t,chainId:n,nonce:r}=e,s=v1(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const T1="0x8010801080108010801080108010801080108010801080108010801080108010",k1=mu("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Ou(e){if(typeof e=="string"){if(Ue(e,-32)!==T1)throw new O1(e)}else _u(e.authorization)}function _1(e){Ou(e);const t=$c(Ue(e,-64,-32)),n=Ue(e,-t-64,-64),r=Ue(e,0,-t-64),[s,o,i]=qp(k1,n);return{authorization:C1({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function N1(e){try{return Ou(e),!0}catch{return!1}}let O1=class extends W{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function R1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function F1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Te(e.nonce):void 0,storageProof:e.storageProof?R1(e.storageProof):void 0}}async function M1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?F(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return F1(a)}async function z1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?F(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function ri(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){var f,h,b;const c=r||"latest",u=n!==void 0?F(n):void 0;let d=null;if(s?d=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,F(o)]},{dedupe:!0}):typeof o=="number"?d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,F(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(d=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,F(a)]},{dedupe:!0})),!d)throw new ic({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(((b=(h=(f=e.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)==null?void 0:b.format)||tr)(d,"getTransaction")}async function L1(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([j(e,rr,"getBlockNumber")({}),t?j(e,ri,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function br(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ac({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Zo)(n,"getTransactionReceipt")}async function j1(e,t){var E;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:d=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof((E=e.batch)==null?void 0:E.multicall)=="object"?e.batch.multicall:{},f=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return on({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,p=0;for(let y=0;y<u.length;y++){const{abi:w,address:g,args:P,functionName:x}=u[y];try{const $=ve({abi:w,args:P,functionName:x});p+=($.length-2)/2,d>0&&p>d&&h[b].length>0&&(b++,p=($.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:$,target:g}]}catch($){const I=St($,{abi:w,address:g,args:P,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!s)throw I;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:g}]}}const m=await Promise.allSettled(h.map(y=>j(e,ke,"readContract")({...f===null?{code:Co}:{address:f},abi:Ht,account:n,args:[y],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),v=[];for(let y=0;y<m.length;y++){const w=m[y];if(w.status==="rejected"){if(!s)throw w.reason;for(let P=0;P<h[y].length;P++)v.push({status:"failure",error:w.reason,result:void 0});continue}const g=w.value;for(let P=0;P<g.length;P++){const{returnData:x,success:$}=g[P],{callData:I}=h[y][P],{abi:M,address:B,functionName:R,args:_}=u[v.length];try{if(I==="0x")throw new qn;if(!$)throw new Or({data:x});const H=ht({abi:M,args:_,data:x,functionName:R});v.push(s?{result:H,status:"success"}:H)}catch(H){const S=St(H,{abi:M,address:B,args:_,docsPath:"/docs/contract/multicall",functionName:R});if(!s)throw S;v.push({error:S,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new C("multicall results mismatch");return v}async function no(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const f of s){const h=f.blockOverrides?Sc(f.blockOverrides):void 0,b=f.calls.map(m=>{const v=m,E=v.account?X(v.account):void 0,y=v.abi?ve(v):v.data,w={...v,account:E,data:v.dataSuffix?de([y||"0x",v.dataSuffix]):y,from:v.from??(E==null?void 0:E.address)};return st(w),pt(w)}),p=f.stateOverrides?ko(f.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:p})}const d=(typeof n=="bigint"?F(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},d]})).map((f,h)=>({...Ro(f),calls:f.calls.map((b,p)=>{var M,B;const{abi:m,args:v,functionName:E,to:y}=s[h].calls[p],w=((M=b.error)==null?void 0:M.data)??b.returnData,g=BigInt(b.gasUsed),P=(B=b.logs)==null?void 0:B.map(R=>tt(R)),x=b.status==="0x1"?"success":"failure",$=m&&x==="success"&&w!=="0x"?ht({abi:m,data:w,functionName:E}):null,I=(()=>{if(x==="success")return;let R;if(w==="0x"?R=new qn:w&&(R=new Or({data:w})),!!R)return St(R,{abi:m??[],address:y??"0x",args:v,functionName:E??"<unknown>"})})();return{data:w,gasUsed:g,logs:P,status:x,...x==="success"?{result:$}:{error:I}}})}))}catch(c){const u=c,d=jr(u,{});throw d instanceof Xn?u:d}}function ro(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new W("Unable to normalize signature.");return s}function so(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Ks(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>so(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>so(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ru(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ru(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Ks(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Ks(n[r],{strict:!1}):!1)return i}}function Fu(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Ii(e):e;return{...r,...n?{hash:Ut(r)}:{}}}function Zr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=xf(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Mu(u)===Ue(t,0,4):u.type==="event"?Ut(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Er({name:t});if(i.length===1)return{...i[0],...s?{hash:Ut(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ut(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,f)=>{const h="inputs"in u&&u.inputs[f];return h?so(l,h):!1})){if(a&&"inputs"in a&&a.inputs){const l=Ru(u.inputs,a.inputs,r);if(l)throw new D1({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...d]=i;return{...u,overloads:d}})();if(!c)throw new Er({name:t});return{...c,...s?{hash:Ut(c)}:{}}}function Mu(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Zr(n,r)}return e[0]})();return Ue(Ut(t),0,4)}function U1(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Zr(r,s)}return e[0]})(),n=typeof t=="string"?t:wr(t);return ro(n)}function Ut(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Zr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:hu(So(U1(t)))}class D1 extends W{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ro(wr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ro(wr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Er extends W{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function G1(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,a]=e;return[H1(i),a]}return e})(),{bytecode:r,args:s}=n;return Oe(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?Xo(t.inputs,s):"0x")}function q1(e){return Fu(e)}function H1(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Er({name:"constructor"});return t}function V1(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,d,l]=e;return[ra(u,d,{args:l}),l]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?ra([t,...r],t.name,{args:n}):t,o=W1(s),i=n.length>0?Xo(s.inputs,n):void 0;return i?Oe(o,i):o}function Ft(e,t={}){return Fu(e,t)}function ra(e,t,n){const r=Zr(e,t,n);if(r.type!=="function")throw new Er({name:t,type:"function"});return r}function W1(e){return Mu(e)}const Z1="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Le="0x0000000000000000000000000000000000000000",K1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Y1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?X(t.account):void 0;if(i&&!u)throw new C("`account` is required when `traceAssetChanges` is true");const d=u?G1(q1("constructor(bytes, bytes)"),{bytecode:Cc,args:[K1,V1(Ft("function getBalance(address)"),[u.address])]}):void 0,l=i?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:L}=await Rc(e,{account:u.address,...k,data:k.abi?ve(k):k.data});return L.map(({address:U,storageKeys:T})=>T.length>0?U:null)})).then(k=>k.flat().filter(Boolean)):[],f=await no(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:o},{calls:l.map((k,L)=>({abi:[Ft("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Le,nonce:L})),stateOverrides:[{address:Le,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:d}]},{calls:l.map((k,L)=>({abi:[Ft("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Le,nonce:L})),stateOverrides:[{address:Le,nonce:0}]},{calls:l.map((k,L)=>({to:k,abi:[Ft("function decimals() returns (uint256)")],functionName:"decimals",from:Le,nonce:L})),stateOverrides:[{address:Le,nonce:0}]},{calls:l.map((k,L)=>({to:k,abi:[Ft("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Le,nonce:L})),stateOverrides:[{address:Le,nonce:0}]},{calls:l.map((k,L)=>({to:k,abi:[Ft("function symbol() returns (string)")],functionName:"symbol",from:Le,nonce:L})),stateOverrides:[{address:Le,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?f[2]:f[0],[b,p,,m,v,E,y,w]=i?f:[],{calls:g,...P}=h,x=g.slice(0,-1)??[],$=(b==null?void 0:b.calls)??[],I=(p==null?void 0:p.calls)??[],M=[...$,...I].map(k=>k.status==="success"?ie(k.data):null),B=(m==null?void 0:m.calls)??[],R=(v==null?void 0:v.calls)??[],_=[...B,...R].map(k=>k.status==="success"?ie(k.data):null),H=((E==null?void 0:E.calls)??[]).map(k=>k.status==="success"?k.result:null),S=((w==null?void 0:w.calls)??[]).map(k=>k.status==="success"?k.result:null),O=((y==null?void 0:y.calls)??[]).map(k=>k.status==="success"?k.result:null),z=[];for(const[k,L]of _.entries()){const U=M[k];if(typeof L!="bigint"||typeof U!="bigint")continue;const T=H[k-1],N=S[k-1],K=O[k-1],Y=k===0?{address:Z1,decimals:18,symbol:"ETH"}:{address:l[k-1],decimals:K||T?Number(T??1):void 0,symbol:N??void 0};z.some(J=>J.token.address===Y.address)||z.push({token:Y,value:{pre:U,post:L,diff:L-U}})}return{assetChanges:z,block:P,results:x}}async function J1(e,t){var d;const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:(d=e.dataSuffix)==null?void 0:d.value,...a}=t,c=a.account?X(a.account):e.account,u=ve({abi:n,args:s,functionName:o});try{const{data:l}=await j(e,Qn,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),f=ht({abi:n,args:s,functionName:o,data:l||"0x"}),h=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:f,request:{abi:h,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(l){throw St(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}async function Kr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const zu="0x6492649264926492649264926492649264926492649264926492649264926492";function X1(e){if(Ue(e,-32)!==zu)throw new tb(e)}function Q1(e){const{data:t,signature:n,to:r}=e;return Oe(Xo(mu("address, bytes, bytes"),[r,t,n]),zu)}function eb(e){try{return X1(e),!0}catch{return!1}}class tb extends W{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function nb({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new ku.Signature(ie(e),ie(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Ge(i)}async function Yr(e,t){var c,u,d,l;const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??((u=(c=r==null?void 0:r.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((l=(d=r==null?void 0:r.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t;if(r!=null&&r.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const f=t.signature;return De(f)?f:typeof f=="object"&&"r"in f&&"s"in f?nb(f):ne(f)})();try{return N1(a)?await rb(e,{...t,multicallAddress:i,signature:a}):await sb(e,{...t,verifierAddress:o,signature:a})}catch(f){try{if(sr(ct(n),await Lc({hash:s,signature:a})))return!0}catch{}if(f instanceof kt)return!1;throw f}}async function rb(e,t){var m;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:d}=_1(t.signature);if(await Ws(e,{address:n,blockNumber:r,blockTag:s})===Me(["0xef0100",a.address]))return await ob(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:F(a.r,{size:32}),s:F(a.s,{size:32}),yParity:a.yParity};if(!await Qh({address:n,authorization:f}))throw new kt;const b=await j(e,ke,"readContract")({...i?{address:i}:{code:Co},authorizationList:[f],abi:Ht,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:ve({abi:va,functionName:"isValidSignature",args:[o,u]})}]]}),p=(m=b[b.length-1])==null?void 0:m.returnData;if(p!=null&&p.startsWith("0x1626ba7e"))return!0;throw new kt}async function sb(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||eb(i)?i:Q1({data:s,signature:i,to:r}))(),d=a?{to:a,data:ve({abi:li,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Lr({abi:li,args:[n,o,u],bytecode:Sf}),...c},{data:l}=await j(e,Qn,"call")(d).catch(f=>{throw f instanceof uc?new kt:f});if(C0(l??"0x0"))return!0;throw new kt}async function ob(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await j(e,ke,"readContract")({address:n,abi:va,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof dc?new kt:c})).startsWith("0x1626ba7e"))return!0;throw new kt}class kt extends Error{}async function ib(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=su(n);return j(e,Yr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function ab(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...d}=t,l=pp({message:i,primaryType:a,types:c,domain:u});return j(e,Yr,"verifyHash")({address:n,factory:r,factoryData:s,hash:l,signature:o,...d})}const vs=new Map,sa=new Map;let cb=0;function nt(e,t,n){const r=++cb,s=()=>vs.get(e)||[],o=()=>{const d=s();vs.set(e,d.filter(l=>l.id!==r))},i=()=>{const d=s();if(!d.some(f=>f.id===r))return;const l=sa.get(e);if(d.length===1&&l){const f=l();f instanceof Promise&&f.catch(()=>{})}o()},a=s();if(vs.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const d in t)c[d]=((...l)=>{var h,b;const f=s();if(f.length!==0)for(const p of f)(b=(h=p.fns)[d])==null||b.call(h,...l)});const u=n(c);return typeof u=="function"&&sa.set(e,u),i}function cn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await Zs(c);const u=async()=>{s&&(await e({unpoll:o}),await Zs(r),u())};u()})(),o}function Lu(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=se(["watchBlockNumber",e.uid,t,n,i]);return nt(l,{onBlockNumber:r,onError:s},f=>cn(async()=>{var h;try{const b=await j(e,rr,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let p=c+1n;p<b;p++)f.onBlockNumber(p,c),c=p}(c===void 0||b>c)&&(f.onBlockNumber(b,c),c=b)}catch(b){(h=f.onError)==null||h.call(f,b)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=se(["watchBlockNumber",e.uid,t,n]);return nt(l,{onBlockNumber:r,onError:s},f=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(v){var y;if(!h)return;const E=ie((y=v.result)==null?void 0:y.number);f.onBlockNumber(E,c),c=E},onError(v){var E;(E=f.onError)==null||E.call(f,v)}});b=m,h||b()}catch(p){s==null||s(p)}})(),()=>b()})})()}async function ju(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:g})=>~~(1<<g)*200,timeout:c=18e4}=t,u=se(["waitForTransactionReceipt",e.uid,s]),d=(()=>{var g;return t.pollingInterval?t.pollingInterval:(g=e.chain)!=null&&g.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,f,h,b=!1,p,m;const{promise:v,resolve:E,reject:y}=To(),w=c?setTimeout(()=>{m==null||m(),p==null||p(),y(new Nl({hash:s}))},c):void 0;return p=nt(u,{onReplaced:o,resolve:E,reject:y},async g=>{if(h=await j(e,br,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(w),g.resolve(h),p==null||p();return}m=j(e,Lu,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(P){const x=I=>{clearTimeout(w),m==null||m(),I(),p==null||p()};let $=P;if(!b)try{if(h){if(r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;x(()=>g.resolve(h));return}if(n&&!l&&(b=!0,await Un(async()=>{l=await j(e,ri,"getTransaction")({hash:s}),l.blockNumber&&($=l.blockNumber)},{delay:a,retryCount:i}),b=!1),h=await j(e,br,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;x(()=>g.resolve(h))}catch(I){if(I instanceof ic||I instanceof ac){if(!l){b=!1;return}try{f=l,b=!0;const M=await Un(()=>j(e,_e,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:_})=>_ instanceof Gc});b=!1;const B=M.transactions.find(({from:_,nonce:H})=>_===f.from&&H===f.nonce);if(!B||(h=await j(e,br,"getTransactionReceipt")({hash:B.hash}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r)))return;let R="replaced";B.to===f.to&&B.value===f.value&&B.input===f.input?R="repriced":B.from===B.to&&B.value===0n&&(R="cancelled"),x(()=>{var _;(_=g.onReplaced)==null||_.call(g,{reason:R,replacedTransaction:f,transaction:B,transactionReceipt:h}),g.resolve(h)})}catch(M){x(()=>g.reject(M))}}else x(()=>g.reject(I))}}})}),v}function ub(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let l;return u?(()=>{const b=se(["watchBlocks",e.uid,t,n,r,d,c]);return nt(b,{onBlock:s,onError:o},p=>cn(async()=>{var m;try{const v=await j(e,_e,"getBlock")({blockTag:t,includeTransactions:d});if(v.number!==null&&(l==null?void 0:l.number)!=null){if(v.number===l.number)return;if(v.number-l.number>1&&n)for(let E=(l==null?void 0:l.number)+1n;E<v.number;E++){const y=await j(e,_e,"getBlock")({blockNumber:E,includeTransactions:d});p.onBlock(y,l),l=y}}((l==null?void 0:l.number)==null||t==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>l.number)&&(p.onBlock(v,l),l=v)}catch(v){(m=p.onError)==null||m.call(p,v)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=!0,m=()=>b=!1;return(async()=>{try{r&&j(e,_e,"getBlock")({blockTag:t,includeTransactions:d}).then(y=>{b&&p&&(s(y,void 0),p=!1)}).catch(o);const v=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],async onData(y){var g;if(!b)return;const w=await j(e,_e,"getBlock")({blockNumber:(g=y.result)==null?void 0:g.number,includeTransactions:d}).catch(()=>{});b&&(s(w,l),p=!1,l=w)},onError(y){o==null||o(y)}});m=E,b||m()}catch(v){o==null||o(v)}})(),()=>m()})()}function db(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const m=f??!1,v=se(["watchContractEvent",r,s,o,e.uid,i,l,m,a]);return nt(v,{onLogs:u,onError:c},E=>{let y;a!==void 0&&(y=a-1n);let w,g=!1;const P=cn(async()=>{var x;if(!g){try{w=await j(e,Fc,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:m,fromBlock:a})}catch{}g=!0;return}try{let $;if(w)$=await j(e,Hr,"getFilterChanges")({filter:w});else{const I=await j(e,rr,"getBlockNumber")({});y&&y<I?$=await j(e,eu,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:y+1n,toBlock:I,strict:m}):$=[],y=I}if($.length===0)return;if(o)E.onLogs($);else for(const I of $)E.onLogs([I])}catch($){w&&$ instanceof lt&&(g=!1),(x=E.onError)==null||x.call(E,$)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await j(e,Kr,"uninstallFilter")({filter:w}),P()}})})():(()=>{const m=f??!1,v=se(["watchContractEvent",r,s,o,e.uid,i,l,m]);let E=!0,y=()=>E=!1;return nt(v,{onLogs:u,onError:c},w=>((async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),P=i?er({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await g.subscribe({params:["logs",{address:r,topics:P}],onData($){var M;if(!E)return;const I=$.result;try{const{eventName:B,args:R}=Pr({abi:n,data:I.data,topics:I.topics,strict:f}),_=tt(I,{args:R,eventName:B});w.onLogs([_])}catch(B){let R,_;if(B instanceof gr||B instanceof lo){if(f)return;R=B.abiItem.name,_=(M=B.abiItem.inputs)==null?void 0:M.some(S=>!("name"in S&&S.name))}const H=tt(I,{args:_?[]:{},eventName:R});w.onLogs([H])}},onError($){var I;(I=w.onError)==null||I.call(w,$)}});y=x,E||y()}catch(g){c==null||c(g)}})(),()=>y()))})()}function lb(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=l??!1;return f?(()=>{const m=se(["watchEvent",t,n,r,e.uid,s,d,i]);return nt(m,{onLogs:c,onError:a},v=>{let E;i!==void 0&&(E=i-1n);let y,w=!1;const g=cn(async()=>{var P;if(!w){try{y=await j(e,Mc,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}w=!0;return}try{let x;if(y)x=await j(e,Hr,"getFilterChanges")({filter:y});else{const $=await j(e,rr,"getBlockNumber")({});E&&E!==$?x=await j(e,Ho,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:E+1n,toBlock:$}):x=[],E=$}if(x.length===0)return;if(r)v.onLogs(x);else for(const $ of x)v.onLogs([$])}catch(x){y&&x instanceof lt&&(w=!1),(P=v.onError)==null||P.call(v,x)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await j(e,Kr,"uninstallFilter")({filter:y}),g()}})})():(()=>{let m=!0,v=()=>m=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),y=o??(s?[s]:void 0);let w=[];y&&(w=[y.flatMap(x=>er({abi:[x],eventName:x.name,args:n}))],s&&(w=w[0]));const{unsubscribe:g}=await E.subscribe({params:["logs",{address:t,topics:w}],onData(P){var $;if(!m)return;const x=P.result;try{const{eventName:I,args:M}=Pr({abi:y??[],data:x.data,topics:x.topics,strict:h}),B=tt(x,{args:M,eventName:I});c([B])}catch(I){let M,B;if(I instanceof gr||I instanceof lo){if(l)return;M=I.abiItem.name,B=($=I.abiItem.inputs)==null?void 0:$.some(_=>!("name"in _&&_.name))}const R=tt(x,{args:B?[]:{},eventName:M});c([R])}},onError(P){a==null||a(P)}});v=g,m||v()}catch(E){a==null||a(E)}})(),()=>v()})()}function fb(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=se(["watchPendingTransactions",e.uid,t,o]);return nt(u,{onTransactions:r,onError:n},d=>{let l;const f=cn(async()=>{var h;try{if(!l)try{l=await j(e,zc,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const b=await j(e,Hr,"getFilterChanges")({filter:l});if(b.length===0)return;if(t)d.onTransactions(b);else for(const p of b)d.onTransactions([p])}catch(b){(h=d.onError)==null||h.call(d,b)}},{emitOnBegin:!0,interval:o});return async()=>{l&&await j(e,Kr,"uninstallFilter")({filter:l}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});d=l,u||d()}catch(l){n==null||n(l)}})(),()=>d()})()}async function hb(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:F(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}class mt extends C{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Pt extends C{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function si(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const xs=new rn(128);async function Jr(e,t){var w,g,P,x,$;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(w=e.dataSuffix)==null?void 0:w.value,gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,type:m,value:v,...E}=t;if(typeof n>"u")throw new mt({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?X(n):null;try{st(t);const I=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Gr({authorization:i[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let M;s!==null&&(M=await j(e,bt,"getChainId")({}),r&&Wo({currentChainId:M,chain:s}));const B=(x=(P=(g=e.chain)==null?void 0:g.formatters)==null?void 0:P.transactionRequest)==null?void 0:x.format,_=(B||pt)({...an(E,{format:B}),accessList:o,account:y,authorizationList:i,blobs:a,chainId:M,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,to:I,type:m,value:v},"sendTransaction"),H=xs.get(e.uid),S=H?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:S,params:[_]},{retryCount:0})}catch(O){if(H===!1)throw O;const z=O;if(z.name==="InvalidInputRpcError"||z.name==="InvalidParamsRpcError"||z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[_]},{retryCount:0}).then(k=>(xs.set(e.uid,!0),k)).catch(k=>{const L=k;throw L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"?(xs.set(e.uid,!1),z):L});throw z}}if((y==null?void 0:y.type)==="local"){const M=await j(e,nr,"prepareTransactionRequest")({account:y,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,nonceManager:y.nonceManager,parameters:[...Do,"sidecars"],type:m,value:v,...E,to:I}),B=($=s==null?void 0:s.serializers)==null?void 0:$.transaction,R=await y.signTransaction(M,{serializer:B});return await j(e,si,"sendRawTransaction")({serializedTransaction:R})}throw(y==null?void 0:y.type)==="smart"?new Pt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Pt({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(I){throw I instanceof Pt?I:qr(I,{...t,account:y,chain:t.chain||void 0})}}function pb(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Lr({abi:n,args:r,bytecode:s});return Jr(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function bb(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Hn(r))}const Uu="0x5792579257925792579257925792579257925792579257925792579257925792",Du=F(0,{size:32});async function Gu(e,t){var f;const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,u=n?X(n):null;let d=t.capabilities;e.dataSuffix&&!((f=t.capabilities)!=null&&f.dataSuffix)&&(typeof e.dataSuffix=="string"?d={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:d={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const l=t.calls.map(h=>{const b=h,p=b.abi?ve({abi:b.abi,functionName:b.functionName,args:b.args}):b.data;return{data:b.dataSuffix&&p?de([p,b.dataSuffix]):p,to:b.to,value:b.value?F(b.value):void 0}});try{const h=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:l,capabilities:d,chainId:F(r.id),from:u==null?void 0:u.address,id:a,version:c}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const b=h;if(s&&(b.name==="MethodNotFoundRpcError"||b.name==="MethodNotSupportedRpcError"||b.name==="UnknownRpcError"||b.details.toLowerCase().includes("does not exist / is not available")||b.details.toLowerCase().includes("missing or invalid. request()")||b.details.toLowerCase().includes("did not match any variant of untagged enum")||b.details.toLowerCase().includes("account upgraded to unsupported contract")||b.details.toLowerCase().includes("eip-7702 not supported")||b.details.toLowerCase().includes("unsupported wc_ method")||b.details.toLowerCase().includes("feature toggled misconfigured")||b.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(d&&Object.values(d).some(y=>!y.optional)){const y="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Jt(new C(y,{details:y}))}if(i&&l.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Xt(new C(E,{details:E}))}const p=[];for(const E of l){const y=Jr(e,{account:u,chain:r,data:E.data,to:E.to,value:E.value?ie(E.value):void 0});p.push(y),o>0&&await new Promise(w=>setTimeout(w,o))}const m=await Promise.allSettled(p);if(m.every(E=>E.status==="rejected"))throw m[0].reason;const v=m.map(E=>E.status==="fulfilled"?E.value:Du);return{id:de([...v,F(r.id,{size:32}),Uu])}}throw qr(h,{...t,account:u,chain:t.chain})}}async function qu(e,t){async function n(d){if(d.endsWith(Uu.slice(2))){const f=Be(Ss(d,-64,-32)),h=Ss(d,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(h.map(m=>Du.slice(2)!==m?e.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),p=b.some(m=>m===null)?100:b.every(m=>(m==null?void 0:m.status)==="0x1")?200:b.every(m=>(m==null?void 0:m.status)==="0x0")?500:600;return{atomic:!1,chainId:Te(f),receipts:b.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:r,chainId:s?Te(s):void 0,receipts:(o==null?void 0:o.map(d=>({...d,blockNumber:ie(d.blockNumber),gasUsed:ie(d.gasUsed),status:nu[d.status]})))??[],statusCode:u,status:c,version:i}}async function mb(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?X(n):void 0,o=r?[s==null?void 0:s.address,[F(r)]]:[s==null?void 0:s.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[d,l]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),a[Number(c)][d]=l}return typeof r=="number"?a[r]:a}async function yb(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Hu(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new mt({docsPath:"/docs/eip7702/prepareAuthorization"});const o=X(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:X(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await j(e,bt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await j(e,Mo,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&sr(i.address,o.address))&&(a.nonce+=1)),a}async function gb(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>ct(n))}async function wb(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class vb extends C{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function Vu(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:o=4,retryDelay:i=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=se(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:l,reject:f}=To();let h;const b=nt(u,{resolve:l,reject:f},p=>{const m=cn(async()=>{const v=E=>{clearTimeout(h),m(),E(),b()};try{const E=await Un(async()=>{const y=await j(e,qu,"getCallsStatus")({id:n});if(c&&y.status==="failure")throw new vb(y);return y},{retryCount:o,delay:i});if(!s(E))return;v(()=>p.resolve(E))}catch(E){v(()=>p.reject(E))}},{interval:r,emitOnBegin:!0});return m});return h=a?setTimeout(()=>{b(),clearTimeout(h),f(new xb({id:n}))},a):void 0,await d}class xb extends C{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function Pb(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await j(e,Gu,"sendCalls")(t);return await j(e,Vu,"waitForCallsStatus")({...t,id:s.id,timeout:r})}async function oi(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,F(r)]:[t]},{retryCount:0}),i=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Zo)(s);if(i.status==="reverted"&&n)throw new cc({receipt:i});return i}const Ps=new rn(128);async function Wu(e,t){var x,$,I,M,B;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(x=e.dataSuffix)==null?void 0:x.value,gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,pollingInterval:m,throwOnReceiptRevert:v,type:E,value:y,...w}=t,g=t.timeout??Math.max(((s==null?void 0:s.blockTime)??0)*3,5e3);if(typeof n>"u")throw new mt({docsPath:"/docs/actions/wallet/sendTransactionSync"});const P=n?X(n):null;try{st(t);const R=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await Gr({authorization:i[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`.")})})();if((P==null?void 0:P.type)==="json-rpc"||P===null){let _;s!==null&&(_=await j(e,bt,"getChainId")({}),r&&Wo({currentChainId:_,chain:s}));const H=(M=(I=($=e.chain)==null?void 0:$.formatters)==null?void 0:I.transactionRequest)==null?void 0:M.format,O=(H||pt)({...an(w,{format:H}),accessList:o,account:P,authorizationList:i,blobs:a,chainId:_,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,to:R,type:E,value:y},"sendTransaction"),z=Ps.get(e.uid),k=z?"wallet_sendTransaction":"eth_sendTransaction",L=await(async()=>{try{return await e.request({method:k,params:[O]},{retryCount:0})}catch(T){if(z===!1)throw T;const N=T;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(K=>(Ps.set(e.uid,!0),K)).catch(K=>{const Y=K;throw Y.name==="MethodNotFoundRpcError"||Y.name==="MethodNotSupportedRpcError"?(Ps.set(e.uid,!1),N):Y});throw N}})(),U=await j(e,ju,"waitForTransactionReceipt")({checkReplacement:!1,hash:L,pollingInterval:m,timeout:g});if(v&&U.status==="reverted")throw new cc({receipt:U});return U}if((P==null?void 0:P.type)==="local"){const _=await j(e,nr,"prepareTransactionRequest")({account:P,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,nonceManager:P.nonceManager,parameters:[...Do,"sidecars"],type:E,value:y,...w,to:R}),H=(B=s==null?void 0:s.serializers)==null?void 0:B.transaction,S=await P.signTransaction(_,{serializer:H});return await j(e,oi,"sendRawTransactionSync")({serializedTransaction:S,throwOnReceiptRevert:v,timeout:t.timeout})}throw(P==null?void 0:P.type)==="smart"?new Pt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Pt({docsPath:"/docs/actions/wallet/sendTransactionSync",type:P==null?void 0:P.type})}catch(R){throw R instanceof Pt?R:qr(R,{...t,account:P,chain:t.chain||void 0})}}async function Eb(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function $b(e,t){const{account:n=e.account}=t;if(!n)throw new mt({docsPath:"/docs/eip7702/signAuthorization"});const r=X(n);if(!r.signAuthorization)throw new Pt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Hu(e,t);return r.signAuthorization(s)}async function Zu(e,{account:t=e.account,message:n}){if(!t)throw new mt({docsPath:"/docs/actions/wallet/signMessage"});const r=X(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Wt(n):n.raw instanceof Uint8Array?ye(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Ib(e,t){var u,d,l,f;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new mt({docsPath:"/docs/actions/wallet/signTransaction"});const o=X(n);st({account:o,...t});const i=await j(e,bt,"getChainId")({});r!==null&&Wo({currentChainId:i,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||pt;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:(f=(l=e.chain)==null?void 0:l.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:F(i),from:o.address}]},{retryCount:0})}async function Ab(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new mt({docsPath:"/docs/actions/wallet/signTypedData"});const i=X(n),a={EIP712Domain:iu({domain:r}),...t.types};if(ou({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=fp({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Sb(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:F(t)}]},{retryCount:0})}async function Cb(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Qt(e,t){return Qt.internal(e,Jr,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:d,...l}=o;if(typeof a>"u")throw new mt({docsPath:"/docs/contract/writeContract"});const f=a?X(a):null,h=ve({abi:i,args:u,functionName:d});try{return await j(n,r,s)({data:h,to:c,account:f,...l})}catch(b){throw St(b,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:f==null?void 0:f.address})}}e.internal=t})(Qt||(Qt={}));async function Bb(e,t){return Qt.internal(e,Wu,"sendTransactionSync",t)}function ii(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const mr="3.4.0",Tb=()=>`@wagmi/core@${mr}`;var Ku=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$r,Yu;class qe extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Tb()}constructor(t,n={}){var o;super(),$r.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof qe?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof qe&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Ku(this,$r,"m",Yu).call(this,this,t)}}$r=new WeakSet,Yu=function e(t,n){return n!=null&&n(t)?t:t.cause?Ku(this,$r,"m",e).call(this,t.cause,n):t};class oo extends qe{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class kb extends qe{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class _b extends qe{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Nb extends qe{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Ob extends qe{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Rb extends qe{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Fb(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new kb;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=t,i=await n.connect(o);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:o.withCapabilities?i.accounts.map(c=>typeof c=="object"?c.address:c):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o.withCapabilities?i.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(s){throw e.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const io=256;let dr=io,lr;function Ju(e=11){if(!lr||dr+e>io*2){lr="",dr=0;for(let t=0;t<io;t++)lr+=(256+Math.random()*256|0).toString(16).substring(1)}return lr.substring(dr,dr+++e)}function ai(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),u=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),l=e.pollingInterval??d,f=e.cacheTime??l,h=e.account?X(e.account):void 0,{config:b,request:p,value:m}=e.transport({account:h,chain:n,pollingInterval:l}),v={...b,...m},E={account:h,batch:t,cacheTime:f,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:l,request:p,transport:v,type:a,uid:Ju(),...c?{experimental_blockTag:c}:{}};function y(w){return g=>{const P=g(w);for(const $ in E)delete P[$];const x={...w,...P};return Object.assign(x,{extend:y(x)})}}return Object.assign(E,{extend:y(E)})}function Mb(e){var l,f,h;const{scheme:t,statement:n,...r}=((l=e.match(zb))==null?void 0:l.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((f=e.match(Lb))==null?void 0:f.groups)??{},d=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const zb=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Lb=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function jb(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!re(r.address,{strict:!1})||t&&!sr(r.address,t))return!1}catch{return!1}return!0}async function Ub(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,d=Mb(s);if(!d.address||!jb({address:n,domain:r,message:d,nonce:o,scheme:i,time:c}))return!1;const f=su(s);return Yr(e,{address:d.address,hash:f,signature:a,...u})}function Db(e){return{call:t=>Qn(e,t),createAccessList:t=>Rc(e,t),createBlockFilter:()=>Jf(e),createContractEventFilter:t=>Fc(e,t),createEventFilter:t=>Mc(e,t),createPendingTransactionFilter:()=>zc(e),estimateContractGas:t=>Ih(e,t),estimateGas:t=>Go(e,t),getBalance:t=>Ah(e,t),getBlobBaseFee:()=>Sh(e),getBlock:t=>_e(e,t),getBlockNumber:t=>rr(e,t),getBlockTransactionCount:t=>Nh(e,t),getBytecode:t=>Ws(e,t),getChainId:()=>bt(e),getCode:t=>Ws(e,t),getContractEvents:t=>eu(e,t),getEip712Domain:t=>Mh(e,t),getEnsAddress:t=>Rf(e,t),getEnsAvatar:t=>Zf(e,t),getEnsName:t=>Kf(e,t),getEnsResolver:t=>Yf(e,t),getEnsText:t=>Oc(e,t),getFeeHistory:t=>jh(e,t),estimateFeesPerGas:t=>lh(e,t),getFilterChanges:t=>Hr(e,t),getFilterLogs:t=>Uh(e,t),getGasPrice:()=>Fo(e),getLogs:t=>Ho(e,t),getProof:t=>M1(e,t),estimateMaxPriorityFeePerGas:t=>dh(e,t),fillTransaction:t=>Uo(e,t),getStorageAt:t=>z1(e,t),getTransaction:t=>ri(e,t),getTransactionConfirmations:t=>L1(e,t),getTransactionCount:t=>Mo(e,t),getTransactionReceipt:t=>br(e,t),multicall:t=>j1(e,t),prepareTransactionRequest:t=>nr(e,t),readContract:t=>ke(e,t),sendRawTransaction:t=>si(e,t),sendRawTransactionSync:t=>oi(e,t),simulate:t=>no(e,t),simulateBlocks:t=>no(e,t),simulateCalls:t=>Y1(e,t),simulateContract:t=>J1(e,t),verifyHash:t=>Yr(e,t),verifyMessage:t=>ib(e,t),verifySiweMessage:t=>Ub(e,t),verifyTypedData:t=>ab(e,t),uninstallFilter:t=>Kr(e,t),waitForTransactionReceipt:t=>ju(e,t),watchBlocks:t=>ub(e,t),watchBlockNumber:t=>Lu(e,t),watchContractEvent:t=>db(e,t),watchEvent:t=>lb(e,t),watchPendingTransactions:t=>fb(e,t)}}function Gb(e){const{key:t="public",name:n="Public Client"}=e;return ai({...e,key:t,name:n,type:"publicClient"}).extend(Db)}function qb(e){return{addChain:t=>hb(e,t),deployContract:t=>pb(e,t),fillTransaction:t=>Uo(e,t),getAddresses:()=>bb(e),getCallsStatus:t=>qu(e,t),getCapabilities:t=>mb(e,t),getChainId:()=>bt(e),getPermissions:()=>yb(e),prepareAuthorization:t=>Hu(e,t),prepareTransactionRequest:t=>nr(e,t),requestAddresses:()=>gb(e),requestPermissions:t=>wb(e,t),sendCalls:t=>Gu(e,t),sendCallsSync:t=>Pb(e,t),sendRawTransaction:t=>si(e,t),sendRawTransactionSync:t=>oi(e,t),sendTransaction:t=>Jr(e,t),sendTransactionSync:t=>Wu(e,t),showCallsStatus:t=>Eb(e,t),signAuthorization:t=>$b(e,t),signMessage:t=>Zu(e,t),signTransaction:t=>Ib(e,t),signTypedData:t=>Ab(e,t),switchChain:t=>Sb(e,t),waitForCallsStatus:t=>Vu(e,t),watchAsset:t=>Cb(e,t),writeContract:t=>Qt(e,t),writeContractSync:t=>Bb(e,t)}}function Xu({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=Ju();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:tp(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function Hb(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Xu({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}class Vb extends C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Qu(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:l}=t;return({chain:f,retryCount:h,timeout:b})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},v=t.retryCount??h,E=b??t.timeout??1e4,y=f==null?void 0:f.rpcUrls.default.http[0];if(!y)throw new Vb;const w=op(y,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:E});return Xu({key:o,methods:i,name:a,async request({method:g,params:P}){const x={method:g,params:P},{schedule:$}=Tc({id:y,wait:m,shouldSplitBatch(R){return R.length>p},fn:R=>w.request({body:R}),sort:(R,_)=>R.id-_.id}),I=async R=>n?$(R):[await w.request({body:R})],[{error:M,result:B}]=await I(x);if(l)return{error:M,result:B};if(M)throw new Eo({body:x,error:M,url:y});return B},retryCount:v,retryDelay:d,timeout:E,type:"http"},{fetchOptions:s,url:y})}}async function ci(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:d}=t;if(e.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new Rb({connector:d});const[l,f]=await Promise.all([d.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),d.getChainId()]);r={accounts:l,chainId:f,connector:d}}else r=e.state.connections.get(e.state.current);if(!r)throw new _b;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new Ob({connectionChainId:s,connectorChainId:o});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const a=X(t.account??r.accounts[0]);if(a&&(a.address=ct(a.address)),t.account&&!r.accounts.some(d=>d.toLowerCase()===a.address.toLowerCase()))throw new Nb({address:a.address,connector:i});const c=e.chains.find(d=>d.id===s),u=await r.connector.getProvider({chainId:s});return ai({account:a,chain:c,name:"Connector Client",transport:d=>Hb(u)({...d,retryCount:0})})}async function e0(e,t={}){var s,o;let n;if(t.connector)n=t.connector;else{const{connections:i,current:a}=e.state,c=i.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...i,connections:new Map(r),current:a.connector.uid}});{const i=e.state.current;if(!i)return;const a=(s=e.state.connections.get(i))==null?void 0:s.connector;if(!a)return;await((o=e.storage)==null?void 0:o.setItem("recentConnectorId",a.id))}}function t0(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],o=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function oa(e,t={}){return(await ci(e,t)).extend(qb)}function ia(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return ii(s,ke,"readContract")(r)}async function Wb(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await ci(e,{account:n,connector:r}),ii(o,Zu,"signMessage")({...s,...n?{account:n}:{}})}class Mt extends qe{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}async function aa(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;typeof n=="object"&&(n==null?void 0:n.type)==="local"?i=e.getClient({chainId:r}):i=await ci(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s});const a=(()=>{var d;return!r||((d=i.chain)==null?void 0:d.id)===r?i.chain:{id:r}})();return await ii(i,Qt,"writeContract")({...o,...n?{account:n}:{},assertChainId:!!r,chain:a})}ir.type="injected";function ir(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Zb[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:ir.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:l}={}){var b,p,m,v,E,y;const f=await this.getProvider();if(!f)throw new Mt;let h=[];if(d)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(v=(m=(p=(b=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:p[0])==null?void 0:m.value)==null?void 0:v.map(g=>ct(g)),h.length>0&&(h=await this.getAccounts())}catch(w){const g=w;if(g.code===le.code)throw new le(g);if(g.code===dt.code)throw g}try{!(h!=null&&h.length)&&!d&&(h=(await f.request({method:"eth_requestAccounts"})).map(P=>ct(P))),i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let w=await this.getChainId();if(u&&w!==u){const g=await this.switchChain({chainId:u}).catch(P=>{if(P.code===le.code)throw P;return{id:w}});w=(g==null?void 0:g.id)??w}return t&&await((E=c.storage)==null?void 0:E.removeItem(`${this.id}.disconnected`)),e.target||await((y=c.storage)==null?void 0:y.setItem("injected.connected",!0)),{accounts:l?h.map(g=>({address:g,capabilities:{}})):h,chainId:w}}catch(w){const g=w;throw g.code===le.code?new le(g):g.code===dt.code?new dt(g):g}},async disconnect(){var d,l;const u=await this.getProvider();if(!u)throw new Mt;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await ru(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),e.target||await((l=c.storage)==null?void 0:l.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Mt;return(await u.request({method:"eth_accounts"})).map(l=>ct(l))},async getChainId(){const u=await this.getProvider();if(!u)throw new Mt;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=r();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=yr(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((d=c.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const b=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",b),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(b()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(b()),p))]))return!0}throw new Mt}return!!(await Un(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var b,p,m,v;const l=await this.getProvider();if(!l)throw new Mt;const f=c.chains.find(E=>E.id===d);if(!f)throw new At(new oo);const h=new Promise(E=>{const y=(w=>{"chainId"in w&&w.chainId===d&&(c.emitter.off("change",y),E())});c.emitter.on("change",y)});try{return await Promise.all([l.request({method:"wallet_switchEthereumChain",params:[{chainId:F(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit("change",{chainId:d})}),h]),f}catch(E){const y=E;if(y.code===4902||((p=(b=y==null?void 0:y.data)==null?void 0:b.originalError)==null?void 0:p.code)===4902)try{const{default:w,...g}=f.blockExplorers??{};let P;u!=null&&u.blockExplorerUrls?P=u.blockExplorerUrls:w&&(P=[w.url,...Object.values(g).map(I=>I.url)]);let x;(m=u==null?void 0:u.rpcUrls)!=null&&m.length?x=u.rpcUrls:x=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const $={blockExplorerUrls:P,chainId:F(d),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:x};return await Promise.all([l.request({method:"wallet_addEthereumChain",params:[$]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit("change",{chainId:d});else throw new le(new Error("User rejected switch after adding network."))}),h]),f}catch(w){throw new le(w)}throw y.code===le.code?new le(y):new At(y)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l}),t&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(l=>ct(l))})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const l=Number(u.chainId);c.emitter.emit("connect",{accounts:d,chainId:l});const f=await this.getProvider();f&&(i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),a&&(d.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),d.on("connect",i))))}})}const Zb={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:yr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return yr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:yr(e,"isPhantom")}}};function yr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Kb(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Yb(){const e=new Set;let t=[];const n=()=>Kb(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const Jb=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const d=(c==null?void 0:c.equalityFn)||Object.is;let l=i(r.getState());u=f=>{const h=i(f);if(!d(l,h)){const b=l;a(l=h,b)}},c!=null&&c.fireImmediately&&a(l,l)}return s(u)},e(t,n,r)},Xb=Jb;function Qb(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const ao=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ao(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ao(r)(n)}}}},em=(e,t)=>(n,r,s)=>{let o={storage:Qb(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const d=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},l=s.setState;s.setState=(p,m)=>{l(p,m),d()};const f=e((...p)=>{n(...p),d()},r,s);s.getInitialState=()=>f;let h;const b=()=>{var p,m;if(!u)return;i=!1,a.forEach(E=>{var y;return E((y=r())!=null?y:f)});const v=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(p=r())!=null?p:f))||void 0;return ao(u.getItem.bind(u))(o.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==o.version){if(o.migrate)return[!0,o.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var y;const[w,g]=E;if(h=o.merge(g,(y=r())!=null?y:f),n(h,!0),w)return d()}).then(()=>{v==null||v(h,void 0),h=r(),i=!0,c.forEach(E=>E(h))}).catch(E=>{v==null||v(void 0,E)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||b(),h||f},tm=em,ca=e=>{let t;const n=new Set,r=(u,d)=>{const l=typeof u=="function"?u(t):u;if(!Object.is(l,t)){const f=t;t=d??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(h=>h(t,f))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},Es=e=>e?ca(e):ca;function nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $s={exports:{}},ua;function rm(){return ua||(ua=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,l,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,l||c,f),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],h]:c._events[b].push(h):(c._events[b]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,l;if(this._eventsCount===0)return u;for(l in d=this._events)t.call(d,l)&&u.push(n?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,l=this._events[d];if(!l)return[];if(l.fn)return[l.fn];for(var f=0,h=l.length,b=new Array(h);f<h;f++)b[f]=l[f].fn;return b},a.prototype.listenerCount=function(u){var d=n?n+u:u,l=this._events[d];return l?l.fn?1:l.length:0},a.prototype.emit=function(u,d,l,f,h,b){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],v=arguments.length,E,y;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,l),!0;case 4:return m.fn.call(m.context,d,l,f),!0;case 5:return m.fn.call(m.context,d,l,f,h),!0;case 6:return m.fn.call(m.context,d,l,f,h,b),!0}for(y=1,E=new Array(v-1);y<v;y++)E[y-1]=arguments[y];m.fn.apply(m.context,E)}else{var w=m.length,g;for(y=0;y<w;y++)switch(m[y].once&&this.removeListener(u,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,d);break;case 3:m[y].fn.call(m[y].context,d,l);break;case 4:m[y].fn.call(m[y].context,d,l,f);break;default:if(!E)for(g=1,E=new Array(v-1);g<v;g++)E[g-1]=arguments[g];m[y].fn.apply(m[y].context,E)}}return!0},a.prototype.on=function(u,d,l){return o(this,u,d,l,!1)},a.prototype.once=function(u,d,l){return o(this,u,d,l,!0)},a.prototype.removeListener=function(u,d,l,f){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var b=this._events[h];if(b.fn)b.fn===d&&(!f||b.once)&&(!l||b.context===l)&&i(this,h);else{for(var p=0,m=[],v=b.length;p<v;p++)(b[p].fn!==d||f&&!b[p].once||l&&b[p].context!==l)&&m.push(b[p]);m.length?this._events[h]=m.length===1?m[0]:m:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})($s)),$s.exports}var sm=rm();const om=nm(sm);class im{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new om})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function am(e){return new im(e)}function cm(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function da(e,t){return e.slice(0,t).join(".")||"."}function la(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function um(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=la(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const d=la(s,c);if(d!==0)return r?t.call(this,a,c,da(o,d)):`[ref=${da(o,d)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function dm(e,t,n,r){return JSON.stringify(e,um((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),(t==null?void 0:t(s,i))??i},r),n??void 0)}function lm(e){const{deserialize:t=cm,key:n="wagmi",serialize:r=dm,storage:s=n0}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const n0={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function fm(){const e=typeof window<"u"&&window.localStorage?window.localStorage:n0;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const co=256;let fr=co,hr;function hm(e=11){if(!hr||fr+e>co*2){hr="",fr=0;for(let t=0;t<co;t++)hr+=(256+Math.random()*256|0).toString(16).substring(1)}return hr.substring(fr,fr+++e)}function pm(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=lm({storage:fm()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?Yb():void 0,a=Es(()=>o.chains),c=Es(()=>{const g=[],P=new Set;for(const x of o.connectors??[]){const $=u(x);if(g.push($),!s&&$.rdns){const I=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const M of I)P.add(M)}}if(!s&&i){const x=i.getProviders();for(const $ of x)P.has($.info.rdns)||g.push(u(d($)))}return g});function u(g){var $;const P=am(hm()),x={...g({emitter:P,chains:a.getState(),storage:n,transports:o.transports}),emitter:P,uid:P.uid};return P.on("connect",y),($=x.setup)==null||$.call(x),x}function d(g){const{info:P}=g,x=g.provider;return ir({target:{...P,id:P.rdns,provider:x}})}const l=new Map;function f(g={}){const P=g.chainId??m.getState().chainId,x=a.getState().find(I=>I.id===P);if(g.chainId&&!x)throw new oo;{const I=l.get(m.getState().chainId);if(I&&!x)return I;if(!x)throw new oo}{const I=l.get(P);if(I)return I}let $;if(o.client)$=o.client({chain:x});else{const I=x.id,M=a.getState().map(_=>_.id),B={},R=Object.entries(o);for(const[_,H]of R)if(!(_==="chains"||_==="client"||_==="connectors"||_==="transports"))if(typeof H=="object")if(I in H)B[_]=H[I];else{if(M.some(O=>O in H))continue;B[_]=H}else B[_]=H;$=ai({...B,chain:x,batch:B.batch??{multicall:!0},transport:_=>o.transports[I]({..._,connectors:c})})}return l.set(P,$),$}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const p="0.0.0-canary-";mr.startsWith(p)?b=Number.parseInt(mr.replace(p,""),10):b=Number.parseInt(mr.split(".")[0]??"0",10);const m=Es(Xb(n?tm(h,{migrate(g,P){if(P===b)return g;const x=h(),$=v(g,x.chainId);return{...x,chainId:$}},name:"store",partialize(g){return{connections:{__type:"Map",value:Array.from(g.connections.entries()).map(([P,x])=>{const{id:$,name:I,type:M,uid:B}=x.connector;return[P,{...x,connector:{id:$,name:I,type:M,uid:B}}]})},chainId:g.chainId,current:g.current}},merge(g,P){typeof g=="object"&&g&&"status"in g&&delete g.status;const x=v(g,P.chainId);return{...P,...g,chainId:x}},skipHydration:s,storage:n,version:b}):h));m.setState(h());function v(g,P){return g&&typeof g=="object"&&"chainId"in g&&typeof g.chainId=="number"&&a.getState().some(x=>x.id===g.chainId)?g.chainId:P}r&&m.subscribe(({connections:g,current:P})=>{var x;return P?(x=g.get(P))==null?void 0:x.chainId:void 0},g=>{if(a.getState().some(x=>x.id===g))return m.setState(x=>({...x,chainId:g??x.chainId}))}),i==null||i.subscribe(g=>{const P=new Set,x=new Set;for(const I of c.getState())if(P.add(I.id),I.rdns){const M=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const B of M)x.add(B)}const $=[];for(const I of g){if(x.has(I.info.rdns))continue;const M=u(d(I));P.has(M.id)||$.push(M)}n&&!m.persist.hasHydrated()||c.setState(I=>[...I,...$],!0)});function E(g){m.setState(P=>{const x=P.connections.get(g.uid);return x?{...P,connections:new Map(P.connections).set(g.uid,{accounts:g.accounts??x.accounts,chainId:g.chainId??x.chainId,connector:x.connector})}:P})}function y(g){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(P=>{const x=c.getState().find($=>$.uid===g.uid);return x?(x.emitter.listenerCount("connect")&&x.emitter.off("connect",E),x.emitter.listenerCount("change")||x.emitter.on("change",E),x.emitter.listenerCount("disconnect")||x.emitter.on("disconnect",w),{...P,connections:new Map(P.connections).set(g.uid,{accounts:g.accounts,chainId:g.chainId,connector:x}),current:g.uid,status:"connected"}):P})}function w(g){m.setState(P=>{const x=P.connections.get(g.uid);if(x){const I=x.connector;I.emitter.listenerCount("change")&&x.connector.emitter.off("change",E),I.emitter.listenerCount("disconnect")&&x.connector.emitter.off("disconnect",w),I.emitter.listenerCount("connect")||x.connector.emitter.on("connect",y)}if(P.connections.delete(g.uid),P.connections.size===0)return{...P,connections:new Map,current:null,status:"disconnected"};const $=P.connections.values().next().value;return{...P,connections:new Map(P.connections),current:$.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return m.getState()},setState(g){let P;typeof g=="function"?P=g(m.getState()):P=g;const x=h();typeof P!="object"&&(P=x),Object.keys(x).some(I=>!(I in P))&&(P=x),m.setState(P,!0)},subscribe(g,P,x){return m.subscribe(g,P,x?{...x,fireImmediately:x.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const g=m.getState(),P=g.connections;let x=g.current;for(const[,$]of P){const I=$.connector;I.isAuthorized&&await I.isAuthorized()||(P.delete(I.uid),x===I.uid&&(x=null))}m.setState($=>({...$,connections:P,current:x}))},store:m,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(g){const P=typeof g=="function"?g(a.getState()):g;if(P.length!==0)return a.setState(P,!0)},subscribe(g){return a.subscribe(g)}},connectors:{providerDetailToConnector:d,setup:u,setState(g){return c.setState(typeof g=="function"?g(c.getState()):g,!0)},subscribe(g){return c.subscribe(g)}},events:{change:E,connect:y,disconnect:w}}}}const bm={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},mm={block:uh({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=tr(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?ie(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:ah({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ie(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:rp({format(e){return{l1GasPrice:e.l1GasPrice?ie(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ie(e.l1GasUsed):null,l1Fee:e.l1Fee?ie(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function ym(e,t){return vm(e)?wm(e):Vh(e,t)}const gm={transaction:ym};function wm(e){xm(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?ye(i):"0x",c?ye(c):"0x",s?ye(s):"0x",o?"0x1":"0x",n??"0x"];return Me(["0x7e",ft(u)])}function vm(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function xm(e){const{from:t,to:n}=e;if(t&&!re(t))throw new pe({address:t});if(n&&!re(n))throw new pe({address:n})}const fa={blockTime:2e3,contracts:bm,formatters:mm,serializers:gm},mn=1,Ir=tu({...fa,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...fa.contracts,disputeGameFactory:{[mn]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[mn]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[mn]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[mn]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:mn});({...Ir});function Pm(e){const t=(e??"").trim();if(!t)throw new Error("Address is required");if(t.includes("."))throw new Error("Please use a raw wallet address (0x...). ENS names are not supported on Base.");if(!re(t))throw new Error("Invalid address format. Use a raw wallet address (0x...).");return t}const uo=Pm;function Em(e){return!e||e.length<10?e:`${e.slice(0,6)}...${e.slice(-4)}`}const r0=ir({target:"metaMask"}),s0=ir({target:"coinbaseWallet"}),Ce=pm({chains:[Ir],connectors:[r0,s0],transports:{[Ir.id]:Qu()},ssr:!0}),Ar="0xA99c4B08201F2913Db8D28e71d020c4298F29dBF",Sr=[{type:"function",name:"isPetOperatorForAll",stateMutability:"view",inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"tokenIdsOfOwner",stateMutability:"view",inputs:[{name:"_owner",type:"address"}],outputs:[{type:"uint32[]"}]},{type:"function",name:"setPetOperatorForAll",stateMutability:"nonpayable",inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],outputs:[]}],$m={class:"wallet-connect"},Im={key:0,class:"space-y-4"},Am={class:"flex flex-col sm:flex-row gap-3"},Sm=["disabled"],Cm=["disabled"],Bm={key:0,class:"text-red-400 text-sm"},Tm={key:1,class:"text-slate-400 text-xs mt-1"},km={key:1,class:"space-y-4"},_m={class:"bg-emerald-500/20 border border-emerald-500/50 rounded-lg p-4"},Nm={class:"text-slate-300 text-sm mt-1 break-all"},Om={key:0,class:"text-amber-400/90 text-sm"},Rm=["disabled"],Fm=en({__name:"WalletConnect",setup(e){var p,m;const t=pa(),n=(((p=t.public)==null?void 0:p.allowedAddress)||"0x2127aa7265d573aa467f1d73554d17890b872e76").toLowerCase(),r=(m=t.public)==null?void 0:m.allowedAddresses,s=r?r.split(",").map(v=>v.trim().toLowerCase()).filter(Boolean):[n],o=Z(""),i=Z(!1),a=Z(!1),c=Z(!1),u=Z(!1),d=Z(""),l=async()=>{try{const v=await $fetch("/api/auth/check");a.value=v.authenticated}catch{a.value=!1}},f=async v=>{var E;c.value=!0,d.value="";try{const w=await Fb(Ce,{connector:v==="metaMask"?r0:s0});if((E=w==null?void 0:w.accounts)!=null&&E[0]){o.value=w.accounts[0],i.value=!0;const g=w.accounts[0].toLowerCase();s.includes(g)?await l():(d.value=s.length===1?`Your address is not whitelisted. Only ${n} is allowed.`:"Your address is not whitelisted.",i.value=!1)}}catch(y){const w=(y==null?void 0:y.message)||"Failed to connect wallet";w.includes("Provider not found")?d.value="MetaMask/Coinbase not found. Disable Uniswap Wallet and other extensions, or use a private window with only MetaMask or Coinbase.":w.includes("ethereum")&&w.includes("getter")?d.value="Wallet conflict detected. Try disabling other wallet extensions or use a private window with only MetaMask or Coinbase Wallet.":d.value=w,i.value=!1}finally{c.value=!1}},h=async()=>{var v;u.value=!0,d.value="";try{const E=`Sign in to Aavegotchi Petter Bot

Address: ${o.value}

This request will not trigger a blockchain transaction or cost any gas fees.`,y=await Wb(Ce,{message:E,account:o.value});(await $fetch("/api/auth/verify",{method:"POST",body:{address:o.value,message:E,signature:y}})).success&&(a.value=!0,window.location.href="/")}catch(E){d.value=(E==null?void 0:E.message)||((v=E==null?void 0:E.data)==null?void 0:v.message)||"Failed to sign message"}finally{u.value=!1}},b=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await e0(Ce),i.value=!1,a.value=!1,o.value="",await ba("/")}catch(v){console.error("Failed to disconnect:",v)}};return Gn(async()=>{if(typeof window>"u")return;const v=t0(Ce);v.isConnected&&v.address&&(o.value=v.address,i.value=!0,await l())}),(v,E)=>(D(),G("div",$m,[i.value?(D(),G("div",km,[A("div",_m,[E[3]||(E[3]=A("p",{class:"text-emerald-400 font-medium"},"Connected",-1)),A("p",Nm,q(o.value),1)]),a.value?te("",!0):(D(),G("p",Om," Sign in below to access Bot Control, Delegation List, and full dashboard. ")),a.value?(D(),G("button",{key:2,onClick:b,class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Disconnect ")):(D(),G("button",{key:1,onClick:h,disabled:u.value,class:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},q(u.value?"Signing...":"Sign Message to Login"),9,Rm))])):(D(),G("div",Im,[E[2]||(E[2]=A("p",{class:"text-slate-400"},"Connect with MetaMask or Coinbase Wallet only",-1)),A("div",Am,[A("button",{onClick:E[0]||(E[0]=y=>f("metaMask")),disabled:c.value,class:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},q(c.value?"Connecting...":"MetaMask"),9,Sm),A("button",{onClick:E[1]||(E[1]=y=>f("coinbaseWallet")),disabled:c.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},q(c.value?"Connecting...":"Coinbase Wallet"),9,Cm)]),d.value?(D(),G("p",Bm,q(d.value),1)):te("",!0),d.value?(D(),G("p",Tm," Have Uniswap or other wallets? Disable them or use a private window with only MetaMask or Coinbase Wallet. ")):te("",!0)]))]))}}),gn=window.setInterval,Mm={class:"bot-control"},zm={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Lm={key:0,class:"text-center py-4"},jm={key:1,class:"space-y-4"},Um={class:"flex items-center justify-between"},Dm={key:0},Gm={class:"text-lg font-semibold"},qm={key:0,class:"bg-white/5 border border-white/10 rounded-lg p-4"},Hm={class:"text-slate-300 text-sm mt-1"},Vm={key:1,class:"bg-red-500/20 border border-red-500/50 rounded-lg p-4"},Wm={class:"text-red-300 text-sm mt-1"},Zm={class:"flex gap-4"},Km=["disabled"],Ym=["disabled"],Jm=en({__name:"BotControl",emits:["triggered"],setup(e,{emit:t}){const n=t,r=Z({running:!1}),s=Z(!0),o=Z(!1),i=Z(!1),a=async()=>{try{const l=await $fetch("/api/bot/status");r.value=l}catch(l){console.error("Failed to fetch bot status:",l)}finally{s.value=!1}},c=async()=>{o.value=!0;try{const l=r.value.running?"/api/bot/stop":"/api/bot/start";await $fetch(l,{method:"POST"}),await a()}catch(l){console.error("Failed to toggle bot:",l),alert("Failed to toggle bot status")}finally{o.value=!1}},u=async()=>{var l,f,h;i.value=!0;try{const b=await $fetch("/api/bot/trigger",{method:"POST",body:{force:!0}}),p=(l=b==null?void 0:b.result)==null?void 0:l.message;alert(p||"Bot triggered successfully!"),n("triggered"),await a()}catch(b){console.error("Failed to trigger bot:",b);const p=((f=b==null?void 0:b.data)==null?void 0:f.message)||((h=b==null?void 0:b.data)==null?void 0:h.error)||(b==null?void 0:b.message)||(typeof(b==null?void 0:b.data)=="string"?b.data:null)||"Failed to trigger bot";alert(p)}finally{i.value=!1}},d=l=>new Date(l).toLocaleString();return Gn(()=>{a(),gn(a,1e4)}),(l,f)=>(D(),G("div",Mm,[A("div",zm,[f[5]||(f[5]=A("h2",{class:"text-lg font-semibold mb-4"},"Bot Control",-1)),s.value?(D(),G("div",Lm,[...f[0]||(f[0]=[A("p",{class:"text-slate-400"},"Loading...",-1)])])):(D(),G("div",jm,[A("div",Um,[A("div",null,[f[1]||(f[1]=A("p",{class:"text-sm text-slate-400"},"Status",-1)),A("p",{class:je(["text-lg font-semibold",r.value.running?"text-emerald-400":"text-red-400"])},q(r.value.running?"Running":"Stopped"),3)]),r.value.lastRun?(D(),G("div",Dm,[f[2]||(f[2]=A("p",{class:"text-sm text-slate-400"},"Last Run",-1)),A("p",Gm,q(d(r.value.lastRun)),1)])):te("",!0)]),r.value.lastRunMessage&&!r.value.lastError?(D(),G("div",qm,[f[3]||(f[3]=A("p",{class:"text-slate-400 text-sm font-medium"},"Last Outcome",-1)),A("p",Hm,q(r.value.lastRunMessage),1)])):te("",!0),r.value.lastError?(D(),G("div",Vm,[f[4]||(f[4]=A("p",{class:"text-red-400 font-medium"},"Last Error",-1)),A("p",Wm,q(r.value.lastError),1)])):te("",!0),A("div",Zm,[A("button",{onClick:c,disabled:o.value,class:je(["px-6 py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",r.value.running?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700"])},q(o.value?"Processing...":r.value.running?"Stop Bot":"Start Bot"),11,Km),A("button",{onClick:u,disabled:i.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},q(i.value?"Running...":"Trigger Now"),9,Ym)])]))])]))}});function o0(){var o;const t=((o=pa().public)==null?void 0:o.petterAddress)||"0x6c5FC27F465ac73466D3A10508d2ED8a68364bBF",n=Z(null),r=Z(!0);return{status:n,loading:r,petterAddress:t,fetchStatus:async()=>{if(typeof window>"u")return;const i=t0(Ce).address;if(!i||!t){n.value=null,r.value=!1;return}try{const a=uo(t),[c,u]=await Promise.all([ia(Ce,{address:Ar,abi:Sr,functionName:"isPetOperatorForAll",args:[i,a]}),$fetch("/api/delegation/registered").catch(()=>({registered:!1}))]);let d=0;if(c){const l=await ia(Ce,{address:Ar,abi:Sr,functionName:"tokenIdsOfOwner",args:[i]});d=Array.isArray(l)?l.length:0}n.value={approved:c,registered:u.registered,gotchiCount:d,petterAddress:t,canRegister:c&&!u.registered}}catch(a){console.error("Failed to fetch delegation status:",a),n.value=null}finally{r.value=!1}}}}const Xm={class:"delegation-card"},Qm={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},ey={key:0,class:"text-center py-4"},ty={key:1,class:"text-center py-4"},ny={key:2,class:"space-y-4"},ry={class:"bg-white/5 rounded-lg p-4 font-mono text-sm break-all"},sy={class:"space-y-2"},oy={class:"flex items-center gap-2"},iy={class:"flex items-center gap-2"},ay={key:0,class:"text-sm text-slate-400"},cy={class:"flex flex-col gap-2"},uy=["disabled"],dy=["disabled"],ly=["disabled"],fy=["disabled"],hy={class:"mt-2 pt-2 border-t border-white/10"},py={class:"flex flex-wrap gap-2 items-center"},by=["disabled"],my=["disabled"],yy=en({__name:"DelegationCard",setup(e){const{status:t,loading:n,petterAddress:r,fetchStatus:s}=o0(),o=Z(""),i=Z(!1),a=Z(!1),c=Z(!1),u=async()=>{i.value=!0;try{const p=uo(r);if(!await oa(Ce)){alert("Please connect your wallet first");return}await aa(Ce,{address:Ar,abi:Sr,functionName:"setPetOperatorForAll",args:[p,!0]}),await s()}catch(p){console.error("Approve failed:",p),alert((p==null?void 0:p.message)||"Approval failed")}finally{i.value=!1}},d=async()=>{var p;a.value=!0;try{await $fetch("/api/delegation/register",{method:"POST"}),await s()}catch(m){alert(((p=m==null?void 0:m.data)==null?void 0:p.message)||(m==null?void 0:m.message)||"Registration failed")}finally{a.value=!1}},l=async()=>{confirm("Revoke the current petter? You will need to approve again after updating the petter address.")&&await b(r.value)},f=p=>{confirm(`Revoke ${p} as petter for your gotchis?`)&&b(p)},h=async()=>{var m;const p=(m=o.value)==null?void 0:m.trim();if(!p||!p.startsWith("0x")){alert("Enter a valid address (0x...)");return}f(p),o.value=""},b=async p=>{c.value=!0;try{const m=uo(p);if(!await oa(Ce)){alert("Please connect your wallet first");return}await aa(Ce,{address:Ar,abi:Sr,functionName:"setPetOperatorForAll",args:[m,!1]}),p.toLowerCase()===(r==null?void 0:r.toLowerCase())&&await $fetch("/api/delegation/unregister",{method:"POST"}),await s(),alert("Revoked successfully.")}catch(m){console.error("Revoke failed:",m),alert((m==null?void 0:m.message)||"Revoke failed")}finally{c.value=!1}};return Gn(()=>{s()}),(p,m)=>{var v,E,y,w,g,P,x,$;return D(),G("div",Xm,[A("div",Qm,[m[7]||(m[7]=A("h2",{class:"text-lg font-semibold mb-2"},"EIP PetOperator Delegation",-1)),m[8]||(m[8]=A("p",{class:"text-slate-400 text-sm mb-4"}," Keep your Aavegotchis in your wallet. Approve our petter to pet on your behalfno transfer needed. ",-1)),ae(n)?(D(),G("div",ey,[...m[2]||(m[2]=[A("p",{class:"text-slate-400"},"Loading...",-1)])])):ae(t)?(D(),G("div",ny,[A("div",ry,[m[4]||(m[4]=A("span",{class:"text-slate-400"},"Petter address: ",-1)),ma(" "+q(ae(r)||""),1)]),A("div",sy,[A("div",oy,[A("span",{class:je(["w-3 h-3 rounded-full",(v=ae(t))!=null&&v.approved?"bg-emerald-500":"bg-amber-500"])},null,2),A("span",null,q((E=ae(t))!=null&&E.approved?"Approved":"Not approved"),1)]),A("div",iy,[A("span",{class:je(["w-3 h-3 rounded-full",(y=ae(t))!=null&&y.registered?"bg-emerald-500":"bg-slate-500"])},null,2),A("span",null,q((w=ae(t))!=null&&w.registered?"Registered":"Not registered"),1)]),((g=ae(t))==null?void 0:g.gotchiCount)!==void 0?(D(),G("div",ay,q(ae(t).gotchiCount)+" Aavegotchi(es) in your wallet ",1)):te("",!0)]),A("div",cy,[(P=ae(t))!=null&&P.approved?(x=ae(t))!=null&&x.canRegister?(D(),G(at,{key:1},[A("button",{onClick:d,disabled:a.value,class:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 font-medium"},q(a.value?"Registering...":"2. Register for Auto-Petting"),9,dy),A("button",{onClick:l,disabled:c.value,class:"px-4 py-2 text-slate-400 hover:text-white text-sm"},q(c.value?"Revoking...":"Revoke approval"),9,ly)],64)):($=ae(t))!=null&&$.registered?(D(),G(at,{key:2},[m[6]||(m[6]=A("div",{class:"px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg text-sm border border-emerald-500/50"},"  You're all set! Your Aavegotchis will be petted every 12 hours. ",-1)),A("button",{onClick:l,disabled:c.value,class:"px-4 py-2 bg-red-600/80 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 text-sm font-medium"},q(c.value?"Revoking...":"Revoke & Change Petter"),9,fy),A("div",hy,[m[5]||(m[5]=A("p",{class:"text-slate-400 text-xs mb-1"},"Revoke a different petter address:",-1)),A("div",py,[ae(r)?(D(),G("button",{key:0,type:"button",onClick:m[0]||(m[0]=I=>f(ae(r))),disabled:c.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke "+q(ae(Em)(ae(r))),9,by)):te("",!0),i0(A("input",{"onUpdate:modelValue":m[1]||(m[1]=I=>o.value=I),type:"text",placeholder:"0x...",class:"flex-1 min-w-[140px] bg-white/10 border border-white/20 rounded px-3 py-1.5 text-sm font-mono placeholder-slate-500"},null,512),[[a0,o.value]]),A("button",{type:"button",onClick:h,disabled:c.value||!o.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke ",8,my)])])],64)):te("",!0):(D(),G("button",{key:0,onClick:u,disabled:i.value,class:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 font-medium"},q(i.value?"Confirm in wallet...":"1. Approve Petter (sign tx)"),9,uy))])])):(D(),G("div",ty,[...m[3]||(m[3]=[A("p",{class:"text-slate-400"},"Connect your wallet to view delegation status. If already connected, refresh the page.",-1)])]))])])}}}),gy={class:"delegation-list"},wy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},vy={class:"flex items-center justify-between mb-4"},xy=["disabled"],Py={key:0,class:"text-center py-8 text-slate-400"},Ey={key:1,class:"text-center py-8 text-slate-400"},$y={key:2,class:"space-y-4"},Iy={class:"flex flex-wrap items-center justify-between gap-2 text-sm text-slate-400 mb-2"},Ay={class:"font-semibold text-white"},Sy=["disabled"],Cy={class:"space-y-2 max-h-64 overflow-y-auto"},By=["href"],Ty={class:"text-emerald-400 font-medium ml-3 shrink-0"},ky=en({__name:"DelegationList",setup(e){const t=Z([]),n=Z(0),r=Z(!1),s=Z(!1),o=async()=>{var a;if(confirm("Unregister all delegates? The worker will stop petting for them. Each owner should revoke on-chain.")){s.value=!0;try{const c=await $fetch("/api/delegation/clear-all",{method:"POST"});alert(c.message),await i()}catch(c){alert(((a=c==null?void 0:c.data)==null?void 0:a.message)||(c==null?void 0:c.message)||"Failed to unregister all")}finally{s.value=!1}}},i=async()=>{r.value=!0;try{const a=await $fetch("/api/delegation/owners");t.value=a.owners||[],n.value=a.totalGotchis||0}catch(a){console.error("Failed to fetch delegation owners:",a),t.value=[],n.value=0}finally{r.value=!1}};return Gn(()=>{i(),gn(i,6e4)}),(a,c)=>(D(),G("div",gy,[A("div",wy,[A("div",vy,[c[0]||(c[0]=A("h2",{class:"text-lg font-semibold"},"Delegating Owners",-1)),A("button",{onClick:i,disabled:r.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},q(r.value?"Loading...":"Refresh"),9,xy)]),r.value&&t.value.length===0?(D(),G("div",Py,[...c[1]||(c[1]=[A("p",null,"Loading delegation list...",-1)])])):t.value.length===0?(D(),G("div",Ey,[...c[2]||(c[2]=[A("p",null,"No users have delegated petting yet",-1)])])):(D(),G("div",$y,[A("div",Iy,[A("span",null,"Total: "+q(t.value.length)+" owner(s)",1),A("span",Ay,q(n.value)+" Aavegotchis to pet",1),t.value.length>0?(D(),G("button",{key:0,type:"button",onClick:o,disabled:s.value,class:"px-3 py-1.5 text-sm bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition disabled:opacity-50"},q(s.value?"Clearing...":"Unregister all"),9,Sy)):te("",!0)]),A("div",Cy,[(D(!0),G(at,null,pr(t.value,u=>(D(),G("div",{key:u.address,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[A("a",{href:`https://basescan.org/address/${u.address}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate flex-1 min-w-0"},q(u.address.slice(0,6))+"..."+q(u.address.slice(-4)),9,By),A("span",Ty,q(u.gotchiCount)+" gotchi"+q(u.gotchiCount!==1?"s":""),1)]))),128))])]))])]))}}),_y={class:"home-dashboard min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white p-4 md:p-8"},Ny={class:"max-w-6xl mx-auto space-y-6"},Oy={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Ry={class:"text-slate-400 mt-1"},Fy={class:"flex items-center gap-3"},My={class:"text-sm font-medium"},zy={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},Ly={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},jy={class:"text-xl font-bold mt-1 font-mono"},Uy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Dy={class:"text-xl font-bold mt-1"},Gy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},qy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Hy={class:"text-xl font-bold mt-1"},Vy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Wy={class:"flex items-center justify-between gap-2"},Zy={class:"text-xl font-bold mt-1 font-mono"},Ky=["disabled"],Yy={key:0,class:"grid md:grid-cols-2 gap-6"},Jy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Xy={class:"space-y-3"},Qy={class:"font-mono text-sm break-all mt-1"},eg={class:"font-mono text-lg font-bold mt-1"},tg={class:"font-mono text-lg font-bold mt-1"},ng={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},rg={class:"space-y-3"},sg={class:"mt-1"},og={key:0},ig={class:"text-slate-300 text-sm mt-1"},ag={key:1},cg={class:"text-red-400 text-sm mt-1 truncate"},ug={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},dg={class:"flex items-center justify-between mb-4"},lg=["disabled"],fg={key:0,class:"text-center py-12 text-slate-400"},hg={key:1,class:"text-center py-12 text-slate-400"},pg={key:2,class:"text-center py-12 text-slate-400"},bg={key:3,class:"space-y-3 max-h-64 overflow-y-auto"},mg={class:"flex-1 min-w-0"},yg=["href"],gg={class:"text-slate-400 text-xs mt-1"},wg={key:0,class:"text-slate-500"},vg={class:"text-slate-200 text-sm font-medium truncate"},xg={class:"text-slate-400 text-xs mt-1"},Pg={key:1,class:"grid md:grid-cols-2 gap-6 mt-6"},Eg={key:2,class:"mt-6"},$g={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Ig={class:"flex flex-wrap items-center gap-4"},Ag={class:"flex items-center gap-2"},Sg=["value","disabled"],Cg=["value"],Bg={key:0,class:"text-slate-400 text-sm"},Tg=["disabled"],kg={key:2,class:"text-amber-400 text-sm font-medium"},_g={key:3,class:"mt-6"},Ng={key:4,class:"mt-6"},Og={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Rg={class:"flex items-center justify-between mb-4"},Fg=["disabled"],Mg={key:0,class:"text-center py-8 text-slate-400"},zg={key:1,class:"text-center py-8 text-slate-400"},Lg={key:2,class:"space-y-1.5 max-h-80 overflow-y-auto font-mono text-xs"},jg={class:"text-slate-500 shrink-0"},Ug={class:"break-all"},Dg=en({__name:"HomeDashboard",setup(e){const t=Z(null),n=Z([]),{status:r,fetchStatus:s}=o0(),o=Z(null),i=Z([]),a=Z(12),c=Z(!1),u=Z(null);let d=null;const l=Z(!0),f=Z(!1),h=Z(!1),b=Z(!1),p=Z(!1),m=fn(()=>{var T,N,K,Y,J,Q,ue,V;return{running:((N=(T=t.value)==null?void 0:T.bot)==null?void 0:N.running)??!1,lastRun:((Y=(K=t.value)==null?void 0:K.bot)==null?void 0:Y.lastRun)??null,lastError:((Q=(J=t.value)==null?void 0:J.bot)==null?void 0:Q.lastError)??null,lastRunMessage:((V=(ue=t.value)==null?void 0:ue.bot)==null?void 0:V.lastRunMessage)??null}}),v=fn(()=>{var T;return((T=t.value)==null?void 0:T.stats)??{successRate:100}}),E=fn(()=>{var Ie,He;const T=(He=(Ie=t.value)==null?void 0:Ie.bot)==null?void 0:He.lastRun;if(!T)return"";const N=new Date(T).getTime(),K=a.value*60*60*1e3,Y=N+K,J=Date.now();if(J>=Y)return"Ready";const Q=Y-J,ue=Math.floor(Q/36e5),V=Math.floor(Q%36e5/6e4);return`${ue}h ${V}m`}),y=Z(null),w=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],g=fn(()=>{const T=a.value;return T<1/60?`Every ${Math.round(T*3600)} sec (test)`:T<1?`Every ${Math.round(T*60)} min`:`Every ${T} ${T===1?"hour":"hours"}`}),P=fn(()=>{var N;const T=((N=v.value)==null?void 0:N.successRate)??100;return T>=95?"text-emerald-400":T>=80?"text-amber-400":"text-red-400"}),x=async()=>{try{const T=await $fetch("/api/health");t.value=T}catch(T){console.error("Failed to fetch health:",T)}},$=async()=>{if(p.value){f.value=!0;try{const T=await $fetch("/api/transactions",{query:{limit:20}});n.value=T}catch(T){console.error("Failed to fetch history:",T)}finally{f.value=!1}}},I=async()=>{if(p.value){b.value=!0;try{const T=await $fetch("/api/transactions/backfill-gas",{method:"POST"});T.ok&&T.updated>0&&(await x(),await $())}catch(T){console.error("Backfill gas failed:",T)}finally{b.value=!1}}},M=async()=>{if(p.value){h.value=!0;try{const T=await $fetch("/api/bot/logs",{query:{limit:100}});i.value=T}catch(T){console.error("Failed to fetch worker logs:",T),i.value=[]}finally{h.value=!1}}},B=async()=>{if(p.value)try{const T=await $fetch("/api/bot/frequency");a.value=T.pettingIntervalHours}catch{a.value=12}},R=async T=>{if(p.value&&!(T<30/3600||T>24)){c.value=!0;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:T}}),a.value=T}catch(N){console.error("Failed to set frequency:",N),alert("Failed to update petting frequency")}finally{c.value=!1}}},_=async T=>{if(!p.value||c.value||u.value!=null)return;c.value=!0;const N=T/3600;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:N}}),a.value=N,u.value=T,d&&clearInterval(d),d=gn(()=>{u.value!=null&&(u.value-=1,u.value<=0&&(d&&clearInterval(d),d=null,u.value=null,R(12)))},1e3)}catch(K){console.error("Failed to start test mode:",K),alert("Failed to start test mode")}finally{c.value=!1}},H=async()=>{try{const T=await $fetch("/api/auth/me");y.value=T.address}catch{y.value=null}},S=async()=>{const T=y.value;if(T)try{const K=await Gb({chain:Ir,transport:Qu()}).getBalance({address:T});o.value=parseFloat(Nr(K)).toFixed(4)}catch{o.value=""}},O=async()=>{try{const T=await $fetch("/api/auth/check");p.value=T.authenticated}catch{p.value=!1}},z=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await e0(Ce),await ba("/")}catch(T){console.error("Failed to logout:",T)}},k=T=>{if(!T)return"";const N=typeof T=="string"?new Date(T).getTime():T;return new Date(N).toLocaleString()},L=T=>new Date(T).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),U=T=>T==null||T===0?"":T<1e-4?"<0.0001 ETH":`${T.toFixed(4)} ETH`;return c0(()=>{d&&clearInterval(d)}),Gn(async()=>{await O(),await x(),p.value&&(await H(),await Promise.all([$(),s(),S(),M(),B()])),l.value=!1,gn(x,3e4),p.value&&gn(()=>Promise.all([H(),$(),S(),M(),B()]),6e4)}),(T,N)=>{var ue;const K=Fm,Y=Jm,J=yy,Q=ky;return D(),G("div",_y,[A("div",Ny,[A("div",Oy,[A("div",null,[N[3]||(N[3]=A("h1",{class:"text-3xl md:text-4xl font-bold tracking-tight"},"Aavegotchi Petter",-1)),A("p",Ry,"Automated petting on Base  "+q(g.value),1)]),A("div",Fy,[A("div",{class:je(["flex items-center gap-2 px-4 py-2 rounded-lg",m.value.running?"bg-emerald-500/20 border border-emerald-500/50":"bg-amber-500/20 border border-amber-500/50"])},[A("div",{class:je(["w-2 h-2 rounded-full animate-pulse",m.value.running?"bg-emerald-400":"bg-amber-400"])},null,2),A("span",My,q(m.value.running?"Running":"Stopped"),1)],2),p.value?(D(),G("button",{key:0,onClick:z,class:"px-4 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-sm font-medium transition"}," Logout ")):(D(),ya(K,{key:1}))])]),A("div",zy,[A("div",Ly,[N[4]||(N[4]=A("p",{class:"text-slate-400 text-sm"},"Next Pet",-1)),A("p",jy,q(E.value),1)]),A("div",Uy,[N[5]||(N[5]=A("p",{class:"text-slate-400 text-sm"},"Total Petted",-1)),A("p",Dy,q(v.value.totalAavegotchisPetted??0),1)]),A("div",Gy,[N[6]||(N[6]=A("p",{class:"text-slate-400 text-sm"},"Success Rate",-1)),A("p",{class:je(["text-xl font-bold mt-1",P.value])},q(v.value.successRate??100)+"%",3)]),A("div",qy,[N[7]||(N[7]=A("p",{class:"text-slate-400 text-sm"},"Last 24h",-1)),A("p",Hy,q(v.value.transactionsLast24h??0),1)]),A("div",Vy,[A("div",Wy,[A("div",null,[N[8]||(N[8]=A("p",{class:"text-slate-400 text-sm"},"Gas Cost",-1)),A("p",Zy,q(U(v.value.totalGasCostEth)),1)]),p.value&&U(v.value.totalGasCostEth)===""?(D(),G("button",{key:0,onClick:I,disabled:b.value,class:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 rounded transition disabled:opacity-50 shrink-0"},q(b.value?"...":"Look up"),9,Ky)):te("",!0)])])]),p.value?(D(),G("div",Yy,[A("div",Jy,[N[12]||(N[12]=A("h2",{class:"text-lg font-semibold mb-4"},"Wallet",-1)),A("div",Xy,[A("div",null,[N[9]||(N[9]=A("p",{class:"text-slate-400 text-sm"},"Address",-1)),A("p",Qy,q(y.value||""),1)]),A("div",null,[N[10]||(N[10]=A("p",{class:"text-slate-400 text-sm"},"Balance (ETH)",-1)),A("p",eg,q(o.value??""),1)]),A("div",null,[N[11]||(N[11]=A("p",{class:"text-slate-400 text-sm"},"Gotchis Delegated",-1)),A("p",tg,q(((ue=ae(r))==null?void 0:ue.gotchiCount)??""),1)])])]),A("div",ng,[N[16]||(N[16]=A("h2",{class:"text-lg font-semibold mb-4"},"Bot Status",-1)),A("div",rg,[A("div",null,[N[13]||(N[13]=A("p",{class:"text-slate-400 text-sm"},"Last Run",-1)),A("p",sg,q(k(m.value.lastRun)),1)]),m.value.lastRunMessage&&!m.value.lastError?(D(),G("div",og,[N[14]||(N[14]=A("p",{class:"text-slate-400 text-sm"},"Last Outcome",-1)),A("p",ig,q(m.value.lastRunMessage),1)])):te("",!0),m.value.lastError?(D(),G("div",ag,[N[15]||(N[15]=A("p",{class:"text-slate-400 text-sm"},"Last Error",-1)),A("p",cg,q(m.value.lastError),1)])):te("",!0)])])])):te("",!0),A("div",ug,[A("div",dg,[N[17]||(N[17]=A("h2",{class:"text-lg font-semibold"},"Execution History",-1)),p.value?(D(),G("button",{key:0,onClick:$,disabled:f.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"}," Refresh ",8,lg)):te("",!0)]),p.value?f.value?(D(),G("div",hg,[...N[19]||(N[19]=[A("p",null,"Loading...",-1)])])):n.value.length===0?(D(),G("div",pg,[...N[20]||(N[20]=[A("p",null,"No executions yet",-1)])])):(D(),G("div",bg,[(D(!0),G(at,null,pr(n.value,V=>(D(),G("div",{key:V.type==="transaction"?V.hash:V.id,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[A("div",mg,[V.type==="transaction"?(D(),G(at,{key:0},[A("a",{href:`https://basescan.org/tx/${V.hash}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate block"},q(V.hash.slice(0,10))+"..."+q(V.hash.slice(-8)),9,yg),A("p",gg,[ma(q(k(V.timestamp))+"  "+q(V.tokenIds.length)+" petted ",1),V.gasCostWei?(D(),G("span",wg,"  "+q(U(Number(BigInt(V.gasCostWei))/1e18)),1)):te("",!0)])],64)):(D(),G(at,{key:1},[A("p",vg,q(V.message),1),A("p",xg,q(k(V.timestamp))+q(V.petted!=null?`  ${V.petted} petted`:""),1)],64))]),A("span",{class:je(["text-xs font-medium ml-2",V.type==="manual"?"text-amber-400":"text-emerald-400"])},q(V.type==="manual"?"Manual":"Success"),3)]))),128))])):(D(),G("div",fg,[...N[18]||(N[18]=[A("p",null,"Connect wallet to view execution history",-1)])]))]),p.value?(D(),G("div",Pg,[Qr(Y,{onTriggered:N[0]||(N[0]=()=>{$(),M()})}),Qr(J)])):te("",!0),p.value?(D(),G("div",Eg,[A("div",$g,[N[22]||(N[22]=A("h2",{class:"text-lg font-semibold mb-4"},"Petting Frequency",-1)),N[23]||(N[23]=A("p",{class:"text-slate-400 text-sm mb-4"}," How often the bot checks and pets your Aavegotchis. Gotchis need petting at least every 12 hours for kinship. ",-1)),A("div",Ig,[A("label",Ag,[N[21]||(N[21]=A("span",{class:"text-slate-300 text-sm"},"Interval:",-1)),A("select",{value:a.value,disabled:c.value,onChange:N[1]||(N[1]=V=>R(Number(V.target.value))),class:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50"},[(D(),G(at,null,pr(w,V=>A("option",{key:V,value:V}," Every "+q(V)+" "+q(V===1?"hour":"hours"),9,Cg)),64))],40,Sg)]),c.value?(D(),G("span",Bg,"Saving...")):te("",!0),u.value?(D(),G("span",kg," Reverting in "+q(u.value)+"s... ",1)):(D(),G("button",{key:1,type:"button",onClick:N[2]||(N[2]=V=>_(60)),disabled:c.value,class:"px-4 py-2 text-sm bg-amber-600/80 hover:bg-amber-600 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"}," Test (1 min) ",8,Tg))])])])):te("",!0),p.value?(D(),G("div",_g,[Qr(Q)])):te("",!0),p.value?(D(),G("div",Ng,[A("div",Og,[A("div",Rg,[N[24]||(N[24]=A("h2",{class:"text-lg font-semibold"},"Worker Logs",-1)),A("button",{onClick:M,disabled:h.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},q(h.value?"Loading...":"Refresh"),9,Fg)]),h.value&&i.value.length===0?(D(),G("div",Mg,[...N[25]||(N[25]=[A("p",null,"Loading worker logs...",-1)])])):i.value.length===0?(D(),G("div",zg,[...N[26]||(N[26]=[A("p",null,"No worker logs yet. Trigger a run to see logs.",-1)])])):(D(),G("div",Lg,[(D(!0),G(at,null,pr(i.value,(V,Ie)=>(D(),G("div",{key:`${V.timestamp}-${Ie}`,class:je(["flex items-start gap-2 py-1.5 px-2 rounded hover:bg-white/5",{"text-slate-300":V.level==="info","text-amber-400":V.level==="warn","text-red-400":V.level==="error"}])},[A("span",jg,q(L(V.timestamp)),1),A("span",{class:je(["shrink-0 w-10",{"text-amber-400":V.level==="warn","text-red-400":V.level==="error"}])}," ["+q(V.level.toUpperCase())+"] ",3),A("span",Ug,q(V.message),1)],2))),128))]))])])):te("",!0)])])}}}),Gg=en({__name:"index",setup(e){return(t,n)=>{const r=Dg;return D(),ya(r)}}}),i6=Object.freeze(Object.defineProperty({__proto__:null,default:Gg},Symbol.toStringTag,{value:"Module"}));export{C as B,yn as H,Ll as a,de as b,Qn as c,El as d,_t as e,De as f,vo as g,i6 as h,sr as i,Rr as l,se as s};
