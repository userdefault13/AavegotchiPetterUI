const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C2evI__8.js","./C2bNXUNV.js"])))=>i.map(i=>d[i]);
import{F as ua,d as Qt,o as Dn,y as D,z as q,A,B as G,G as te,q as e0,g as Z,n as da,H as ze,E as la,I as it,J as t0,K as n0,L as r0,M as hr,N as s0,O as fa,C as Yr,k as ln}from"./C2bNXUNV.js";const qt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Ps=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ha=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],pa=[...ha,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o0=[...ha,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],si=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],oi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],ba=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ii=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Te(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new w0(e.type);return`${e.name}(${Ir(e.inputs,{includeName:t})})`}function Ir(e,{includeName:t=!1}={}){return e?e.map(n=>i0(n,{includeName:t})).join(t?", ":","):""}function i0(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ir(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function je(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ee(e){return je(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const ma="2.46.1";let fn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${ma}`},C=class Es extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof Es?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Es&&n.cause.docsPath||n.docsPath,o=(a=fn.getDocsUrl)==null?void 0:a.call(fn,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...fn.version?[`Version: ${fn.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=ma}walk(t){return ya(this,t)}};function ya(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?ya(e.cause,t):t?null:e}class a0 extends C{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ai extends C{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ga extends C{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ir(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Gn extends C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class c0 extends C{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class u0 extends C{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ee(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class d0 extends C{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class l0 extends C{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class ci extends C{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class wa extends C{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class f0 extends C{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class h0 extends C{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class ui extends C{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Ht extends C{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class va extends C{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class p0 extends C{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class b0 extends C{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Te(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Te(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let m0=class extends C{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class yr extends C{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ir(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class io extends C{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Te(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class y0 extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class g0 extends C{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let xa=class extends C{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class w0 extends C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let he=class extends C{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Pa=class extends C{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Ea=class extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class di extends C{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function en(e,{dir:t,size:n=32}={}){return typeof e=="string"?ct(e,{dir:t,size:n}):v0(e,{dir:t,size:n})}function ct(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Ea({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function v0(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Ea({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let ao=class extends C{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},x0=class extends C{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class P0 extends C{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let E0=class extends C{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Se(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Re(e,{size:t}){if(ee(e)>t)throw new E0({givenSize:ee(e),maxSize:t})}function ie(e,t={}){const{signed:n}=t;t.size&&Re(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function $0(e,t={}){let n=e;if(t.size&&(Re(n,{size:t.size}),n=Se(n)),Se(n)==="0x00")return!1;if(Se(n)==="0x01")return!0;throw new P0(n)}function Ce(e,t={}){const n=ie(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new ao({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}const I0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function me(e,t={}){return typeof e=="number"||typeof e=="bigint"?F(e,t):typeof e=="string"?Vt(e,t):typeof e=="boolean"?$a(e,t):ne(e,t)}function $a(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Re(n,{size:t.size}),en(n,{size:t.size})):n}function ne(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=I0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Re(r,{size:t.size}),en(r,{dir:"right",size:t.size})):r}function F(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new ao({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?en(a,{size:r}):a}const A0=new TextEncoder;function Vt(e,t={}){const n=A0.encode(e);return ne(n,t)}const S0=new TextEncoder;function tn(e,t={}){return typeof e=="number"||typeof e=="bigint"?B0(e,t):typeof e=="boolean"?C0(e,t):je(e)?Ue(e,t):wt(e,t)}function C0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Re(n,{size:t.size}),en(n,{size:t.size})):n}const qe={zero:48,nine:57,A:65,F:70,a:97,f:102};function li(e){if(e>=qe.zero&&e<=qe.nine)return e-qe.zero;if(e>=qe.A&&e<=qe.F)return e-(qe.A-10);if(e>=qe.a&&e<=qe.f)return e-(qe.a-10)}function Ue(e,t={}){let n=e;t.size&&(Re(n,{size:t.size}),n=en(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=li(r.charCodeAt(a++)),u=li(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new C(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function B0(e,t){const n=F(e,t);return Ue(n)}function wt(e,t={}){const n=S0.encode(e);return typeof t.size=="number"?(Re(n,{size:t.size}),en(n,{dir:"right",size:t.size})):n}const ir=BigInt(2**32-1),fi=BigInt(32);function T0(e,t=!1){return t?{h:Number(e&ir),l:Number(e>>fi&ir)}:{h:Number(e>>fi&ir)|0,l:Number(e&ir)|0}}function k0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=T0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const _0=(e,t,n)=>e<<n|t>>>32-n,N0=(e,t,n)=>t<<n|e>>>32-n,R0=(e,t,n)=>t<<n-32|e>>>64-n,O0=(e,t,n)=>e<<n-32|t>>>64-n,Rt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function F0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function gn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Pt(e,...t){if(!F0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function M0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");gn(e.outputLen),gn(e.blockLen)}function Wt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ia(e,t){Pt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function z0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Zt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Jr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Fe(e,t){return e<<32-t|e>>>t}const L0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function j0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function U0(e){for(let t=0;t<e.length;t++)e[t]=j0(e[t]);return e}const hi=L0?e=>e:U0;function D0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Ar(e){return typeof e=="string"&&(e=D0(e)),Pt(e),e}function G0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Pt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class co{}function Aa(e){const t=r=>e().update(Ar(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function q0(e=32){if(Rt&&typeof Rt.getRandomValues=="function")return Rt.getRandomValues(new Uint8Array(e));if(Rt&&typeof Rt.randomBytes=="function")return Uint8Array.from(Rt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const H0=BigInt(0),hn=BigInt(1),V0=BigInt(2),W0=BigInt(7),Z0=BigInt(256),K0=BigInt(113),Sa=[],Ca=[],Ba=[];for(let e=0,t=hn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Sa.push(2*(5*r+n)),Ca.push((e+1)*(e+2)/2%64);let s=H0;for(let o=0;o<7;o++)t=(t<<hn^(t>>W0)*K0)%Z0,t&V0&&(s^=hn<<(hn<<BigInt(o))-hn);Ba.push(s)}const Ta=k0(Ba,!0),Y0=Ta[0],J0=Ta[1],pi=(e,t,n)=>n>32?R0(e,t,n):_0(e,t,n),bi=(e,t,n)=>n>32?O0(e,t,n):N0(e,t,n);function X0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],l=pi(u,d,1)^n[a],f=bi(u,d,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=l,e[i+h+1]^=f}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Ca[i],c=pi(s,o,a),u=bi(s,o,a),d=Sa[i];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Y0[r],e[1]^=J0[r]}Zt(n)}class uo extends co{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,gn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=z0(this.state)}clone(){return this._cloneInto()}keccak(){hi(this.state32),X0(this.state32,this.rounds),hi(this.state32),this.posOut=0,this.pos=0}update(t){Wt(this),t=Ar(t),Pt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Wt(this,!1),Pt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return gn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ia(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Zt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new uo(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Q0=(e,t,n)=>Aa(()=>new uo(t,e,n)),ka=Q0(1,136,256/8);function ae(e,t){const n=t||"hex",r=ka(je(e,{strict:!1})?tn(e):e);return n==="bytes"?r:me(r)}let nn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const ed=/^0x[a-fA-F0-9]{40}$/,Xr=new nn(8192);function se(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Xr.has(r))return Xr.get(r);const s=ed.test(e)?e.toLowerCase()===e?!0:n?qn(e)===e:!0:!1;return Xr.set(r,s),s}const Qr=new nn(8192);function qn(e,t){if(Qr.has(`${e}.${t}`))return Qr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=ae(wt(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Qr.set(`${e}.${t}`,o),o}function at(e,t){if(!se(e,{strict:!1}))throw new he({address:e});return qn(e,t)}let mi=class extends C{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},_a=class extends C{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},td=class extends C{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const nd={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new td({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new _a({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new mi({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new mi({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function lo(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(nd);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Et(e,t,n,{strict:r}={}){return je(e,{strict:!1})?$s(e,t,n,{strict:r}):Oa(e,t,n,{strict:r})}function Na(e,t){if(typeof t=="number"&&t>0&&t>ee(e)-1)throw new Pa({offset:t,position:"start",size:ee(e)})}function Ra(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ee(e)!==n-t)throw new Pa({offset:n,position:"end",size:ee(e)})}function Oa(e,t,n,{strict:r}={}){Na(e,t);const s=e.slice(t,n);return r&&Ra(s,t,n),s}function $s(e,t,n,{strict:r}={}){Na(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ra(s,t,n),s}function rd(e,t={}){typeof t.size<"u"&&Re(e,{size:t.size});const n=ne(e,t);return ie(n,t)}function sd(e,t={}){let n=e;if(typeof t.size<"u"&&(Re(n,{size:t.size}),n=Se(n)),n.length>1||n[0]>1)throw new x0(n);return!!n[0]}function Je(e,t={}){typeof t.size<"u"&&Re(e,{size:t.size});const n=ne(e,t);return Ce(n,t)}function od(e,t={}){let n=e;return typeof t.size<"u"&&(Re(n,{size:t.size}),n=Se(n,{dir:"right"})),new TextDecoder().decode(n)}function ue(e){return typeof e[0]=="string"?Oe(e):id(e)}function id(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Oe(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const ad=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Fa=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function kt(e,t){if(e.length!==t.length)throw new d0({expectedLength:e.length,givenLength:t.length});const n=cd({params:e,values:t}),r=ho(n);return r.length===0?"0x":r}function cd({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(fo({param:e[r],value:t[r]}));return n}function fo({param:e,value:t}){const n=po(e.type);if(n){const[r,s]=n;return dd(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return bd(t,{param:e});if(e.type==="address")return ud(t);if(e.type==="bool")return fd(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Fa.exec(e.type)??[];return hd(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return ld(t,{param:e});if(e.type==="string")return pd(t);throw new y0(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ho(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ee(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(F(t+s,{size:32})),r.push(a),s+=ee(a)):n.push(a)}return ue([...n,...r])}function ud(e){if(!se(e))throw new he({address:e});return{dynamic:!1,encoded:ct(e.toLowerCase())}}function dd(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new xa(e);if(!r&&e.length!==t)throw new c0({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=fo({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=ho(o);if(r){const a=F(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ue([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ue(o.map(({encoded:i})=>i))}}function ld(e,{param:t}){const[,n]=t.type.split("bytes"),r=ee(e);if(!n){let s=e;return r%32!==0&&(s=ct(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ue([ct(F(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new u0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ct(e,{dir:"right"})}}function fd(e){if(typeof e!="boolean")throw new C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ct($a(e))}}function hd(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new ao({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:F(e,{size:32,signed:t})}}function pd(e){const t=Vt(e),n=Math.ceil(ee(t)/32),r=[];for(let s=0;s<n;s++)r.push(ct(Et(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ue([ct(F(ee(t),{size:32})),...r])}}function bd(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=fo({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ho(r):ue(r.map(({encoded:s})=>s))}}function po(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Hn(e,t){const n=typeof t=="string"?Ue(t):t,r=lo(n);if(ee(n)===0&&e.length>0)throw new Gn;if(ee(t)&&ee(t)<32)throw new ga({data:typeof t=="string"?t:ne(t),params:e,size:ee(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Ut(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Ut(e,t,{staticPosition:n}){const r=po(t.type);if(r){const[s,o]=r;return yd(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return xd(e,t,{staticPosition:n});if(t.type==="address")return md(e);if(t.type==="bool")return gd(e);if(t.type.startsWith("bytes"))return wd(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return vd(e,t);if(t.type==="string")return Pd(e,{staticPosition:n});throw new g0(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const yi=32,Is=32;function md(e){const t=e.readBytes(32);return[qn(ne(Oa(t,-20))),32]}function yd(e,t,{length:n,staticPosition:r}){if(!n){const i=Je(e.readBytes(Is)),a=r+i,c=a+yi;e.setPosition(a);const u=Je(e.readBytes(yi)),d=wn(t);let l=0;const f=[];for(let h=0;h<u;++h){e.setPosition(c+(d?h*32:l));const[p,b]=Ut(e,t,{staticPosition:c});l+=b,f.push(p)}return e.setPosition(r+32),[f,32]}if(wn(t)){const i=Je(e.readBytes(Is)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[d]=Ut(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Ut(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function gd(e){return[sd(e.readBytes(32),{size:32}),32]}function wd(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Je(e.readBytes(32));e.setPosition(n+i);const a=Je(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ne(c),32]}return[ne(e.readBytes(Number.parseInt(s,10),32)),32]}function vd(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?rd(s,{signed:n}):Je(s,{signed:n}),32]}function xd(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(wn(t)){const i=Je(e.readBytes(Is)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[d,l]=Ut(e,u,{staticPosition:a});o+=l,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Ut(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function Pd(e,{staticPosition:t}){const n=Je(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Je(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=od(Se(o));return e.setPosition(t+32),[i,32]}function wn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(wn);const n=po(e.type);return!!(n&&wn({...e,type:n[1]}))}const Ed=e=>ae(tn(e));function $d(e){return Ed(e)}const Id="1.2.3";let ge=class As extends Error{constructor(t,n={}){var i;const r=n.cause instanceof As?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof As&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Id}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function nt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Ma=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,za=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,La=/^\(.+?\).*?$/,gi=/^tuple(?<array>(\[(\d*)\])*)$/;function Ss(e){let t=e.type;if(gi.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Ss(o),s<n-1&&(t+=", ")}const r=nt(gi,e.type);return t+=`)${(r==null?void 0:r.array)||""}`,Ss({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Mt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Ss(s),r!==n-1&&(t+=", ")}return t}function gr(e){var t;return e.type==="function"?`function ${e.name}(${Mt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Mt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Mt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Mt(e.inputs)})`:e.type==="constructor"?`constructor(${Mt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const ja=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ad(e){return ja.test(e)}function Sd(e){return nt(ja,e)}const Ua=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Cd(e){return Ua.test(e)}function Bd(e){return nt(Ua,e)}const Da=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Td(e){return Da.test(e)}function kd(e){return nt(Da,e)}const Ga=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Sr(e){return Ga.test(e)}function _d(e){return nt(Ga,e)}const qa=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Nd(e){return qa.test(e)}function Rd(e){return nt(qa,e)}const Ha=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Od(e){return Ha.test(e)}function Fd(e){return nt(Ha,e)}const Md=/^receive\(\) external payable$/;function zd(e){return Md.test(e)}const wi=new Set(["memory","indexed","storage","calldata"]),Ld=new Set(["indexed"]),Cs=new Set(["calldata","memory","storage"]);class jd extends ge{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Ud extends ge{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Dd extends ge{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Gd extends ge{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class qd extends ge{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Hd extends ge{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Vd extends ge{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Wd extends ge{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Zd extends ge{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class rn extends ge{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Kd extends ge{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Yd extends ge{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Jd extends ge{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Xd extends ge{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Qd(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const es=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Bs(e,t={}){if(Td(e))return el(e,t);if(Cd(e))return tl(e,t);if(Ad(e))return nl(e,t);if(Nd(e))return rl(e,t);if(Od(e))return sl(e);if(zd(e))return{type:"receive",stateMutability:"payable"};throw new Kd({signature:e})}function el(e,t={}){const n=kd(e);if(!n)throw new rn({signature:e,type:"function"});const r=Pe(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Qe(r[a],{modifiers:Cs,structs:t,type:"function"}));const i=[];if(n.returns){const a=Pe(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Qe(a[u],{modifiers:Cs,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function tl(e,t={}){const n=Bd(e);if(!n)throw new rn({signature:e,type:"event"});const r=Pe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Qe(r[i],{modifiers:Ld,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function nl(e,t={}){const n=Sd(e);if(!n)throw new rn({signature:e,type:"error"});const r=Pe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Qe(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function rl(e,t={}){const n=Rd(e);if(!n)throw new rn({signature:e,type:"constructor"});const r=Pe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Qe(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function sl(e){const t=Fd(e);if(!t)throw new rn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const ol=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,il=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,al=/^u?int$/;function Qe(e,t){var l,f;const n=Qd(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(es.has(n))return es.get(n);const r=La.test(e),s=nt(r?il:ol,e);if(!s)throw new qd({param:e});if(s.name&&ul(s.name))throw new Hd({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Pe(s.type),p=[],b=h.length;for(let m=0;m<b;m++)p.push(Qe(h[m],{structs:a}));u={components:p}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(al.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Va(c))throw new Dd({type:c});if(s.modifier){if(!((f=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&f.call(l,s.modifier)))throw new Vd({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Cs.has(s.modifier)&&!dl(c,!!s.array))throw new Wd({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...i,...u};return es.set(n,d),d}function Pe(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?Pe(a,[...t,n.trim()]):Pe(a,t,`${n}${i}`,r);case"(":return Pe(a,t,`${n}${i}`,r+1);case")":return Pe(a,t,`${n}${i}`,r-1);default:return Pe(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Xd({current:n,depth:r});return t.push(n.trim()),t}function Va(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ma.test(e)||za.test(e)}const cl=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function ul(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ma.test(e)||za.test(e)||cl.test(e)}function dl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function bo(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Sr(a))continue;const c=_d(a);if(!c)throw new rn({signature:a,type:"struct"});const u=c.properties.split(";"),d=[],l=u.length;for(let f=0;f<l;f++){const p=u[f].trim();if(!p)continue;const b=Qe(p,{type:"struct"});d.push(b)}if(!d.length)throw new Yd({signature:a});t[c.name]=d}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Wa(c,t)}return r}const ll=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Wa(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(La.test(i.type))r.push(i);else{const c=nt(ll,i.type);if(!(c!=null&&c.type))throw new Zd({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new Jd({type:d});r.push({...i,type:`tuple${u??""}`,components:Wa(t[d],t,new Set([...n,d]))})}else if(Va(d))r.push(i);else throw new Ud({type:d})}}return r}function Za(e){const t=bo(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Sr(o)||n.push(Bs(o,t))}return n}function vi(e){let t;if(typeof e=="string")t=Bs(e);else{const n=bo(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Sr(o)){t=Bs(o,n);break}}}if(!t)throw new jd({signature:e});return t}function xi(e){const t=[];if(typeof e=="string"){const n=Pe(e),r=n.length;for(let s=0;s<r;s++)t.push(Qe(n[s],{modifiers:wi}))}else{const n=bo(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Sr(o))continue;const i=Pe(o),a=i.length;for(let c=0;c<a;c++)t.push(Qe(i[c],{modifiers:wi,structs:n}))}}if(t.length===0)throw new Gd({params:e});return t}function fl(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new C("Unable to normalize signature.");return s}const hl=e=>{const t=typeof e=="string"?e:gr(e);return fl(t)};function Ka(e){return $d(hl(e))}const Cr=Ka,Vn=e=>Et(Ka(e),0,4);function _t(e){const{abi:t,args:n=[],name:r}=e,s=je(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Vn(a)===r:a.type==="event"?Cr(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in a&&a.inputs[d];return l?Ts(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=Ya(a.inputs,i.inputs,n);if(u)throw new b0({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Ts(e,t){const n=typeof e,r=t.type;switch(r){case"address":return se(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Ts(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ts(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ya(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ya(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?se(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?se(n[r],{strict:!1}):!1)return i}}const ts="/docs/contract/decodeFunctionResult";function ft(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=_t({abi:t,args:n,name:r});if(!a)throw new Ht(r,{docsPath:ts});o=a}if(o.type!=="function")throw new Ht(void 0,{docsPath:ts});if(!o.outputs)throw new va(o.name,{docsPath:ts});const i=Hn(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Pi="/docs/contract/encodeFunctionData";function pl(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=_t({abi:t,args:n,name:r});if(!o)throw new Ht(r,{docsPath:Pi});s=o}if(s.type!=="function")throw new Ht(void 0,{docsPath:Pi});return{abi:[s],functionName:Vn(Te(s))}}function we(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:pl(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?kt(s.inputs,t??[]):void 0;return Oe([o,i??"0x"])}class ks extends C{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class bl extends C{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class ml extends C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Ja extends C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Br extends C{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function sn({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new ks({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new ks({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function X(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const yl={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Xa={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},gl={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function wl(e){const{abi:t,data:n}=e,r=Et(n,0,4);if(r==="0x")throw new Gn;const o=[...t||[],Xa,gl].find(i=>i.type==="error"&&r===Vn(Te(i)));if(!o)throw new wa(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Hn(o.inputs,Et(n,4)):void 0,errorName:o.name}}const re=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Qa({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?re(t[o]):t[o]}`).join(", ")})`}const vl={gwei:9,wei:18},xl={ether:-9,wei:9};function ec(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Tr(e,t="wei"){return ec(e,vl[t])}function ye(e,t="wei"){return ec(e,xl[t])}class Pl extends C{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class El extends C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Ei(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function $l(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Ei(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Ei(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Wn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Il extends C{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Al extends C{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Wn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Sl extends C{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Cl extends C{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var p;const h=Wn({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${Tr(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ye(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ye(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ye(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class tc extends C{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class nc extends C{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class rc extends C{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Bl extends C{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Tl=e=>e,mo=e=>e;class sc extends C{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f,stateOverride:h}){var m;const p=n?X(n):void 0;let b=Wn({from:p==null?void 0:p.address,to:l,value:typeof f<"u"&&`${Tr(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ye(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ye(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ye(u)} gwei`,nonce:d});h&&(b+=`
${$l(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class oc extends C{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=_t({abi:n,args:r,name:i}),u=c?Qa({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Te(c,{includeName:!0}):void 0,l=Wn({address:s&&Tl(s),function:d,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class _s extends C{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=wl({abi:t,data:n});const{abiItem:d,errorName:l,args:f}=i;if(l==="Error")c=f[0];else if(l==="Panic"){const[h]=f;c=yl[h]}else{const h=d?Te(d,{includeName:!0}):void 0,p=d&&f?Qa({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof wa&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class kl extends C{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class _l extends C{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class kr extends C{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function yo(e){var n,r,s,o,i,a;if(!(e instanceof C))return!1;const t=e.walk(c=>c instanceof _s);return t instanceof _s?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Nl(e){const{abi:t,data:n}=e,r=Et(n,0,4),s=t.find(o=>o.type==="function"&&r===Vn(Te(o)));if(!s)throw new p0(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Hn(s.inputs,Et(n,4)):void 0}}const ns="/docs/contract/encodeErrorResult";function $i(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=_t({abi:t,args:r,name:n});if(!c)throw new ci(n,{docsPath:ns});s=c}if(s.type!=="error")throw new ci(void 0,{docsPath:ns});const o=Te(s),i=Vn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new l0(s.name,{docsPath:ns});a=kt(s.inputs,r)}return Oe([i,a])}const rs="/docs/contract/encodeFunctionResult";function Rl(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=_t({abi:t,name:n});if(!i)throw new Ht(n,{docsPath:rs});s=i}if(s.type!=="function")throw new Ht(void 0,{docsPath:rs});if(!s.outputs)throw new va(s.name,{docsPath:rs});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new xa(r)})();return kt(s.outputs,o)}const _r="x-batch-gateway:true";async function Ol(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Nl({abi:Ps,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(_r)?await Ol({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Fl(c)}})),Rl({abi:Ps,functionName:"query",result:[s,o]})}function Fl(e){return e.name==="HttpRequestError"&&e.status?$i({abi:Ps,errorName:"HttpError",args:[e.status,e.shortMessage]}):$i({abi:[Xa],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function ic(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return je(t)?t:null}function Ns(e){let t=new Uint8Array(32).fill(0);if(!e)return ne(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ic(n[r]),o=s?tn(s):ae(wt(n[r]),"bytes");t=ae(ue([t,o]),"bytes")}return ne(t)}function Ml(e){return`[${e.slice(2)}]`}function zl(e){const t=new Uint8Array(32).fill(0);return e?ic(e)||ae(wt(e)):ne(t)}function go(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(wt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=wt(s[o]);i.byteLength>255&&(i=wt(Ml(zl(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function j(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class mn extends C{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${mo(i)}`,t&&`Request body: ${re(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class wo extends C{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${mo(r)}`,`Request body: ${re(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Ii extends C{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${mo(n)}`,`Request body: ${re(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Ll=-1;class ve extends C{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof wo?t.code:n??Ll}}class xe extends ve{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class vn extends ve{constructor(t){super(t,{code:vn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class xn extends ve{constructor(t){super(t,{code:xn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Pn extends ve{constructor(t,{method:n}={}){super(t,{code:Pn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class En extends ve{constructor(t){super(t,{code:En.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class $t extends ve{constructor(t){super(t,{code:$t.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class dt extends ve{constructor(t){super(t,{code:dt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class $n extends ve{constructor(t){super(t,{code:$n.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ut extends ve{constructor(t){super(t,{code:ut.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class In extends ve{constructor(t){super(t,{code:In.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class yt extends ve{constructor(t,{method:n}={}){super(t,{code:yt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Kt extends ve{constructor(t){super(t,{code:Kt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class An extends ve{constructor(t){super(t,{code:An.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class de extends xe{constructor(t){super(t,{code:de.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(de,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Sn extends xe{constructor(t){super(t,{code:Sn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Cn extends xe{constructor(t,{method:n}={}){super(t,{code:Cn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Bn extends xe{constructor(t){super(t,{code:Bn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Tn extends xe{constructor(t){super(t,{code:Tn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class It extends xe{constructor(t){super(t,{code:It.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Yt extends xe{constructor(t){super(t,{code:Yt.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class kn extends xe{constructor(t){super(t,{code:kn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class _n extends xe{constructor(t){super(t,{code:_n.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Nn extends xe{constructor(t){super(t,{code:Nn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Rn extends xe{constructor(t){super(t,{code:Rn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class On extends xe{constructor(t){super(t,{code:On.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Jt extends xe{constructor(t){super(t,{code:Jt.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Fn extends xe{constructor(t){super(t,{code:Fn.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class jl extends ve{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Ul=3;function At(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof kr?e:e instanceof C?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:d,message:l,shortMessage:f}=a,h=e instanceof Gn?new kl({functionName:o}):[Ul,$t.code].includes(c)&&(u||d||l||f)||c===dt.code&&d==="execution reverted"&&u?new _s({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof wo?d:f??l}):e;return new oc(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vo=BigInt(0),Rs=BigInt(1);function Zn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function xo(e){if(!Zn(e))throw new Error("Uint8Array expected")}function Mn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function ar(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ac(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?vo:BigInt("0x"+e)}const cc=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Dl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function zn(e){if(xo(e),cc)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Dl[e[n]];return t}const He={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ai(e){if(e>=He._0&&e<=He._9)return e-He._0;if(e>=He.A&&e<=He.F)return e-(He.A-10);if(e>=He.a&&e<=He.f)return e-(He.a-10)}function wr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(cc)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Ai(e.charCodeAt(o)),a=Ai(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function vt(e){return ac(zn(e))}function uc(e){return xo(e),ac(zn(Uint8Array.from(e).reverse()))}function Kn(e,t){return wr(e.toString(16).padStart(t*2,"0"))}function dc(e,t){return Kn(e,t).reverse()}function Ae(e,t,n){let r;if(typeof t=="string")try{r=wr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Zn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function vr(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];xo(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const ss=e=>typeof e=="bigint"&&vo<=e;function Po(e,t,n){return ss(e)&&ss(t)&&ss(n)&&t<=e&&e<n}function Dt(e,t,n,r){if(!Po(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Gl(e){let t;for(t=0;e>vo;e>>=Rs,t+=1);return t}const Nr=e=>(Rs<<BigInt(e))-Rs,os=e=>new Uint8Array(e),Si=e=>Uint8Array.from(e);function ql(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=os(e),s=os(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...l)=>n(s,r,...l),c=(l=os(0))=>{s=a(Si([0]),l),r=a(),l.length!==0&&(s=a(Si([1]),l),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<t;){r=a();const h=r.slice();f.push(h),l+=r.length}return vr(...f)};return(l,f)=>{i(),c(l);let h;for(;!(h=f(u()));)c();return i(),h}}const Hl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Zn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Rr(e,t,n={}){const r=(s,o,i)=>{const a=Hl[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Ci(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Vl="0.1.1";function Wl(){return Vl}let W=class We extends Error{static setStaticOptions(t){We.prototype.docsOrigin=t.docsOrigin,We.prototype.showVersion=t.showVersion,We.prototype.version=t.version}constructor(t,n={}){const r=(()=>{var d;if(n.cause instanceof We){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof We&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??We.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??We.prototype.showVersion),c=n.version??We.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return lc(this,t)}};Object.defineProperty(W,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Wl()}`}});W.setStaticOptions(W.defaultStaticOptions);function lc(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?lc(e.cause,t):t?null:e}function Yn(e,t){if(zt(e)>t)throw new lf({givenSize:zt(e),maxSize:t})}const Ve={zero:48,nine:57,A:65,F:70,a:97,f:102};function Bi(e){if(e>=Ve.zero&&e<=Ve.nine)return e-Ve.zero;if(e>=Ve.A&&e<=Ve.F)return e-(Ve.A-10);if(e>=Ve.a&&e<=Ve.f)return e-(Ve.a-10)}function Zl(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new ff({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function fc(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Or(e,t){if(Ee(e)>t)throw new gf({givenSize:Ee(e),maxSize:t})}function Kl(e,t){if(typeof t=="number"&&t>0&&t>Ee(e)-1)throw new xc({offset:t,position:"start",size:Ee(e)})}function Yl(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Ee(e)!==n-t)throw new xc({offset:n,position:"end",size:Ee(e)})}function hc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new wf({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Jl="#__bigint";function pc(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Jl:s,n)}const Xl=new TextDecoder,Ql=new TextEncoder;function ef(e){return e instanceof Uint8Array?e:typeof e=="string"?bc(e):tf(e)}function tf(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function bc(e,t={}){const{size:n}=t;let r=e;n&&(Or(e,n),r=Ct(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Bi(s.charCodeAt(c++)),d=Bi(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new W(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u<<4|d}return i}function nf(e,t={}){const{size:n}=t,r=Ql.encode(e);return typeof n=="number"?(Yn(r,n),rf(r,n)):r}function rf(e,t){return Zl(e,{dir:"right",size:t})}function zt(e){return e.length}function sf(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function of(e,t={}){const{size:n}=t;typeof n<"u"&&Yn(e,n);const r=_e(e,t);return gc(r,t)}function af(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Yn(r,n),r=mc(r)),r.length>1||r[0]>1)throw new df(r);return!!r[0]}function Xe(e,t={}){const{size:n}=t;typeof n<"u"&&Yn(e,n);const r=_e(e,t);return wc(r,t)}function cf(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Yn(r,n),r=uf(r)),Xl.decode(r)}function mc(e){return fc(e,{dir:"left"})}function uf(e){return fc(e,{dir:"right"})}class df extends W{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let lf=class extends W{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},ff=class extends W{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const hf=new TextEncoder,pf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bf(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ti(e);if(typeof e!="string")throw new Ti(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ki(e);if(!e.startsWith("0x"))throw new ki(e)}function ke(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function mf(e){return e instanceof Uint8Array?_e(e):Array.isArray(e)?_e(new Uint8Array(e)):e}function yc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Or(n,t.size),St(n,t.size)):n}function _e(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=pf[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Or(r,t.size),Ct(r,t.size)):r}function le(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new vc({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?St(c,r):c}function Eo(e,t={}){return _e(hf.encode(e),t)}function St(e,t){return hc(e,{dir:"left",size:t})}function Ct(e,t){return hc(e,{dir:"right",size:t})}function Le(e,t,n,r={}){const{strict:s}=r;Kl(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Yl(o,t,n),o}function Ee(e){return Math.ceil((e.length-2)/2)}function gc(e,t={}){const{signed:n}=t;t.size&&Or(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function wc(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:gc(e,t))}function yf(e,t={}){const{strict:n=!1}=t;try{return bf(e,{strict:n}),!0}catch{return!1}}class vc extends W{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ti extends W{constructor(t){super(`Value \`${typeof t=="object"?pc(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ki extends W{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class gf extends W{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class xc extends W{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class wf extends W{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function vf(e){return{address:e.address,amount:le(e.amount),index:le(e.index),validatorIndex:le(e.validatorIndex)}}function Pc(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:le(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:le(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:le(e.gasLimit)},...typeof e.number=="bigint"&&{number:le(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:le(e.prevRandao)},...typeof e.time=="bigint"&&{time:le(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(vf)}}}const xf="0x82ad56cb",Ec="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Pf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ef="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",$o="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",is="/docs/contract/encodeDeployData";function Fr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new a0({docsPath:is});if(!("inputs"in s))throw new ai({docsPath:is});if(!s.inputs||s.inputs.length===0)throw new ai({docsPath:is});const o=kt(s.inputs,n);return Oe([r,o])}class Lt extends C{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Lt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Bt extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ye(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Os extends C{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ye(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Os,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Fs extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ms extends C{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Ms,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class zs extends C{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ls extends C{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ls,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class js extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Us extends C{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Ds extends C{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ln extends C{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ye(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ye(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Ln,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Jn extends C{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Mr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof C?e.walk(s=>(s==null?void 0:s.code)===Lt.code):e;return r instanceof C?new Lt({cause:e,message:r.details}):Lt.nodeMessage.test(n)?new Lt({cause:e,message:e.details}):Bt.nodeMessage.test(n)?new Bt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Os.nodeMessage.test(n)?new Os({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Fs.nodeMessage.test(n)?new Fs({cause:e,nonce:t==null?void 0:t.nonce}):Ms.nodeMessage.test(n)?new Ms({cause:e,nonce:t==null?void 0:t.nonce}):zs.nodeMessage.test(n)?new zs({cause:e,nonce:t==null?void 0:t.nonce}):Ls.nodeMessage.test(n)?new Ls({cause:e}):js.nodeMessage.test(n)?new js({cause:e,gas:t==null?void 0:t.gas}):Us.nodeMessage.test(n)?new Us({cause:e,gas:t==null?void 0:t.gas}):Ds.nodeMessage.test(n)?new Ds({cause:e}):Ln.nodeMessage.test(n)?new Ln({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Jn({cause:e})}function $c(e,{docsPath:t,...n}){const r=(()=>{const s=Mr(e,n);return s instanceof Jn?e:s})();return new sc(r,{docsPath:t,...n})}function on(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Io(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const a of n)delete i[a];return{...i,...r(s,o)}},type:e})}const $f={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ht(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=If(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ne(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=F(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=F(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=F(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=F(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=F(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=F(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=$f[e.type]),typeof e.value<"u"&&(n.value=F(e.value)),n}function If(e){return e.map(t=>({address:t.address,r:t.r?F(BigInt(t.r)):t.r,s:t.s?F(BigInt(t.s)):t.s,chainId:F(t.chainId),nonce:F(t.nonce),...typeof t.yParity<"u"?{yParity:F(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:F(t.v)}:{}}))}function Ao(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const as=new Map;function Ic({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();i();const l=d.map(({args:f})=>f);l.length!==0&&e(l).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<d.length;h++){const{resolve:p}=d[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<d.length;h++){const{reject:p}=d[h];p==null||p(f)}})},i=()=>as.delete(t),a=()=>c().map(({args:d})=>d),c=()=>as.get(t)||[],u=d=>as.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:l,resolve:f,reject:h}=Ao();return(n==null?void 0:n([...a(),d]))&&o(),c().length>0?(u({args:d,resolve:f,reject:h}),l):(u({args:d,resolve:f,reject:h}),setTimeout(o,r),l)}}}function _i(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new di({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new di({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Af(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=F(t)),n!==void 0&&(i.nonce=F(n)),r!==void 0&&(i.state=_i(r)),s!==void 0){if(i.state)throw new El;i.stateDiff=_i(s)}return i}function So(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!se(n,{strict:!1}))throw new he({address:n});if(t[n])throw new Pl({address:n});t[n]=Af(r)}return t}const zr=2n**256n-1n;function rt(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?X(t):void 0;if(o&&!se(o.address))throw new he({address:o.address});if(s&&!se(s))throw new he({address:s});if(n&&n>zr)throw new Bt({maxFeePerGas:n});if(r&&n&&r>n)throw new Ln({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function Xn(e,t){var _,H,S,R;const{account:n=e.account,authorizationList:r,batch:s=!!((_=e.batch)!=null&&_.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:d,data:l,factory:f,factoryData:h,gas:p,gasPrice:b,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:g,to:w,value:y,stateOverride:P,...x}=t,$=n?X(n):void 0;if(d&&(f||h))throw new C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&w)throw new C("Cannot provide both `code` & `to` as parameters.");const I=d&&l,M=f&&h&&w&&l,T=I||M,O=I?Ac({code:d,data:l}):M?Bf({data:l,factory:f,factoryData:h,to:w}):l;try{rt(t);const k=(typeof o=="bigint"?F(o):void 0)||i,L=u?Pc(u):void 0,U=So(P),B=(R=(S=(H=e.chain)==null?void 0:H.formatters)==null?void 0:S.transactionRequest)==null?void 0:R.format,K=(B||ht)({...on(x,{format:B}),accessList:a,account:$,authorizationList:r,blobs:c,data:O,gas:p,gasPrice:b,maxFeePerBlobGas:m,maxFeePerGas:v,maxPriorityFeePerGas:E,nonce:g,to:T?void 0:w,value:y},"call");if(s&&Sf({request:K})&&!U&&!L)try{return await Cf(e,{...K,blockNumber:o,blockTag:i})}catch(Q){if(!(Q instanceof Ja)&&!(Q instanceof ks))throw Q}const Y=(()=>{const Q=[K,k];return U&&L?[...Q,U,L]:U?[...Q,U]:L?[...Q,{},L]:Q})(),J=await e.request({method:"eth_call",params:Y});return J==="0x"?{data:void 0}:{data:J}}catch(z){const k=Tf(z),{offchainLookup:L,offchainLookupSignature:U}=await ua(async()=>{const{offchainLookup:B,offchainLookupSignature:N}=await import("./C2evI__8.js");return{offchainLookup:B,offchainLookupSignature:N}},__vite__mapDeps([0,1]),import.meta.url);if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===U&&w)return{data:await L(e,{data:k,to:w})};throw T&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new _l({factory:f}):$c(z,{...t,account:$,chain:e.chain})}}function Sf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(xf)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Cf(e,t){var b;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return sn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Ja})(),l=(typeof o=="bigint"?F(o):void 0)||i,{schedule:f}=Ic({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(m){return m.reduce((E,{data:g})=>E+(g.length-2),0)>n*2},fn:async m=>{const v=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),E=we({abi:qt,args:[v],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{...u===null?{data:Ac({code:$o,data:E})}:{to:u,data:E}},l]});return ft({abi:qt,args:[v],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:h,success:p}]=await f({data:a,to:c});if(!p)throw new kr({data:h});return h==="0x"?{data:void 0}:{data:h}}function Ac(e){const{code:t,data:n}=e;return Fr({abi:Za(["constructor(bytes, bytes)"]),bytecode:Ec,args:[t,n]})}function Bf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Fr({abi:Za(["constructor(address, bytes, address, bytes)"]),bytecode:Pf,args:[s,t,n,r]})}function Tf(e){var n;if(!(e instanceof C))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Ne(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=we({abi:n,args:s,functionName:o});try{const{data:c}=await j(e,Xn,"call")({...i,data:a,to:r});return ft({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw At(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function kf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;const l=s!=null?[Ns(o),BigInt(s)]:[Ns(o)];try{const f=we({abi:oi,functionName:"addr",args:l}),h={address:u,abi:pa,functionName:"resolveWithGateways",args:[me(go(o)),f,i??[_r]],blockNumber:n,blockTag:r},b=await j(e,Ne,"readContract")(h);if(b[0]==="0x")return null;const m=ft({abi:oi,args:l,functionName:"addr",data:b[0]});return m==="0x"||Se(m)==="0x00"?null:m}catch(f){if(a)throw f;if(yo(f))return null;throw f}}class _f extends C{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class pn extends C{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Co extends C{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Nf extends C{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Rf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Of=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ff=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Mf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function zf(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ni(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Sc({uri:e,gatewayUrls:t}){const n=Ff.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ni(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ni(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Rf),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=i==="ipns:/"||a==="ipns/",l=i==="ipfs:/"||a==="ipfs/"||Of.test(e);if(e.startsWith("http")&&!d&&!l){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Mf,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Co({uri:e})}function Cc(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new _f({data:e});return e.image||e.image_url||e.image_data}async function Lf({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Bo({gatewayUrls:e,uri:Cc(n)})}catch{throw new Co({uri:t})}}async function Bo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Sc({uri:t,gatewayUrls:e});if(r||await zf(n))return n;throw new Co({uri:t})}function jf(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new pn({reason:"Only EIP-155 supported"});if(!i)throw new pn({reason:"Chain ID not found"});if(!c)throw new pn({reason:"Contract address not found"});if(!s)throw new pn({reason:"Token ID not found"});if(!a)throw new pn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Uf(e,{nft:t}){if(t.namespace==="erc721")return Ne(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ne(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Nf({namespace:t.namespace})}async function Df(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Gf(e,{gatewayUrls:t,record:n}):Bo({uri:n,gatewayUrls:t})}async function Gf(e,{gatewayUrls:t,record:n}){const r=jf(n),s=await Uf(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Sc({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return Bo({uri:Cc(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Lf({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Bc(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(l=>o.endsWith(l)))return null;try{const l={address:u,abi:pa,args:[me(go(o)),we({abi:si,functionName:"text",args:[Ns(o),s]}),i??[_r]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await j(e,Ne,"readContract")(l);if(h[0]==="0x")return null;const p=ft({abi:si,functionName:"text",data:h[0]});return p===""?null:p}catch(l){if(a)throw l;if(yo(l))return null;throw l}}async function qf(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await j(e,Bc,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Df(e,{record:c,gatewayUrls:r})}catch{return null}}async function Hf(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:o0,args:[n,o,i??[_r]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=j(e,Ne,"readContract"),[f]=await l(d);return f||null}catch(d){if(a)throw d;if(yo(d))return null;throw d}}async function Vf(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return sn({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await j(e,Ne,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[me(go(s))],blockNumber:n,blockTag:r});return c}async function Tc(e,t){var m,v,E;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:h,...p}=t,b=n?X(n):void 0;try{rt(t);const w=(typeof r=="bigint"?F(r):void 0)||s,y=(E=(v=(m=e.chain)==null?void 0:m.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,x=(y||ht)({...on(p,{format:y}),account:b,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:h},"createAccessList"),$=await e.request({method:"eth_createAccessList",params:[x,w]});return{accessList:$.accessList,gasUsed:BigInt($.gasUsed)}}catch(g){throw $c(g,{...t,account:b,chain:e.chain})}}function Lr(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),(o=>n[o]||e.request)}async function Wf(e){const t=Lr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Zf extends C{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Ri="/docs/contract/encodeEventTopics";function Qn(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=_t({abi:t,name:n});if(!u)throw new ui(n,{docsPath:Ri});s=u}if(s.type!=="event")throw new ui(void 0,{docsPath:Ri});const o=Te(s),i=Cr(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(l=>"indexed"in l&&l.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(l=>r[l.name]))??[]:[];d.length>0&&(a=(u==null?void 0:u.map((l,f)=>Array.isArray(d[f])?d[f].map((h,p)=>Oi({param:l,value:d[f][p]})):typeof d[f]<"u"&&d[f]!==null?Oi({param:l,value:d[f]}):null))??[])}return[i,...a]}function Oi({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ae(tn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Zf(e.type);return kt([e],[t])}async function kc(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Lr(e,{method:"eth_newFilter"}),d=o?Qn({abi:r,args:s,eventName:o}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?F(i):i,toBlock:typeof c=="bigint"?F(c):c,topics:d}]});return{abi:r,args:s,eventName:o,id:l,request:u(l),strict:!!a,type:"event"}}async function _c(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Lr(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(h=>Qn({abi:[h],eventName:h.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?F(o):o,toBlock:typeof a=="bigint"?F(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:l,request:u(l),strict:!!i,toBlock:a,type:"event"}}async function Nc(e){const t=Lr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function Kf(e){const t=ae(`0x${e.substring(4)}`).substring(26);return qn(`0x${t}`)}async function Yf({hash:e,signature:t}){const n=je(e)?e:me(e),{secp256k1:r}=await ua(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>pp);return{secp256k1:i}},void 0,import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:f}=t,h=Number(f??l),p=Fi(h);return new r.Signature(ie(u),ie(d)).addRecoveryBit(p)}const i=je(t)?t:me(t);if(ee(i)!==65)throw new Error("invalid signature length");const a=Ce(`0x${i.slice(130)}`),c=Fi(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Fi(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Rc({hash:e,signature:t}){return Kf(await Yf({hash:e,signature:t}))}function lt(e,t="hex"){const n=Oc(e),r=lo(new Uint8Array(n.length));return n.encode(r),t==="hex"?ne(r.bytes):r.bytes}function Oc(e){return Array.isArray(e)?Jf(e.map(t=>Oc(t))):Xf(e)}function Jf(e){const t=e.reduce((s,o)=>s+o.length,0),n=Fc(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Xf(e){const t=typeof e=="string"?Ue(e):e,n=Fc(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Fc(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new C("Length is too large.")}function Qf(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=ae(Oe(["0x05",lt([t?F(t):"0x",s,n?F(n):"0x"])]));return r==="bytes"?Ue(o):o}async function jr(e){const{authorization:t,signature:n}=e;return Rc({hash:Qf(t),signature:n??t})}class eh extends C{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var p;const h=Wn({from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${Tr(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ye(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ye(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ye(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function th(e,{docsPath:t,...n}){const r=(()=>{const s=Mr(e,n);return s instanceof Jn?e:s})();return new eh(r,{docsPath:t,...n})}class Mc extends C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class To extends C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class nh extends C{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ye(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class zc extends C{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Lc={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function er(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Ce(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Ce(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Lc[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=sh(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const rh=Io("transaction",er);function sh(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function ko(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:er(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const oh=Io("block",ko);async function Be(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,l;const o=s??!1,i=n!==void 0?F(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new zc({blockHash:t,blockNumber:n});return(((l=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:l.format)||ko)(a,"getBlock")}async function _o(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ih(e,t){return jc(e,t)}async function jc(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await j(e,Be,"getBlock")({}),d=await a({block:u,client:e,request:s});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ie(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):j(e,Be,"getBlock")({}),j(e,_o,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new To;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function ah(e,t){return Gs(e,t)}async function Gs(e,t){var f,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var p,b;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(i<1)throw new Mc;const c=10**(((f=i.toString().split(".")[1])==null?void 0:f.length)??0),u=p=>p*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await j(e,Be,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new To;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await jc(e,{block:d,chain:r,request:s}),b=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await j(e,_o,"getGasPrice")({}))}}async function No(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?F(r):n]},{dedupe:!!r});return Ce(s)}function Ro(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ue(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>ne(o))}function Oo(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ue(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ue(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>ne(i))}function ch(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function uh(e,t,n){return e&t^~e&n}function dh(e,t,n){return e&t^e&n^t&n}class lh extends co{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Jr(this.buffer)}update(t){Wt(this),t=Ar(t),Pt(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Jr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wt(this),Ia(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Zt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;ch(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Jr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,d[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const st=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ot=new Uint32Array(64);class hh extends lh{constructor(t=32){super(64,t,8,!1),this.A=st[0]|0,this.B=st[1]|0,this.C=st[2]|0,this.D=st[3]|0,this.E=st[4]|0,this.F=st[5]|0,this.G=st[6]|0,this.H=st[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)ot[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const f=ot[l-15],h=ot[l-2],p=Fe(f,7)^Fe(f,18)^f>>>3,b=Fe(h,17)^Fe(h,19)^h>>>10;ot[l]=b+ot[l-7]+p+ot[l-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:d}=this;for(let l=0;l<64;l++){const f=Fe(a,6)^Fe(a,11)^Fe(a,25),h=d+f+uh(a,c,u)+fh[l]+ot[l]|0,b=(Fe(r,2)^Fe(r,13)^Fe(r,22))+dh(r,s,o)|0;d=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+b|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,c,u,d)}roundClean(){Zt(ot)}destroy(){this.set(0,0,0,0,0,0,0,0),Zt(this.buffer)}}const Uc=Aa(()=>new hh),ph=Uc;function bh(e,t){return ph(je(e,{strict:!1})?tn(e):e)}function mh(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=bh(t);return s.set([n],0),r==="bytes"?s:ne(s)}function Dc(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(mh({commitment:o,to:r,version:n}));return s}const Mi=6,Gc=32,Fo=4096,qc=Gc*Fo,zi=qc*Mi-1-1*Fo*Mi,Hc=1;class yh extends C{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Vc extends C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class gh extends C{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class wh extends C{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Hc}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function vh(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ue(e.data):e.data,r=ee(n);if(!r)throw new Vc;if(r>zi)throw new yh({maxSize:zi,size:r});const s=[];let o=!0,i=0;for(;o;){const a=lo(new Uint8Array(qc));let c=0;for(;c<Fo;){const u=n.slice(i,i+(Gc-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>ne(a.bytes))}function Wc(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??vh({data:t,to:r}),o=e.commitments??Ro({blobs:s,kzg:n,to:r}),i=e.proofs??Oo({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Zc(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Al({transaction:e})}function Ur(e,{docsPath:t,...n}){const r=(()=>{const s=Mr(e,n);return s instanceof Jn?e:s})();return new Cl(r,{docsPath:t,...n})}async function pt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Ce(t)}async function Mo(e,t){var $,I,M,T,O;const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,nonceManager:b,to:m,type:v,value:E,...g}=t,w=await(async()=>{if(!n||!b||typeof p<"u")return p;const _=X(n),H=o?o.id:await j(e,pt,"getChainId")({});return await b.consume({address:_.address,chainId:H,client:e})})();rt(t);const y=(I=($=o==null?void 0:o.formatters)==null?void 0:$.transactionRequest)==null?void 0:I.format,x=(y||ht)({...on(g,{format:y}),account:n?X(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:w,to:m,type:v,value:E},"fillTransaction");try{const _=await e.request({method:"eth_fillTransaction",params:[x]}),S=(((T=(M=o==null?void 0:o.formatters)==null?void 0:M.transaction)==null?void 0:T.format)||er)(_.tx);delete S.blockHash,delete S.blockNumber,delete S.r,delete S.s,delete S.transactionIndex,delete S.v,delete S.yParity,S.data=S.input,S.gas&&(S.gas=t.gas??S.gas),S.gasPrice&&(S.gasPrice=t.gasPrice??S.gasPrice),S.maxFeePerBlobGas&&(S.maxFeePerBlobGas=t.maxFeePerBlobGas??S.maxFeePerBlobGas),S.maxFeePerGas&&(S.maxFeePerGas=t.maxFeePerGas??S.maxFeePerGas),S.maxPriorityFeePerGas&&(S.maxPriorityFeePerGas=t.maxPriorityFeePerGas??S.maxPriorityFeePerGas),S.nonce&&(S.nonce=t.nonce??S.nonce);const R=await(async()=>{var U,B;if(typeof((U=o==null?void 0:o.fees)==null?void 0:U.baseFeeMultiplier)=="function"){const N=await j(e,Be,"getBlock")({});return o.fees.baseFeeMultiplier({block:N,client:e,request:t})}return((B=o==null?void 0:o.fees)==null?void 0:B.baseFeeMultiplier)??1.2})();if(R<1)throw new Mc;const k=10**(((O=R.toString().split(".")[1])==null?void 0:O.length)??0),L=U=>U*BigInt(Math.ceil(R*k))/BigInt(k);return S.maxFeePerGas&&!t.maxFeePerGas&&(S.maxFeePerGas=L(S.maxFeePerGas)),S.gasPrice&&!t.gasPrice&&(S.gasPrice=L(S.gasPrice)),{raw:_.raw,transaction:{from:x.from,...S}}}catch(_){throw Ur(_,{...t,chain:e.chain})}}const zo=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Li=new Map,cs=new nn(128);async function tr(e,t){var w,y,P;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=zo);const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await j(e,pt,"getChainId")({}),c))}const d=r&&X(r);let l=n.nonce;if(i.includes("nonce")&&typeof l>"u"&&d&&o){const x=await u();l=await o.consume({address:d.address,chainId:x,client:e})}a!=null&&a.fn&&((w=a.runAt)!=null&&w.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),l??(l=n.nonce));const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||cs.get(e.uid)===!1||!["fees","gas"].some($=>i.includes($))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof l!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await j(e,Mo,"fillTransaction")({...n,nonce:l}).then(x=>{const{chainId:$,from:I,gas:M,gasPrice:T,nonce:O,maxFeePerBlobGas:_,maxFeePerGas:H,maxPriorityFeePerGas:S,type:R,...z}=x.transaction;return cs.set(e.uid,!0),{...n,...I?{from:I}:{},...R?{type:R}:{},...typeof $<"u"?{chainId:$}:{},...typeof M<"u"?{gas:M}:{},...typeof T<"u"?{gasPrice:T}:{},...typeof O<"u"?{nonce:O}:{},...typeof _<"u"?{maxFeePerBlobGas:_}:{},...typeof H<"u"?{maxFeePerGas:H}:{},...typeof S<"u"?{maxPriorityFeePerGas:S}:{},..."nonceKey"in z&&typeof z.nonceKey<"u"?{nonceKey:z.nonceKey}:{}}}).catch(x=>{var M;const $=x;return $.name!=="TransactionExecutionError"||((M=$.walk)==null?void 0:M.call($,T=>{const O=T;return O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"}))&&cs.set(e.uid,!1),n}):n;l??(l=h.nonce),n={...h,...d?{from:d==null?void 0:d.address}:{},...l?{nonce:l}:{}};const{blobs:p,gas:b,kzg:m,type:v}=n;a!=null&&a.fn&&((y=a.runAt)!=null&&y.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let E;async function g(){return E||(E=await j(e,Be,"getBlock")({blockTag:"latest"}),E)}if(i.includes("nonce")&&typeof l>"u"&&d&&!o&&(n.nonce=await j(e,No,"getTransactionCount")({address:d.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&p&&m){const x=Ro({blobs:p,kzg:m});if(i.includes("blobVersionedHashes")){const $=Dc({commitments:x,to:"hex"});n.blobVersionedHashes=$}if(i.includes("sidecars")){const $=Oo({blobs:p,commitments:x,kzg:m}),I=Wc({blobs:p,commitments:x,proofs:$,to:"hex"});n.sidecars=I}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof v>"u")try{n.type=Zc(n)}catch{let x=Li.get(e.uid);if(typeof x>"u"){const $=await g();x=typeof($==null?void 0:$.baseFeePerGas)=="bigint",Li.set(e.uid,x)}n.type=x?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const x=await g(),{maxFeePerGas:$,maxPriorityFeePerGas:I}=await Gs(e,{block:x,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<I)throw new nh({maxPriorityFeePerGas:I});n.maxPriorityFeePerGas=I,n.maxFeePerGas=$}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new To;if(typeof n.gasPrice>"u"){const x=await g(),{gasPrice:$}=await Gs(e,{block:x,chain:s,request:n,type:"legacy"});n.gasPrice=$}}return i.includes("gas")&&typeof b>"u"&&(n.gas=await j(e,Lo,"estimateGas")({...n,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((P=a.runAt)!=null&&P.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),rt(n),delete n.parameters,n}async function Lo(e,t){var i,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?X(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await jr({authorization:t.authorizationList[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:l,blobs:f,blobVersionedHashes:h,blockNumber:p,blockTag:b,data:m,gas:v,gasPrice:E,maxFeePerBlobGas:g,maxFeePerGas:w,maxPriorityFeePerGas:y,nonce:P,value:x,stateOverride:$,...I}=r?await tr(e,{...t,parameters:o,to:u}):t;if(v&&t.gas!==v)return v;const T=(typeof p=="bigint"?F(p):void 0)||b,O=So($);rt(t);const _=(c=(a=(i=e.chain)==null?void 0:i.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,S=(_||ht)({...on(I,{format:_}),account:s,accessList:d,authorizationList:l,blobs:f,blobVersionedHashes:h,data:m,gasPrice:E,maxFeePerBlobGas:g,maxFeePerGas:w,maxPriorityFeePerGas:y,nonce:P,to:u,value:x},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:O?[S,T??e.experimental_blockTag??"latest",O]:T?[S,T]:[S]}))}catch(u){throw th(u,{...t,account:s,chain:e.chain})}}async function xh(e,t){var u;const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:(u=e.dataSuffix)==null?void 0:u.value,...a}=t,c=we({abi:n,args:s,functionName:o});try{return await j(e,Lo,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(d){const l=a.account?X(a.account):void 0;throw At(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:l==null?void 0:l.address})}}async function Ph(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){var i,a,c;if((i=e.batch)!=null&&i.multicall&&((c=(a=e.chain)==null?void 0:a.contracts)!=null&&c.multicall3)){const u=e.chain.contracts.multicall3.address,d=we({abi:qt,functionName:"getEthBalance",args:[t]}),{data:l}=await j(e,Xn,"call")({to:u,data:d,blockNumber:n,blockTag:r});return ft({abi:qt,functionName:"getEthBalance",args:[t],data:l||"0x"})}const s=typeof n=="bigint"?F(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Eh(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const $h=new Map,Ih=new Map;function Ah(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,$h),r=t(e,Ih);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Sh(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ah(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Ch=e=>`blockNumber.${e}`;async function nr(e,{cacheTime:t=e.cacheTime}={}){const n=await Sh(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ch(e.uid),cacheTime:t});return BigInt(n)}async function Bh(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?F(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Ce(o)}async function qs(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?F(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function rr(e,t){if(!se(e,{strict:!1}))throw new he({address:e});if(!se(t,{strict:!1}))throw new he({address:t});return e.toLowerCase()===t.toLowerCase()}const ji="/docs/contract/decodeEventLog";function xr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new f0({docsPath:ji});const c=t.find(v=>v.type==="event"&&i===Cr(Te(v)));if(!(c&&"name"in c)||c.type!=="event")throw new h0(i,{docsPath:ji});const{name:u,inputs:d}=c,l=d==null?void 0:d.some(v=>!("name"in v&&v.name)),f=l?[]:{},h=d.map((v,E)=>[v,E]).filter(([v])=>"indexed"in v&&v.indexed),p=[];for(let v=0;v<h.length;v++){const[E,g]=h[v],w=a[v];if(!w){if(o)throw new io({abiItem:c,param:E});p.push([E,g]);continue}f[l?g:E.name||g]=Th({param:E,value:w})}const b=d.filter(v=>!("indexed"in v&&v.indexed)),m=o?b:[...p.map(([v])=>v),...b];if(m.length>0){if(n&&n!=="0x")try{const v=Hn(m,n);if(v){let E=0;if(!o)for(const[g,w]of p)f[l?w:g.name||w]=v[E++];if(l)for(let g=0;g<d.length;g++)f[g]===void 0&&E<v.length&&(f[g]=v[E++]);else for(let g=0;g<b.length;g++)f[b[g].name]=v[E++]}}catch(v){if(o)throw v instanceof ga||v instanceof _a?new yr({abiItem:c,data:n,params:m,size:ee(n)}):v}else if(o)throw new yr({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Th({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Hn([e],t)||[])[0]}function jo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:Cr(a)}));return r.map(a=>{var l;const c=i.filter(f=>a.topics[0]===f.selector);if(c.length===0)return null;let u,d;for(const f of c)try{u=xr({...a,abi:[f.abi],strict:!0}),d=f;break}catch{}if(!u&&!s){d=c[0];try{u=xr({data:a.data,topics:a.topics,abi:[d.abi],strict:!1})}catch{const f=(l=d.abi.inputs)==null?void 0:l.some(h=>!("name"in h&&h.name));return{...a,args:f?[]:{},eventName:d.abi.name}}}return!u||!d||o&&!o.includes(u.eventName)||!kh({args:u.args,inputs:d.abi.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function kh(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?rr(i,a):o.type==="string"||o.type==="bytes"?ae(tn(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function et(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Uo(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,d=i??(o?[o]:void 0);let l=[];d&&(l=[d.flatMap(b=>Qn({abi:[b],eventName:b.name,args:i?void 0:a}))],o&&(l=l[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?F(r):r,toBlock:typeof s=="bigint"?F(s):s}]});const h=f.map(p=>et(p));return d?jo({abi:d,args:a,logs:h,strict:u}):h}async function Kc(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,d=i?_t({abi:n,name:i}):void 0,l=d?void 0:n.filter(f=>f.type==="event");return j(e,Uo,"getLogs")({address:r,args:s,blockHash:o,event:d,events:l,fromBlock:a,toBlock:c,strict:u})}class _h extends C{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Nh(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,d,l]=await j(e,Ne,"readContract")({abi:Rh,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:d},extensions:l,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new _h({address:n}):i}}const Rh=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Oh(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Fh(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?F(n):void 0,i=await e.request({method:"eth_feeHistory",params:[F(t),o||r,s]},{dedupe:!!o});return Oh(i)}async function Dr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>et(o));return!("abi"in t)||!t.abi?s:jo({abi:t.abi,logs:s,strict:n})}async function Mh(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>et(o));return t.abi?jo({abi:t.abi,logs:s,strict:n}):s}function zh(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!se(s))throw new he({address:s});if(r<0)throw new Br({chainId:r})}Do(e)}function Lh(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Vc;for(const n of t){const r=ee(n),s=Ce(Et(n,0,1));if(r!==32)throw new gh({hash:n,size:r});if(s!==Hc)throw new wh({hash:n,version:s})}}Do(e)}function Do(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Br({chainId:t});if(s&&!se(s))throw new he({address:s});if(r&&r>zr)throw new Bt({maxFeePerGas:r});if(n&&r&&n>r)throw new Ln({maxFeePerGas:r,maxPriorityFeePerGas:n})}function jh(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new Br({chainId:t});if(o&&!se(o))throw new he({address:o});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>zr)throw new Bt({maxFeePerGas:r})}function Uh(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!se(o))throw new he({address:o});if(typeof t<"u"&&t<=0)throw new Br({chainId:t});if(n||s)throw new C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>zr)throw new Bt({maxFeePerGas:r})}function Gr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new Sl({storageKey:s[o]});if(!se(r,{strict:!1}))throw new he({address:r});t.push([r,s])}return t}function Dh(e,t){const n=Zc(e);return n==="eip1559"?Hh(e,t):n==="eip2930"?Vh(e,t):n==="eip4844"?qh(e,t):n==="eip7702"?Gh(e,t):Wh(e,t)}function Gh(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;zh(e);const f=Gr(d),h=Zh(n);return Oe(["0x04",lt([F(r),o?F(o):"0x",u?F(u):"0x",c?F(c):"0x",s?F(s):"0x",i??"0x",a?F(a):"0x",l??"0x",f,h,...sr(e,t)])])}function qh(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;Lh(e);let f=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof f>"u"||typeof h>"u")){const g=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(P=>ne(P)),w=e.kzg,y=Ro({blobs:g,kzg:w});if(typeof f>"u"&&(f=Dc({commitments:y})),typeof h>"u"){const P=Oo({blobs:g,commitments:y,kzg:w});h=Wc({blobs:g,commitments:y,proofs:P})}}const p=Gr(d),b=[F(n),s?F(s):"0x",u?F(u):"0x",c?F(c):"0x",r?F(r):"0x",o??"0x",i?F(i):"0x",l??"0x",p,a?F(a):"0x",f??[],...sr(e,t)],m=[],v=[],E=[];if(h)for(let g=0;g<h.length;g++){const{blob:w,commitment:y,proof:P}=h[g];m.push(w),v.push(y),E.push(P)}return Oe(["0x03",lt(h?[b,m,v,E]:b)])}function Hh(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:d}=e;Do(e);const l=Gr(u),f=[F(n),s?F(s):"0x",c?F(c):"0x",a?F(a):"0x",r?F(r):"0x",o??"0x",i?F(i):"0x",d??"0x",l,...sr(e,t)];return Oe(["0x02",lt(f)])}function Vh(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;jh(e);const d=Gr(c),l=[F(n),o?F(o):"0x",u?F(u):"0x",r?F(r):"0x",i??"0x",a?F(a):"0x",s??"0x",d,...sr(e,t)];return Oe(["0x01",lt(l)])}function Wh(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;Uh(e);let u=[o?F(o):"0x",c?F(c):"0x",r?F(r):"0x",i??"0x",a?F(a):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Il({v:t.v});return h})(),l=Se(t.r),f=Se(t.s);u=[...u,F(d),l==="0x00"?"0x":l,f==="0x00"?"0x":f]}else n>0&&(u=[...u,F(n),"0x","0x"]);return lt(u)}function sr(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Se(n.r),i=Se(n.s);return[typeof s=="number"?s?F(1):"0x":r===0n?"0x":r===1n?F(1):r===27n?"0x":F(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Zh(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?me(r):"0x",i,s?me(s):"0x",...sr({},o)])}return t}async function Kh({address:e,authorization:t,signature:n}){return rr(at(e),await jr({authorization:t,signature:n}))}const cr=new nn(8192);function Yh(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(cr.get(n))return cr.get(n);const r=e().finally(()=>cr.delete(n));return cr.set(n,r),r}async function Hs(e){return new Promise(t=>setTimeout(t,e))}function jn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await Hs(d),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function Jh(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((l=o==null?void 0:o.exclude)!=null&&l.includes(u))throw new yt(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new yt(new Error("method not supported"),{method:u});const d=s?Vt(`${c}.${re(n)}`):void 0;return Yh(()=>jn(async()=>{try{return await e(n)}catch(f){const h=f;switch(h.code){case vn.code:throw new vn(h);case xn.code:throw new xn(h);case Pn.code:throw new Pn(h,{method:n.method});case En.code:throw new En(h);case $t.code:throw new $t(h);case dt.code:throw new dt(h);case $n.code:throw new $n(h);case ut.code:throw new ut(h);case In.code:throw new In(h);case yt.code:throw new yt(h,{method:n.method});case Kt.code:throw new Kt(h);case An.code:throw new An(h);case de.code:throw new de(h);case Sn.code:throw new Sn(h);case Cn.code:throw new Cn(h);case Bn.code:throw new Bn(h);case Tn.code:throw new Tn(h);case It.code:throw new It(h);case Yt.code:throw new Yt(h);case kn.code:throw new kn(h);case _n.code:throw new _n(h);case Nn.code:throw new Nn(h);case Rn.code:throw new Rn(h);case On.code:throw new On(h);case Jt.code:throw new Jt(h);case 5e3:throw new de(h);case Fn.code:throw new Fn(h);default:throw f instanceof C?f:new jl(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof mn){const b=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<f)*i},retryCount:a,shouldRetry:({error:f})=>Xh(f)}),{enabled:s,id:d})}}function Xh(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Kt.code||e.code===$t.code:e instanceof mn&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Go({chain:e,currentChainId:t}){if(!e)throw new ml;if(t!==e.id)throw new bl({chain:e,currentChainId:t})}function Yc(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}const Jc={"0x0":"reverted","0x1":"success"};function qo(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>et(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Ce(e.transactionIndex):null,status:e.status?Jc[e.status]:null,type:e.type?Lc[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Qh=Io("transactionReceipt",qo);function Xc(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function e1(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ui=e1();function t1(e,t={}){const{url:n,headers:r}=n1(e);return{async request(s){var p;const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,d={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:l,method:f,signal:h}=d;try{const b=await Xc(async({signal:v})=>{const E={...d,body:Array.isArray(o)?re(o.map(P=>({jsonrpc:"2.0",id:P.id??Ui.take(),...P}))):re({jsonrpc:"2.0",id:o.id??Ui.take(),...o}),headers:{...r,"Content-Type":"application/json",...l},method:f||"POST",signal:h||(u>0?v:null)},g=new Request(n,E),w=await(a==null?void 0:a(g,E))??{...E,url:n};return await i(w.url??n,w)},{errorInstance:new Ii({body:o,url:n}),timeout:u,signal:!0});c&&await c(b);let m;if((p=b.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))m=await b.json();else{m=await b.text();try{m=JSON.parse(m||"{}")}catch(v){if(b.ok)throw v;m={error:m}}}if(!b.ok)throw new mn({body:o,details:re(m.error)||b.statusText,headers:b.headers,status:b.status,url:n});return m}catch(b){throw b instanceof mn||b instanceof Ii?b:new mn({body:o,cause:b,url:n})}}}}function n1(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const r1=`Ethereum Signed Message:
`;function s1(e){const t=typeof e=="string"?Vt(e):typeof e.raw=="string"?e.raw:ne(e.raw),n=Vt(`${r1}${ee(t)}`);return ue([n,t])}function Qc(e,t){return ae(s1(e),t)}class o1 extends C{constructor({domain:t}){super(`Invalid domain "${re(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class i1 extends C{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class a1 extends C{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function c1(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const d={...u};for(const l of c){const{name:f,type:h}=l;h==="address"&&(d[f]=d[f].toLowerCase())}return d},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return re({domain:i,message:a,primaryType:r,types:s})}function eu(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:d}=c,l=a[u],f=d.match(Fa);if(f&&(typeof l=="number"||typeof l=="bigint")){const[b,m,v]=f;F(l,{signed:m==="int",size:Number.parseInt(v,10)/8})}if(d==="address"&&typeof l=="string"&&!se(l))throw new he({address:l});const h=d.match(ad);if(h){const[b,m]=h;if(m&&ee(l)!==Number.parseInt(m,10))throw new m0({expectedSize:Number.parseInt(m,10),givenSize:ee(l)})}const p=s[d];p&&(u1(d),o(p,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new o1({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new i1({primaryType:r,types:s})}function tu({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function u1(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new a1({type:e})}function d1(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:tu({domain:t}),...e.types};eu({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(l1({domain:t,types:s})),r!=="EIP712Domain"&&o.push(nu({data:n,primaryType:r,types:s})),ae(ue(o))}function l1({domain:e,types:t}){return nu({data:e,primaryType:"EIP712Domain",types:t})}function nu({data:e,primaryType:t,types:n}){const r=ru({data:e,primaryType:t,types:n});return ae(r)}function ru({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[f1({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=ou({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return kt(r,s)}function f1({primaryType:e,types:t}){const n=me(h1({primaryType:e,types:t}));return ae(n)}function h1({primaryType:e,types:t}){let n="";const r=su({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function su({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])su({primaryType:o.type,types:t},n);return n}function ou({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ae(ru({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},ae(r)];if(n==="string")return[{type:"bytes32"},ae(me(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>ou({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ae(kt(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class p1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const b1={checksum:new p1(8192)},us=b1.checksum;class iu extends co{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,M0(t);const r=Ar(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Zt(o)}update(t){return Wt(this),this.iHash.update(t),this}digestInto(t){Wt(this),Pt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const au=(e,t,n)=>new iu(e,t).update(n).digest();au.create=(e,t)=>new iu(e,t);function cu(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=ka(ef(e));return n==="Bytes"?r:_e(r)}const m1=/^0x[a-fA-F0-9]{40}$/;function qr(e,t={}){const{strict:n=!0}=t;if(!m1.test(e))throw new Di({address:e,cause:new y1});if(n){if(e.toLowerCase()===e)return;if(uu(e)!==e)throw new Di({address:e,cause:new g1})}}function uu(e){if(us.has(e))return us.get(e);qr(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=cu(nf(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return us.set(e,s),s}function Vs(e,t={}){const{strict:n=!0}=t??{};try{return qr(e,{strict:n}),!0}catch{return!1}}class Di extends W{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class y1 extends W{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class g1 extends W{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const w1=/^(.*)\[([0-9]*)\]$/,v1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,du=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Gi=2n**256n-1n;function Gt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Wo(t.type);if(o){const[i,a]=o;return P1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return A1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return x1(e,{checksum:r});if(t.type==="bool")return E1(e);if(t.type.startsWith("bytes"))return $1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return I1(e,t);if(t.type==="string")return S1(e,{staticPosition:s});throw new Ko(t.type)}const qi=32,Ws=32;function x1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?uu(o):o)(_e(sf(r,-20))),32]}function P1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Xe(e.readBytes(Ws)),u=o+c,d=u+qi;e.setPosition(u);const l=Xe(e.readBytes(qi)),f=Un(t);let h=0;const p=[];for(let b=0;b<l;++b){e.setPosition(d+(f?b*32:h));const[m,v]=Gt(e,t,{checksumAddress:r,staticPosition:d});h+=v,p.push(m)}return e.setPosition(o+32),[p,32]}if(Un(t)){const c=Xe(e.readBytes(Ws)),u=o+c,d=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[f]=Gt(e,t,{checksumAddress:r,staticPosition:u});d.push(f)}return e.setPosition(o+32),[d,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,d]=Gt(e,t,{checksumAddress:r,staticPosition:o+i});i+=d,a.push(u)}return[a,i]}function E1(e){return[af(e.readBytes(32),{size:32}),32]}function $1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Xe(e.readBytes(32));e.setPosition(n+i);const a=Xe(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[_e(c),32]}return[_e(e.readBytes(Number.parseInt(s,10),32)),32]}function I1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?of(s,{signed:n}):Xe(s,{signed:n}),32]}function A1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(Un(t)){const c=Xe(e.readBytes(Ws)),u=s+c;for(let d=0;d<t.components.length;++d){const l=t.components[d];e.setPosition(u+a);const[f,h]=Gt(e,l,{checksumAddress:r,staticPosition:u});a+=h,i[o?d:l==null?void 0:l.name]=f}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[d,l]=Gt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u==null?void 0:u.name]=d,a+=l}return[i,a]}function S1(e,{staticPosition:t}){const n=Xe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Xe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=cf(mc(o));return e.setPosition(t+32),[i,32]}function C1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ho({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ho({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Wo(r.type);if(s){const[o,i]=s;return T1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return O1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return B1(n,{checksum:e});if(r.type==="bool")return _1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=du.exec(r.type)??[];return N1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return k1(n,{type:r.type});if(r.type==="string")return R1(n);throw new Ko(r.type)}function Vo(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Ee(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(le(t+s,{size:32})),r.push(a),s+=Ee(a)):n.push(a)}return ke(...n,...r)}function B1(e,t){const{checksum:n=!1}=t;return qr(e,{strict:n}),{dynamic:!1,encoded:St(e.toLowerCase())}}function T1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new q1(e);if(!o&&e.length!==r)throw new G1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=Ho({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Vo(a);if(o){const u=le(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ke(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ke(...a.map(({encoded:c})=>c))}}function k1(e,{type:t}){const[,n]=t.split("bytes"),r=Ee(e);if(!n){let s=e;return r%32!==0&&(s=Ct(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ke(St(le(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new fu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ct(e)}}function _1(e){if(typeof e!="boolean")throw new W(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:St(yc(e))}}function N1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new vc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:le(e,{size:32,signed:t})}}function R1(e){const t=Eo(e),n=Math.ceil(Ee(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ct(Le(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ke(Ct(le(Ee(t),{size:32})),...r)}}function O1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=Ho({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Vo(o):ke(...o.map(({encoded:i})=>i))}}function Wo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Un(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Un);const n=Wo(e.type);return!!(n&&Un({...e,type:n[1]}))}const F1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new L1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new z1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Hi({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Hi({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function M1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(F1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Hi extends W{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class z1 extends W{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class L1 extends W{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function j1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?bc(t):t,i=M1(o);if(zt(o)===0&&e.length>0)throw new D1;if(zt(o)&&zt(o)<32)throw new U1({data:typeof t=="string"?t:_e(t),parameters:e,size:zt(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const d=e[u];i.setPosition(a);const[l,f]=Gt(i,d,{checksumAddress:s,staticPosition:0});a+=f,r==="Array"?c.push(l):c[d.name??u]=l}return c}function Zo(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new hu({expectedLength:e.length,givenLength:t.length});const s=C1({checksumAddress:r,parameters:e,values:t}),o=Vo(s);return o.length===0?"0x":o}function Zs(e,t){if(e.length!==t.length)throw new hu({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Zs.encode(s,o))}return ke(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return qr(c),St(c.toLowerCase(),s?32:0)}if(n==="string")return Eo(r);if(n==="bytes")return r;if(n==="bool")return St(yc(r),s?32:1);const o=n.match(du);if(o){const[c,u,d="256"]=o,l=Number.parseInt(d,10)/8;return le(r,{size:s?32:l,signed:u==="int"})}const i=n.match(v1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new fu({expectedSize:Number.parseInt(u,10),value:r});return Ct(r,s?32:0)}const a=n.match(w1);if(a&&Array.isArray(r)){const[c,u]=a,d=[];for(let l=0;l<r.length;l++)d.push(t(u,r[l],!0));return d.length===0?"0x":ke(...d)}throw new Ko(n)}e.encode=t})(Zs||(Zs={}));function lu(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?xi(e):e}class U1 extends W{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Mt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class D1 extends W{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class G1 extends W{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class fu extends W{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ee(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class hu extends W{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class q1 extends W{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Ko extends W{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const be=BigInt(0),fe=BigInt(1),gt=BigInt(2),H1=BigInt(3),pu=BigInt(4),bu=BigInt(5),mu=BigInt(8);function pe(e,t){const n=e%t;return n>=be?n:t+n}function Ie(e,t,n){let r=e;for(;t-- >be;)r*=r,r%=n;return r}function Ks(e,t){if(e===be)throw new Error("invert: expected non-zero number");if(t<=be)throw new Error("invert: expected positive modulus, got "+t);let n=pe(e,t),r=t,s=be,o=fe;for(;n!==be;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==fe)throw new Error("invert: does not exist");return pe(s,t)}function yu(e,t){const n=(e.ORDER+fe)/pu,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function V1(e,t){const n=(e.ORDER-bu)/mu,r=e.mul(t,gt),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,gt),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function W1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-fe,n=0;for(;t%gt===be;)t/=gt,n++;let r=gt;const s=Yo(e);for(;Vi(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return yu;let o=s.pow(r,t);const i=(t+fe)/gt;return function(c,u){if(c.is0(u))return u;if(Vi(c,u)!==1)throw new Error("Cannot find square root");let d=n,l=c.mul(c.ONE,o),f=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(p++,b=c.sqr(b),p===d)throw new Error("Cannot find square root");const m=fe<<BigInt(d-p-1),v=c.pow(l,m);d=p,l=c.sqr(v),f=c.mul(f,l),h=c.mul(h,v)}return h}}function Z1(e){return e%pu===H1?yu:e%mu===bu?V1:W1(e)}const K1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Y1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=K1.reduce((r,s)=>(r[s]="function",r),t);return Rr(e,n)}function J1(e,t,n){if(n<be)throw new Error("invalid exponent, negatives unsupported");if(n===be)return e.ONE;if(n===fe)return t;let r=e.ONE,s=t;for(;n>be;)n&fe&&(r=e.mul(r,s)),s=e.sqr(s),n>>=fe;return r}function gu(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Vi(e,t){const n=(e.ORDER-fe)/gt,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function wu(e,t){t!==void 0&&gn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Yo(e,t,n=!1,r={}){if(e<=be)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=wu(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Nr(s),ZERO:be,ONE:fe,create:c=>pe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return be<=c&&c<e},is0:c=>c===be,isOdd:c=>(c&fe)===fe,neg:c=>pe(-c,e),eql:(c,u)=>c===u,sqr:c=>pe(c*c,e),add:(c,u)=>pe(c+u,e),sub:(c,u)=>pe(c-u,e),mul:(c,u)=>pe(c*u,e),pow:(c,u)=>J1(a,c,u),div:(c,u)=>pe(c*Ks(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Ks(c,e),sqrt:r.sqrt||(c=>(i||(i=Z1(e)),i(a,c))),toBytes:c=>n?dc(c,o):Kn(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?uc(c):vt(c)},invertBatch:c=>gu(a,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(a)}function vu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function xu(e){const t=vu(e);return t+Math.ceil(t/2)}function X1(e,t,n=!1){const r=e.length,s=vu(t),o=xu(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?uc(e):vt(e),a=pe(i,t-fe)+fe;return n?dc(a,s):Kn(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wi=BigInt(0),Ys=BigInt(1);function ds(e,t){const n=t.negate();return e?n:t}function Pu(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ls(e,t){Pu(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Nr(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Zi(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Ys);const u=t*r,d=u+Math.abs(a)-1,l=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:d,isZero:l,isNeg:f,isNegF:h,offsetF:u}}function Q1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function ep(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const fs=new WeakMap,Eu=new WeakMap;function hs(e){return Eu.get(e)||1}function tp(e,t){return{constTimeNegate:ds,hasPrecomputes(n){return hs(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Wi;)r&Ys&&(s=s.add(o)),o=o.double(),r>>=Ys;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=ls(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let d=1;d<o;d++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=ls(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:l,isNeg:f,isNegF:h,offsetF:p}=Zi(s,c,a);s=u,l?i=i.add(ds(h,r[p])):o=o.add(ds(f,r[d]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=ls(n,t);for(let a=0;a<i.windows&&s!==Wi;a++){const{nextN:c,offset:u,isZero:d,isNeg:l}=Zi(s,a,i);if(s=c,!d){const f=r[u];o=o.add(l?f.negate():f)}}return o},getPrecomputes(n,r,s){let o=fs.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&fs.set(r,s(o))),o},wNAFCached(n,r,s){const o=hs(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=hs(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Pu(r,t),Eu.set(n,r),fs.delete(n)}}}function np(e,t,n,r){Q1(n,e),ep(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Gl(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Nr(c),d=new Array(Number(u)+1).fill(i),l=Math.floor((t.BITS-1)/c)*c;let f=i;for(let h=l;h>=0;h-=c){d.fill(i);for(let b=0;b<o;b++){const m=r[b],v=Number(m>>BigInt(h)&u);d[v]=d[v].add(n[b])}let p=i;for(let b=d.length-1,m=i;b>0;b--)m=m.add(d[b]),p=p.add(m);if(f=f.add(p),h!==0)for(let b=0;b<c;b++)f=f.double()}return f}function $u(e){return Y1(e.Fp),Rr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ki(e){e.lowS!==void 0&&Mn("lowS",e.lowS),e.prehash!==void 0&&Mn("prehash",e.prehash)}function rp(e){const t=$u(e);Rr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class sp extends Error{constructor(t=""){super(t)}}const Ze={Err:sp,_tlv:{encode:(e,t)=>{const{Err:n}=Ze;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=ar(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?ar(s.length/2|128):"";return ar(e)+o+s+t},decode(e,t){const{Err:n}=Ze;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ze;if(e<Ke)throw new t("integer: negative integers are not allowed");let n=ar(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ze;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return vt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ze,s=Ae("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ze,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function ps(e,t){return zn(Kn(e,t))}const Ke=BigInt(0),oe=BigInt(1);BigInt(2);const bs=BigInt(3),op=BigInt(4);function ip(e){const t=rp(e),{Fp:n}=t,r=Yo(t.n,t.nBitLength),s=t.toBytes||((g,w,y)=>{const P=w.toAffine();return vr(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),o=t.fromBytes||(g=>{const w=g.subarray(1),y=n.fromBytes(w.subarray(0,n.BYTES)),P=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:y,y:P}});function i(g){const{a:w,b:y}=t,P=n.sqr(g),x=n.mul(P,g);return n.add(n.add(x,n.mul(g,w)),y)}function a(g,w){const y=n.sqr(w),P=i(g);return n.eql(y,P)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,bs),op),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(g){return Po(g,oe,t.n)}function l(g){const{allowedPrivateKeyLengths:w,nByteLength:y,wrapPrivateKey:P,n:x}=t;if(w&&typeof g!="bigint"){if(Zn(g)&&(g=zn(g)),typeof g!="string"||!w.includes(g.length))throw new Error("invalid private key");g=g.padStart(y*2,"0")}let $;try{$=typeof g=="bigint"?g:vt(Ae("private key",g,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof g)}return P&&($=pe($,x)),Dt("private key",$,oe,x),$}function f(g){if(!(g instanceof b))throw new Error("ProjectivePoint expected")}const h=Ci((g,w)=>{const{px:y,py:P,pz:x}=g;if(n.eql(x,n.ONE))return{x:y,y:P};const $=g.is0();w==null&&(w=$?n.ONE:n.inv(x));const I=n.mul(y,w),M=n.mul(P,w),T=n.mul(x,w);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:I,y:M}}),p=Ci(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:w,y}=g.toAffine();if(!n.isValid(w)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!a(w,y))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(w,y,P){if(w==null||!n.isValid(w))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=w,this.py=y,this.pz=P,Object.freeze(this)}static fromAffine(w){const{x:y,y:P}=w||{};if(!w||!n.isValid(y)||!n.isValid(P))throw new Error("invalid affine point");if(w instanceof b)throw new Error("projective point not allowed");const x=$=>n.eql($,n.ZERO);return x(y)&&x(P)?b.ZERO:new b(y,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const y=gu(n,w.map(P=>P.pz));return w.map((P,x)=>P.toAffine(y[x])).map(b.fromAffine)}static fromHex(w){const y=b.fromAffine(o(Ae("pointHex",w)));return y.assertValidity(),y}static fromPrivateKey(w){return b.BASE.multiply(l(w))}static msm(w,y){return np(b,r,w,y)}_setWindowSize(w){E.setWindowSize(this,w)}assertValidity(){p(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){f(w);const{px:y,py:P,pz:x}=this,{px:$,py:I,pz:M}=w,T=n.eql(n.mul(y,M),n.mul($,x)),O=n.eql(n.mul(P,M),n.mul(I,x));return T&&O}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:y}=t,P=n.mul(y,bs),{px:x,py:$,pz:I}=this;let M=n.ZERO,T=n.ZERO,O=n.ZERO,_=n.mul(x,x),H=n.mul($,$),S=n.mul(I,I),R=n.mul(x,$);return R=n.add(R,R),O=n.mul(x,I),O=n.add(O,O),M=n.mul(w,O),T=n.mul(P,S),T=n.add(M,T),M=n.sub(H,T),T=n.add(H,T),T=n.mul(M,T),M=n.mul(R,M),O=n.mul(P,O),S=n.mul(w,S),R=n.sub(_,S),R=n.mul(w,R),R=n.add(R,O),O=n.add(_,_),_=n.add(O,_),_=n.add(_,S),_=n.mul(_,R),T=n.add(T,_),S=n.mul($,I),S=n.add(S,S),_=n.mul(S,R),M=n.sub(M,_),O=n.mul(S,H),O=n.add(O,O),O=n.add(O,O),new b(M,T,O)}add(w){f(w);const{px:y,py:P,pz:x}=this,{px:$,py:I,pz:M}=w;let T=n.ZERO,O=n.ZERO,_=n.ZERO;const H=t.a,S=n.mul(t.b,bs);let R=n.mul(y,$),z=n.mul(P,I),k=n.mul(x,M),L=n.add(y,P),U=n.add($,I);L=n.mul(L,U),U=n.add(R,z),L=n.sub(L,U),U=n.add(y,x);let B=n.add($,M);return U=n.mul(U,B),B=n.add(R,k),U=n.sub(U,B),B=n.add(P,x),T=n.add(I,M),B=n.mul(B,T),T=n.add(z,k),B=n.sub(B,T),_=n.mul(H,U),T=n.mul(S,k),_=n.add(T,_),T=n.sub(z,_),_=n.add(z,_),O=n.mul(T,_),z=n.add(R,R),z=n.add(z,R),k=n.mul(H,k),U=n.mul(S,U),z=n.add(z,k),k=n.sub(R,k),k=n.mul(H,k),U=n.add(U,k),R=n.mul(z,U),O=n.add(O,R),R=n.mul(B,U),T=n.mul(L,T),T=n.sub(T,R),R=n.mul(L,z),_=n.mul(B,_),_=n.add(_,R),new b(T,O,_)}subtract(w){return this.add(w.negate())}is0(){return this.equals(b.ZERO)}wNAF(w){return E.wNAFCached(this,w,b.normalizeZ)}multiplyUnsafe(w){const{endo:y,n:P}=t;Dt("scalar",w,Ke,P);const x=b.ZERO;if(w===Ke)return x;if(this.is0()||w===oe)return this;if(!y||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,w,b.normalizeZ);let{k1neg:$,k1:I,k2neg:M,k2:T}=y.splitScalar(w),O=x,_=x,H=this;for(;I>Ke||T>Ke;)I&oe&&(O=O.add(H)),T&oe&&(_=_.add(H)),H=H.double(),I>>=oe,T>>=oe;return $&&(O=O.negate()),M&&(_=_.negate()),_=new b(n.mul(_.px,y.beta),_.py,_.pz),O.add(_)}multiply(w){const{endo:y,n:P}=t;Dt("scalar",w,oe,P);let x,$;if(y){const{k1neg:I,k1:M,k2neg:T,k2:O}=y.splitScalar(w);let{p:_,f:H}=this.wNAF(M),{p:S,f:R}=this.wNAF(O);_=E.constTimeNegate(I,_),S=E.constTimeNegate(T,S),S=new b(n.mul(S.px,y.beta),S.py,S.pz),x=_.add(S),$=H.add(R)}else{const{p:I,f:M}=this.wNAF(w);x=I,$=M}return b.normalizeZ([x,$])[0]}multiplyAndAddUnsafe(w,y,P){const x=b.BASE,$=(M,T)=>T===Ke||T===oe||!M.equals(x)?M.multiplyUnsafe(T):M.multiply(T),I=$(this,y).add($(w,P));return I.is0()?void 0:I}toAffine(w){return h(this,w)}isTorsionFree(){const{h:w,isTorsionFree:y}=t;if(w===oe)return!0;if(y)return y(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:y}=t;return w===oe?this:y?y(b,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return Mn("isCompressed",w),this.assertValidity(),s(b,this,w)}toHex(w=!0){return Mn("isCompressed",w),zn(this.toRawBytes(w))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:v}=t,E=tp(b,m?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:d}}function ap(e){const t=$u(e);return Rr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function cp(e){const t=ap(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(S){return pe(S,r)}function u(S){return Ks(S,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:h}=ip({...t,toBytes(S,R,z){const k=R.toAffine(),L=n.toBytes(k.x),U=vr;return Mn("isCompressed",z),z?U(Uint8Array.from([R.hasEvenY()?2:3]),L):U(Uint8Array.from([4]),L,n.toBytes(k.y))},fromBytes(S){const R=S.length,z=S[0],k=S.subarray(1);if(R===i&&(z===2||z===3)){const L=vt(k);if(!Po(L,oe,n.ORDER))throw new Error("Point is not on curve");const U=f(L);let B;try{B=n.sqrt(U)}catch(Y){const J=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+J)}const N=(B&oe)===oe;return(z&1)===1!==N&&(B=n.neg(B)),{x:L,y:B}}else if(R===a&&z===4){const L=n.fromBytes(k.subarray(0,n.BYTES)),U=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:L,y:U}}else{const L=i,U=a;throw new Error("invalid Point, expected length of "+L+", or uncompressed "+U+", got "+R)}}});function p(S){const R=r>>oe;return S>R}function b(S){return p(S)?c(-S):S}const m=(S,R,z)=>vt(S.slice(R,z));class v{constructor(R,z,k){Dt("r",R,oe,r),Dt("s",z,oe,r),this.r=R,this.s=z,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(R){const z=s;return R=Ae("compactSignature",R,z*2),new v(m(R,0,z),m(R,z,2*z))}static fromDER(R){const{r:z,s:k}=Ze.toSig(Ae("DER",R));return new v(z,k)}assertValidity(){}addRecoveryBit(R){return new v(this.r,this.s,R)}recoverPublicKey(R){const{r:z,s:k,recovery:L}=this,U=x(Ae("msgHash",R));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const B=L===2||L===3?z+t.n:z;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const N=(L&1)===0?"02":"03",K=d.fromHex(N+ps(B,n.BYTES)),Y=u(B),J=c(-U*Y),Q=c(k*Y),ce=d.BASE.multiplyAndAddUnsafe(K,J,Q);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return wr(this.toDERHex())}toDERHex(){return Ze.hexFromSig(this)}toCompactRawBytes(){return wr(this.toCompactHex())}toCompactHex(){const R=s;return ps(this.r,R)+ps(this.s,R)}}const E={isValidPrivateKey(S){try{return l(S),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const S=xu(t.n);return X1(t.randomBytes(S),t.n)},precompute(S=8,R=d.BASE){return R._setWindowSize(S),R.multiply(BigInt(3)),R}};function g(S,R=!0){return d.fromPrivateKey(S).toRawBytes(R)}function w(S){if(typeof S=="bigint")return!1;if(S instanceof d)return!0;const z=Ae("key",S).length,k=n.BYTES,L=k+1,U=2*k+1;if(!(t.allowedPrivateKeyLengths||s===L))return z===L||z===U}function y(S,R,z=!0){if(w(S)===!0)throw new Error("first arg must be private key");if(w(R)===!1)throw new Error("second arg must be public key");return d.fromHex(R).multiply(l(S)).toRawBytes(z)}const P=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const R=vt(S),z=S.length*8-o;return z>0?R>>BigInt(z):R},x=t.bits2int_modN||function(S){return c(P(S))},$=Nr(o);function I(S){return Dt("num < 2^"+o,S,Ke,$),Kn(S,s)}function M(S,R,z=T){if(["recovered","canonical"].some($e=>$e in z))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:L}=t;let{lowS:U,prehash:B,extraEntropy:N}=z;U==null&&(U=!0),S=Ae("msgHash",S),Ki(z),B&&(S=Ae("prehashed msgHash",k(S)));const K=x(S),Y=l(R),J=[I(Y),I(K)];if(N!=null&&N!==!1){const $e=N===!0?L(n.BYTES):N;J.push(Ae("extraEntropy",$e))}const Q=vr(...J),ce=K;function V($e){const Ge=P($e);if(!h(Ge))return;const Kr=u(Ge),cn=d.BASE.multiply(Ge).toAffine(),mt=c(cn.x);if(mt===Ke)return;const un=c(Kr*c(ce+mt*Y));if(un===Ke)return;let dn=(cn.x===mt?0:2)|Number(cn.y&oe),Nt=un;return U&&p(un)&&(Nt=b(un),dn^=1),new v(mt,Nt,dn)}return{seed:Q,k2sig:V}}const T={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function _(S,R,z=T){const{seed:k,k2sig:L}=M(S,R,z),U=t;return ql(U.hash.outputLen,U.nByteLength,U.hmac)(k,L)}d.BASE._setWindowSize(8);function H(S,R,z,k=O){var dn;const L=S;R=Ae("msgHash",R),z=Ae("publicKey",z);const{lowS:U,prehash:B,format:N}=k;if(Ki(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(N!==void 0&&N!=="compact"&&N!=="der")throw new Error("format must be compact or der");const K=typeof L=="string"||Zn(L),Y=!K&&!N&&typeof L=="object"&&L!==null&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!K&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,Q;try{if(Y&&(J=new v(L.r,L.s)),K){try{N!=="compact"&&(J=v.fromDER(L))}catch(Nt){if(!(Nt instanceof Ze.Err))throw Nt}!J&&N!=="der"&&(J=v.fromCompact(L))}Q=d.fromHex(z)}catch{return!1}if(!J||U&&J.hasHighS())return!1;B&&(R=t.hash(R));const{r:ce,s:V}=J,$e=x(R),Ge=u(V),Kr=c($e*Ge),cn=c(ce*Ge),mt=(dn=d.BASE.multiplyAndAddUnsafe(Q,Kr,cn))==null?void 0:dn.toAffine();return mt?c(mt.x)===ce:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:y,sign:_,verify:H,ProjectivePoint:d,Signature:v,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function up(e){return{hash:e,hmac:(t,...n)=>au(e,t,G0(...n)),randomBytes:q0}}function dp(e,t){const n=r=>cp({...e,...up(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Iu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yi=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lp=BigInt(0),fp=BigInt(1),Js=BigInt(2),Ji=(e,t)=>(e+t/Js)/t;function hp(e){const t=Iu,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=Ie(d,n,t)*d%t,f=Ie(l,n,t)*d%t,h=Ie(f,Js,t)*u%t,p=Ie(h,s,t)*h%t,b=Ie(p,o,t)*p%t,m=Ie(b,a,t)*b%t,v=Ie(m,c,t)*m%t,E=Ie(v,a,t)*b%t,g=Ie(E,n,t)*d%t,w=Ie(g,i,t)*p%t,y=Ie(w,r,t)*u%t,P=Ie(y,Js,t);if(!Xs.eql(Xs.sqr(P),e))throw new Error("Cannot find square root");return P}const Xs=Yo(Iu,void 0,void 0,{sqrt:hp}),Au=dp({a:lp,b:BigInt(7),Fp:Xs,n:Yi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Yi,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-fp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Ji(o*e,t),c=Ji(-r*e,t);let u=pe(e-a*n-c*s,t),d=pe(-a*r-c*o,t);const l=u>i,f=d>i;if(l&&(u=t-u),f&&(d=t-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:f,k2:d}}}},Uc),pp=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Au},Symbol.toStringTag,{value:"Module"}));function Su(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new ms({signature:e});if(typeof e.s>"u")throw new ms({signature:e});if(n&&typeof e.yParity>"u")throw new ms({signature:e});if(e.r<0n||e.r>Gi)throw new xp({value:e.r});if(e.s<0n||e.s>Gi)throw new Pp({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Xo({value:e.yParity})}function bp(e){return Cu(_e(e))}function Cu(e){if(e.length!==130&&e.length!==132)throw new vp({signature:e});const t=BigInt(Le(e,0,32)),n=BigInt(Le(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Jo(s)}catch{throw new Xo({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function mp(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return yp(e)}function yp(e){const t=typeof e=="string"?Cu(e):e instanceof Uint8Array?bp(e):typeof e.r=="string"?wp(e):e.v?gp(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Su(t),t}function gp(e){return{r:e.r,s:e.s,yParity:Jo(e.v)}}function wp(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Jo(n)),typeof r!="number")throw new Xo({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Jo(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Ep({value:e})}class vp extends W{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ee(mf(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ms extends W{constructor({signature:t}){super(`Signature \`${pc(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class xp extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Pp extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Xo extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Ep extends W{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function $p(e,t={}){return typeof e.chainId=="string"?Ip(e):{...e,...t.signature}}function Ip(e){const{address:t,chainId:n,nonce:r}=e,s=mp(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Ap="0x8010801080108010801080108010801080108010801080108010801080108010",Sp=lu("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Bu(e){if(typeof e=="string"){if(Le(e,-32)!==Ap)throw new Tp(e)}else Su(e.authorization)}function Cp(e){Bu(e);const t=wc(Le(e,-64,-32)),n=Le(e,-t-64,-64),r=Le(e,0,-t-64),[s,o,i]=j1(Sp,n);return{authorization:$p({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function Bp(e){try{return Bu(e),!0}catch{return!1}}let Tp=class extends W{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function kp(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function _p(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ce(e.nonce):void 0,storageProof:e.storageProof?kp(e.storageProof):void 0}}async function Np(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?F(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return _p(a)}async function Rp(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?F(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Qo(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){var f,h,p;const c=r||"latest",u=n!==void 0?F(n):void 0;let d=null;if(s?d=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,F(o)]},{dedupe:!0}):typeof o=="number"?d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,F(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(d=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,F(a)]},{dedupe:!0})),!d)throw new tc({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(((p=(h=(f=e.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)==null?void 0:p.format)||er)(d,"getTransaction")}async function Op(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([j(e,nr,"getBlockNumber")({}),t?j(e,Qo,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function pr(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new nc({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||qo)(n,"getTransactionReceipt")}async function Fp(e,t){var E;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:d=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof((E=e.batch)==null?void 0:E.multicall)=="object"?e.batch.multicall:{},f=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return sn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,b=0;for(let g=0;g<u.length;g++){const{abi:w,address:y,args:P,functionName:x}=u[g];try{const $=we({abi:w,args:P,functionName:x});b+=($.length-2)/2,d>0&&b>d&&h[p].length>0&&(p++,b=($.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:$,target:y}]}catch($){const I=At($,{abi:w,address:y,args:P,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!s)throw I;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:y}]}}const m=await Promise.allSettled(h.map(g=>j(e,Ne,"readContract")({...f===null?{code:$o}:{address:f},abi:qt,account:n,args:[g],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),v=[];for(let g=0;g<m.length;g++){const w=m[g];if(w.status==="rejected"){if(!s)throw w.reason;for(let P=0;P<h[g].length;P++)v.push({status:"failure",error:w.reason,result:void 0});continue}const y=w.value;for(let P=0;P<y.length;P++){const{returnData:x,success:$}=y[P],{callData:I}=h[g][P],{abi:M,address:T,functionName:O,args:_}=u[v.length];try{if(I==="0x")throw new Gn;if(!$)throw new kr({data:x});const H=ft({abi:M,args:_,data:x,functionName:O});v.push(s?{result:H,status:"success"}:H)}catch(H){const S=At(H,{abi:M,address:T,args:_,docsPath:"/docs/contract/multicall",functionName:O});if(!s)throw S;v.push({error:S,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new C("multicall results mismatch");return v}async function Qs(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const f of s){const h=f.blockOverrides?Pc(f.blockOverrides):void 0,p=f.calls.map(m=>{const v=m,E=v.account?X(v.account):void 0,g=v.abi?we(v):v.data,w={...v,account:E,data:v.dataSuffix?ue([g||"0x",v.dataSuffix]):g,from:v.from??(E==null?void 0:E.address)};return rt(w),ht(w)}),b=f.stateOverrides?So(f.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:b})}const d=(typeof n=="bigint"?F(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},d]})).map((f,h)=>({...ko(f),calls:f.calls.map((p,b)=>{var M,T;const{abi:m,args:v,functionName:E,to:g}=s[h].calls[b],w=((M=p.error)==null?void 0:M.data)??p.returnData,y=BigInt(p.gasUsed),P=(T=p.logs)==null?void 0:T.map(O=>et(O)),x=p.status==="0x1"?"success":"failure",$=m&&x==="success"&&w!=="0x"?ft({abi:m,data:w,functionName:E}):null,I=(()=>{if(x==="success")return;let O;if(w==="0x"?O=new Gn:w&&(O=new kr({data:w})),!!O)return At(O,{abi:m??[],address:g??"0x",args:v,functionName:E??"<unknown>"})})();return{data:w,gasUsed:y,logs:P,status:x,...x==="success"?{result:$}:{error:I}}})}))}catch(c){const u=c,d=Mr(u,{});throw d instanceof Jn?u:d}}function eo(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new W("Unable to normalize signature.");return s}function to(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Vs(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>to(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>to(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Tu(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Tu(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Vs(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Vs(n[r],{strict:!1}):!1)return i}}function ku(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?vi(e):e;return{...r,...n?{hash:jt(r)}:{}}}function Hr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=yf(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?_u(u)===Le(t,0,4):u.type==="event"?jt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Pr({name:t});if(i.length===1)return{...i[0],...s?{hash:jt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:jt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,f)=>{const h="inputs"in u&&u.inputs[f];return h?to(l,h):!1})){if(a&&"inputs"in a&&a.inputs){const l=Tu(u.inputs,a.inputs,r);if(l)throw new zp({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...d]=i;return{...u,overloads:d}})();if(!c)throw new Pr({name:t});return{...c,...s?{hash:jt(c)}:{}}}function _u(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Hr(n,r)}return e[0]})();return Le(jt(t),0,4)}function Mp(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Hr(r,s)}return e[0]})(),n=typeof t=="string"?t:gr(t);return eo(n)}function jt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Hr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:cu(Eo(Mp(t)))}class zp extends W{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${eo(gr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${eo(gr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Pr extends W{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Lp(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,a]=e;return[Up(i),a]}return e})(),{bytecode:r,args:s}=n;return ke(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?Zo(t.inputs,s):"0x")}function jp(e){return ku(e)}function Up(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Pr({name:"constructor"});return t}function Dp(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,d,l]=e;return[Xi(u,d,{args:l}),l]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Xi([t,...r],t.name,{args:n}):t,o=Gp(s),i=n.length>0?Zo(s.inputs,n):void 0;return i?ke(o,i):o}function Ot(e,t={}){return ku(e,t)}function Xi(e,t,n){const r=Hr(e,t,n);if(r.type!=="function")throw new Pr({name:t,type:"function"});return r}function Gp(e){return _u(e)}const qp="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Me="0x0000000000000000000000000000000000000000",Hp="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Vp(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?X(t.account):void 0;if(i&&!u)throw new C("`account` is required when `traceAssetChanges` is true");const d=u?Lp(jp("constructor(bytes, bytes)"),{bytecode:Ec,args:[Hp,Dp(Ot("function getBalance(address)"),[u.address])]}):void 0,l=i?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:L}=await Tc(e,{account:u.address,...k,data:k.abi?we(k):k.data});return L.map(({address:U,storageKeys:B})=>B.length>0?U:null)})).then(k=>k.flat().filter(Boolean)):[],f=await Qs(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:o},{calls:l.map((k,L)=>({abi:[Ot("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Me,nonce:L})),stateOverrides:[{address:Me,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:d}]},{calls:l.map((k,L)=>({abi:[Ot("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Me,nonce:L})),stateOverrides:[{address:Me,nonce:0}]},{calls:l.map((k,L)=>({to:k,abi:[Ot("function decimals() returns (uint256)")],functionName:"decimals",from:Me,nonce:L})),stateOverrides:[{address:Me,nonce:0}]},{calls:l.map((k,L)=>({to:k,abi:[Ot("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Me,nonce:L})),stateOverrides:[{address:Me,nonce:0}]},{calls:l.map((k,L)=>({to:k,abi:[Ot("function symbol() returns (string)")],functionName:"symbol",from:Me,nonce:L})),stateOverrides:[{address:Me,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?f[2]:f[0],[p,b,,m,v,E,g,w]=i?f:[],{calls:y,...P}=h,x=y.slice(0,-1)??[],$=(p==null?void 0:p.calls)??[],I=(b==null?void 0:b.calls)??[],M=[...$,...I].map(k=>k.status==="success"?ie(k.data):null),T=(m==null?void 0:m.calls)??[],O=(v==null?void 0:v.calls)??[],_=[...T,...O].map(k=>k.status==="success"?ie(k.data):null),H=((E==null?void 0:E.calls)??[]).map(k=>k.status==="success"?k.result:null),S=((w==null?void 0:w.calls)??[]).map(k=>k.status==="success"?k.result:null),R=((g==null?void 0:g.calls)??[]).map(k=>k.status==="success"?k.result:null),z=[];for(const[k,L]of _.entries()){const U=M[k];if(typeof L!="bigint"||typeof U!="bigint")continue;const B=H[k-1],N=S[k-1],K=R[k-1],Y=k===0?{address:qp,decimals:18,symbol:"ETH"}:{address:l[k-1],decimals:K||B?Number(B??1):void 0,symbol:N??void 0};z.some(J=>J.token.address===Y.address)||z.push({token:Y,value:{pre:U,post:L,diff:L-U}})}return{assetChanges:z,block:P,results:x}}async function Wp(e,t){var d;const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:(d=e.dataSuffix)==null?void 0:d.value,...a}=t,c=a.account?X(a.account):e.account,u=we({abi:n,args:s,functionName:o});try{const{data:l}=await j(e,Xn,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),f=ft({abi:n,args:s,functionName:o,data:l||"0x"}),h=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:f,request:{abi:h,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(l){throw At(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}async function Vr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Nu="0x6492649264926492649264926492649264926492649264926492649264926492";function Zp(e){if(Le(e,-32)!==Nu)throw new Jp(e)}function Kp(e){const{data:t,signature:n,to:r}=e;return ke(Zo(lu("address, bytes, bytes"),[r,t,n]),Nu)}function Yp(e){try{return Zp(e),!0}catch{return!1}}class Jp extends W{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Xp({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Au.Signature(ie(e),ie(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Ue(i)}async function Wr(e,t){var c,u,d,l;const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??((u=(c=r==null?void 0:r.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((l=(d=r==null?void 0:r.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t;if(r!=null&&r.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const f=t.signature;return je(f)?f:typeof f=="object"&&"r"in f&&"s"in f?Xp(f):ne(f)})();try{return Bp(a)?await Qp(e,{...t,multicallAddress:i,signature:a}):await eb(e,{...t,verifierAddress:o,signature:a})}catch(f){try{if(rr(at(n),await Rc({hash:s,signature:a})))return!0}catch{}if(f instanceof Tt)return!1;throw f}}async function Qp(e,t){var m;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:d}=Cp(t.signature);if(await qs(e,{address:n,blockNumber:r,blockTag:s})===Oe(["0xef0100",a.address]))return await tb(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:F(a.r,{size:32}),s:F(a.s,{size:32}),yParity:a.yParity};if(!await Kh({address:n,authorization:f}))throw new Tt;const p=await j(e,Ne,"readContract")({...i?{address:i}:{code:$o},authorizationList:[f],abi:qt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:we({abi:ba,functionName:"isValidSignature",args:[o,u]})}]]}),b=(m=p[p.length-1])==null?void 0:m.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new Tt}async function eb(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||Yp(i)?i:Kp({data:s,signature:i,to:r}))(),d=a?{to:a,data:we({abi:ii,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Fr({abi:ii,args:[n,o,u],bytecode:Ef}),...c},{data:l}=await j(e,Xn,"call")(d).catch(f=>{throw f instanceof sc?new Tt:f});if($0(l??"0x0"))return!0;throw new Tt}async function tb(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await j(e,Ne,"readContract")({address:n,abi:ba,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof oc?new Tt:c})).startsWith("0x1626ba7e"))return!0;throw new Tt}class Tt extends Error{}async function nb(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Qc(n);return j(e,Wr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function rb(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...d}=t,l=d1({message:i,primaryType:a,types:c,domain:u});return j(e,Wr,"verifyHash")({address:n,factory:r,factoryData:s,hash:l,signature:o,...d})}const ys=new Map,Qi=new Map;let sb=0;function tt(e,t,n){const r=++sb,s=()=>ys.get(e)||[],o=()=>{const d=s();ys.set(e,d.filter(l=>l.id!==r))},i=()=>{const d=s();if(!d.some(f=>f.id===r))return;const l=Qi.get(e);if(d.length===1&&l){const f=l();f instanceof Promise&&f.catch(()=>{})}o()},a=s();if(ys.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const d in t)c[d]=((...l)=>{var h,p;const f=s();if(f.length!==0)for(const b of f)(p=(h=b.fns)[d])==null||p.call(h,...l)});const u=n(c);return typeof u=="function"&&Qi.set(e,u),i}function an(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await Hs(c);const u=async()=>{s&&(await e({unpoll:o}),await Hs(r),u())};u()})(),o}function Ru(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=re(["watchBlockNumber",e.uid,t,n,i]);return tt(l,{onBlockNumber:r,onError:s},f=>an(async()=>{var h;try{const p=await j(e,nr,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)f.onBlockNumber(b,c),c=b}(c===void 0||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=re(["watchBlockNumber",e.uid,t,n]);return tt(l,{onBlockNumber:r,onError:s},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:m}=await b.subscribe({params:["newHeads"],onData(v){var g;if(!h)return;const E=ie((g=v.result)==null?void 0:g.number);f.onBlockNumber(E,c),c=E},onError(v){var E;(E=f.onError)==null||E.call(f,v)}});p=m,h||p()}catch(b){s==null||s(b)}})(),()=>p()})})()}async function Ou(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=t,u=re(["waitForTransactionReceipt",e.uid,s]),d=(()=>{var y;return t.pollingInterval?t.pollingInterval:(y=e.chain)!=null&&y.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,f,h,p=!1,b,m;const{promise:v,resolve:E,reject:g}=Ao(),w=c?setTimeout(()=>{m==null||m(),b==null||b(),g(new Bl({hash:s}))},c):void 0;return b=tt(u,{onReplaced:o,resolve:E,reject:g},async y=>{if(h=await j(e,pr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(w),y.resolve(h),b==null||b();return}m=j(e,Ru,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(P){const x=I=>{clearTimeout(w),m==null||m(),I(),b==null||b()};let $=P;if(!p)try{if(h){if(r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;x(()=>y.resolve(h));return}if(n&&!l&&(p=!0,await jn(async()=>{l=await j(e,Qo,"getTransaction")({hash:s}),l.blockNumber&&($=l.blockNumber)},{delay:a,retryCount:i}),p=!1),h=await j(e,pr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;x(()=>y.resolve(h))}catch(I){if(I instanceof tc||I instanceof nc){if(!l){p=!1;return}try{f=l,p=!0;const M=await jn(()=>j(e,Be,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:_})=>_ instanceof zc});p=!1;const T=M.transactions.find(({from:_,nonce:H})=>_===f.from&&H===f.nonce);if(!T||(h=await j(e,pr,"getTransactionReceipt")({hash:T.hash}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r)))return;let O="replaced";T.to===f.to&&T.value===f.value&&T.input===f.input?O="repriced":T.from===T.to&&T.value===0n&&(O="cancelled"),x(()=>{var _;(_=y.onReplaced)==null||_.call(y,{reason:O,replacedTransaction:f,transaction:T,transactionReceipt:h}),y.resolve(h)})}catch(M){x(()=>y.reject(M))}}else x(()=>y.reject(I))}}})}),v}function ob(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let l;return u?(()=>{const p=re(["watchBlocks",e.uid,t,n,r,d,c]);return tt(p,{onBlock:s,onError:o},b=>an(async()=>{var m;try{const v=await j(e,Be,"getBlock")({blockTag:t,includeTransactions:d});if(v.number!==null&&(l==null?void 0:l.number)!=null){if(v.number===l.number)return;if(v.number-l.number>1&&n)for(let E=(l==null?void 0:l.number)+1n;E<v.number;E++){const g=await j(e,Be,"getBlock")({blockNumber:E,includeTransactions:d});b.onBlock(g,l),l=g}}((l==null?void 0:l.number)==null||t==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>l.number)&&(b.onBlock(v,l),l=v)}catch(v){(m=b.onError)==null||m.call(b,v)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=!0,m=()=>p=!1;return(async()=>{try{r&&j(e,Be,"getBlock")({blockTag:t,includeTransactions:d}).then(g=>{p&&b&&(s(g,void 0),b=!1)}).catch(o);const v=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],async onData(g){var y;if(!p)return;const w=await j(e,Be,"getBlock")({blockNumber:(y=g.result)==null?void 0:y.number,includeTransactions:d}).catch(()=>{});p&&(s(w,l),b=!1,l=w)},onError(g){o==null||o(g)}});m=E,p||m()}catch(v){o==null||o(v)}})(),()=>m()})()}function ib(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const m=f??!1,v=re(["watchContractEvent",r,s,o,e.uid,i,l,m,a]);return tt(v,{onLogs:u,onError:c},E=>{let g;a!==void 0&&(g=a-1n);let w,y=!1;const P=an(async()=>{var x;if(!y){try{w=await j(e,kc,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:m,fromBlock:a})}catch{}y=!0;return}try{let $;if(w)$=await j(e,Dr,"getFilterChanges")({filter:w});else{const I=await j(e,nr,"getBlockNumber")({});g&&g<I?$=await j(e,Kc,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:g+1n,toBlock:I,strict:m}):$=[],g=I}if($.length===0)return;if(o)E.onLogs($);else for(const I of $)E.onLogs([I])}catch($){w&&$ instanceof dt&&(y=!1),(x=E.onError)==null||x.call(E,$)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await j(e,Vr,"uninstallFilter")({filter:w}),P()}})})():(()=>{const m=f??!1,v=re(["watchContractEvent",r,s,o,e.uid,i,l,m]);let E=!0,g=()=>E=!1;return tt(v,{onLogs:u,onError:c},w=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),P=i?Qn({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await y.subscribe({params:["logs",{address:r,topics:P}],onData($){var M;if(!E)return;const I=$.result;try{const{eventName:T,args:O}=xr({abi:n,data:I.data,topics:I.topics,strict:f}),_=et(I,{args:O,eventName:T});w.onLogs([_])}catch(T){let O,_;if(T instanceof yr||T instanceof io){if(f)return;O=T.abiItem.name,_=(M=T.abiItem.inputs)==null?void 0:M.some(S=>!("name"in S&&S.name))}const H=et(I,{args:_?[]:{},eventName:O});w.onLogs([H])}},onError($){var I;(I=w.onError)==null||I.call(w,$)}});g=x,E||g()}catch(y){c==null||c(y)}})(),()=>g()))})()}function ab(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=l??!1;return f?(()=>{const m=re(["watchEvent",t,n,r,e.uid,s,d,i]);return tt(m,{onLogs:c,onError:a},v=>{let E;i!==void 0&&(E=i-1n);let g,w=!1;const y=an(async()=>{var P;if(!w){try{g=await j(e,_c,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}w=!0;return}try{let x;if(g)x=await j(e,Dr,"getFilterChanges")({filter:g});else{const $=await j(e,nr,"getBlockNumber")({});E&&E!==$?x=await j(e,Uo,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:E+1n,toBlock:$}):x=[],E=$}if(x.length===0)return;if(r)v.onLogs(x);else for(const $ of x)v.onLogs([$])}catch(x){g&&x instanceof dt&&(w=!1),(P=v.onError)==null||P.call(v,x)}},{emitOnBegin:!0,interval:d});return async()=>{g&&await j(e,Vr,"uninstallFilter")({filter:g}),y()}})})():(()=>{let m=!0,v=()=>m=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),g=o??(s?[s]:void 0);let w=[];g&&(w=[g.flatMap(x=>Qn({abi:[x],eventName:x.name,args:n}))],s&&(w=w[0]));const{unsubscribe:y}=await E.subscribe({params:["logs",{address:t,topics:w}],onData(P){var $;if(!m)return;const x=P.result;try{const{eventName:I,args:M}=xr({abi:g??[],data:x.data,topics:x.topics,strict:h}),T=et(x,{args:M,eventName:I});c([T])}catch(I){let M,T;if(I instanceof yr||I instanceof io){if(l)return;M=I.abiItem.name,T=($=I.abiItem.inputs)==null?void 0:$.some(_=>!("name"in _&&_.name))}const O=et(x,{args:T?[]:{},eventName:M});c([O])}},onError(P){a==null||a(P)}});v=y,m||v()}catch(E){a==null||a(E)}})(),()=>v()})()}function cb(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=re(["watchPendingTransactions",e.uid,t,o]);return tt(u,{onTransactions:r,onError:n},d=>{let l;const f=an(async()=>{var h;try{if(!l)try{l=await j(e,Nc,"createPendingTransactionFilter")({});return}catch(b){throw f(),b}const p=await j(e,Dr,"getFilterChanges")({filter:l});if(p.length===0)return;if(t)d.onTransactions(p);else for(const b of p)d.onTransactions([b])}catch(p){(h=d.onError)==null||h.call(d,p)}},{emitOnBegin:!0,interval:o});return async()=>{l&&await j(e,Vr,"uninstallFilter")({filter:l}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});d=l,u||d()}catch(l){n==null||n(l)}})(),()=>d()})()}async function ub(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:F(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}class bt extends C{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class xt extends C{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function ei(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const gs=new nn(128);async function Zr(e,t){var w,y,P,x,$;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(w=e.dataSuffix)==null?void 0:w.value,gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,type:m,value:v,...E}=t;if(typeof n>"u")throw new bt({docsPath:"/docs/actions/wallet/sendTransaction"});const g=n?X(n):null;try{rt(t);const I=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await jr({authorization:i[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`.")})})();if((g==null?void 0:g.type)==="json-rpc"||g===null){let M;s!==null&&(M=await j(e,pt,"getChainId")({}),r&&Go({currentChainId:M,chain:s}));const T=(x=(P=(y=e.chain)==null?void 0:y.formatters)==null?void 0:P.transactionRequest)==null?void 0:x.format,_=(T||ht)({...on(E,{format:T}),accessList:o,account:g,authorizationList:i,blobs:a,chainId:M,data:c&&ue([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:I,type:m,value:v},"sendTransaction"),H=gs.get(e.uid),S=H?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:S,params:[_]},{retryCount:0})}catch(R){if(H===!1)throw R;const z=R;if(z.name==="InvalidInputRpcError"||z.name==="InvalidParamsRpcError"||z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[_]},{retryCount:0}).then(k=>(gs.set(e.uid,!0),k)).catch(k=>{const L=k;throw L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"?(gs.set(e.uid,!1),z):L});throw z}}if((g==null?void 0:g.type)==="local"){const M=await j(e,tr,"prepareTransactionRequest")({account:g,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&ue([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:g.nonceManager,parameters:[...zo,"sidecars"],type:m,value:v,...E,to:I}),T=($=s==null?void 0:s.serializers)==null?void 0:$.transaction,O=await g.signTransaction(M,{serializer:T});return await j(e,ei,"sendRawTransaction")({serializedTransaction:O})}throw(g==null?void 0:g.type)==="smart"?new xt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new xt({docsPath:"/docs/actions/wallet/sendTransaction",type:g==null?void 0:g.type})}catch(I){throw I instanceof xt?I:Ur(I,{...t,account:g,chain:t.chain||void 0})}}function db(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Fr({abi:n,args:r,bytecode:s});return Zr(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function lb(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>qn(r))}const Fu="0x5792579257925792579257925792579257925792579257925792579257925792",Mu=F(0,{size:32});async function zu(e,t){var f;const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,u=n?X(n):null;let d=t.capabilities;e.dataSuffix&&!((f=t.capabilities)!=null&&f.dataSuffix)&&(typeof e.dataSuffix=="string"?d={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:d={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const l=t.calls.map(h=>{const p=h,b=p.abi?we({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&b?ue([b,p.dataSuffix]):b,to:p.to,value:p.value?F(p.value):void 0}});try{const h=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:l,capabilities:d,chainId:F(r.id),from:u==null?void 0:u.address,id:a,version:c}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const p=h;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(d&&Object.values(d).some(g=>!g.optional)){const g="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Yt(new C(g,{details:g}))}if(i&&l.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Jt(new C(E,{details:E}))}const b=[];for(const E of l){const g=Zr(e,{account:u,chain:r,data:E.data,to:E.to,value:E.value?ie(E.value):void 0});b.push(g),o>0&&await new Promise(w=>setTimeout(w,o))}const m=await Promise.allSettled(b);if(m.every(E=>E.status==="rejected"))throw m[0].reason;const v=m.map(E=>E.status==="fulfilled"?E.value:Mu);return{id:ue([...v,F(r.id,{size:32}),Fu])}}throw Ur(h,{...t,account:u,chain:t.chain})}}async function Lu(e,t){async function n(d){if(d.endsWith(Fu.slice(2))){const f=Se($s(d,-64,-32)),h=$s(d,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(m=>Mu.slice(2)!==m?e.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),b=p.some(m=>m===null)?100:p.every(m=>(m==null?void 0:m.status)==="0x1")?200:p.every(m=>(m==null?void 0:m.status)==="0x0")?500:600;return{atomic:!1,chainId:Ce(f),receipts:p.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:r,chainId:s?Ce(s):void 0,receipts:(o==null?void 0:o.map(d=>({...d,blockNumber:ie(d.blockNumber),gasUsed:ie(d.gasUsed),status:Jc[d.status]})))??[],statusCode:u,status:c,version:i}}async function fb(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?X(n):void 0,o=r?[s==null?void 0:s.address,[F(r)]]:[s==null?void 0:s.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[d,l]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),a[Number(c)][d]=l}return typeof r=="number"?a[r]:a}async function hb(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function ju(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new bt({docsPath:"/docs/eip7702/prepareAuthorization"});const o=X(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:X(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await j(e,pt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await j(e,No,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&rr(i.address,o.address))&&(a.nonce+=1)),a}async function pb(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>at(n))}async function bb(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class mb extends C{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function Uu(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:i=({count:b})=>~~(1<<b)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=re(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:l,reject:f}=Ao();let h;const p=tt(u,{resolve:l,reject:f},b=>{const m=an(async()=>{const v=E=>{clearTimeout(h),m(),E(),p()};try{const E=await jn(async()=>{const g=await j(e,Lu,"getCallsStatus")({id:n});if(c&&g.status==="failure")throw new mb(g);return g},{retryCount:o,delay:i});if(!s(E))return;v(()=>b.resolve(E))}catch(E){v(()=>b.reject(E))}},{interval:r,emitOnBegin:!0});return m});return h=a?setTimeout(()=>{p(),clearTimeout(h),f(new yb({id:n}))},a):void 0,await d}class yb extends C{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function gb(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await j(e,zu,"sendCalls")(t);return await j(e,Uu,"waitForCallsStatus")({...t,id:s.id,timeout:r})}async function ti(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,F(r)]:[t]},{retryCount:0}),i=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||qo)(s);if(i.status==="reverted"&&n)throw new rc({receipt:i});return i}const ws=new nn(128);async function Du(e,t){var x,$,I,M,T;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(x=e.dataSuffix)==null?void 0:x.value,gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,pollingInterval:m,throwOnReceiptRevert:v,type:E,value:g,...w}=t,y=t.timeout??Math.max(((s==null?void 0:s.blockTime)??0)*3,5e3);if(typeof n>"u")throw new bt({docsPath:"/docs/actions/wallet/sendTransactionSync"});const P=n?X(n):null;try{rt(t);const O=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await jr({authorization:i[0]}).catch(()=>{throw new C("`to` is required. Could not infer from `authorizationList`.")})})();if((P==null?void 0:P.type)==="json-rpc"||P===null){let _;s!==null&&(_=await j(e,pt,"getChainId")({}),r&&Go({currentChainId:_,chain:s}));const H=(M=(I=($=e.chain)==null?void 0:$.formatters)==null?void 0:I.transactionRequest)==null?void 0:M.format,R=(H||ht)({...on(w,{format:H}),accessList:o,account:P,authorizationList:i,blobs:a,chainId:_,data:c&&ue([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:O,type:E,value:g},"sendTransaction"),z=ws.get(e.uid),k=z?"wallet_sendTransaction":"eth_sendTransaction",L=await(async()=>{try{return await e.request({method:k,params:[R]},{retryCount:0})}catch(B){if(z===!1)throw B;const N=B;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[R]},{retryCount:0}).then(K=>(ws.set(e.uid,!0),K)).catch(K=>{const Y=K;throw Y.name==="MethodNotFoundRpcError"||Y.name==="MethodNotSupportedRpcError"?(ws.set(e.uid,!1),N):Y});throw N}})(),U=await j(e,Ou,"waitForTransactionReceipt")({checkReplacement:!1,hash:L,pollingInterval:m,timeout:y});if(v&&U.status==="reverted")throw new rc({receipt:U});return U}if((P==null?void 0:P.type)==="local"){const _=await j(e,tr,"prepareTransactionRequest")({account:P,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&ue([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:P.nonceManager,parameters:[...zo,"sidecars"],type:E,value:g,...w,to:O}),H=(T=s==null?void 0:s.serializers)==null?void 0:T.transaction,S=await P.signTransaction(_,{serializer:H});return await j(e,ti,"sendRawTransactionSync")({serializedTransaction:S,throwOnReceiptRevert:v,timeout:t.timeout})}throw(P==null?void 0:P.type)==="smart"?new xt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new xt({docsPath:"/docs/actions/wallet/sendTransactionSync",type:P==null?void 0:P.type})}catch(O){throw O instanceof xt?O:Ur(O,{...t,account:P,chain:t.chain||void 0})}}async function wb(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function vb(e,t){const{account:n=e.account}=t;if(!n)throw new bt({docsPath:"/docs/eip7702/signAuthorization"});const r=X(n);if(!r.signAuthorization)throw new xt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await ju(e,t);return r.signAuthorization(s)}async function Gu(e,{account:t=e.account,message:n}){if(!t)throw new bt({docsPath:"/docs/actions/wallet/signMessage"});const r=X(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Vt(n):n.raw instanceof Uint8Array?me(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function xb(e,t){var u,d,l,f;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new bt({docsPath:"/docs/actions/wallet/signTransaction"});const o=X(n);rt({account:o,...t});const i=await j(e,pt,"getChainId")({});r!==null&&Go({currentChainId:i,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||ht;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:(f=(l=e.chain)==null?void 0:l.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:F(i),from:o.address}]},{retryCount:0})}async function Pb(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new bt({docsPath:"/docs/actions/wallet/signTypedData"});const i=X(n),a={EIP712Domain:tu({domain:r}),...t.types};if(eu({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=c1({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Eb(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:F(t)}]},{retryCount:0})}async function $b(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Xt(e,t){return Xt.internal(e,Zr,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:d,...l}=o;if(typeof a>"u")throw new bt({docsPath:"/docs/contract/writeContract"});const f=a?X(a):null,h=we({abi:i,args:u,functionName:d});try{return await j(n,r,s)({data:h,to:c,account:f,...l})}catch(p){throw At(p,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:f==null?void 0:f.address})}}e.internal=t})(Xt||(Xt={}));async function Ib(e,t){return Xt.internal(e,Du,"sendTransactionSync",t)}function qu(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const br="3.4.0",Ab=()=>`@wagmi/core@${br}`;var Hu=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Er,Vu;class De extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Ab()}constructor(t,n={}){var o;super(),Er.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof De?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof De&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Hu(this,Er,"m",Vu).call(this,this,t)}}Er=new WeakSet,Vu=function e(t,n){return n!=null&&n(t)?t:t.cause?Hu(this,Er,"m",e).call(this,t.cause,n):t};class no extends De{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Sb extends De{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Cb extends De{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Bb extends De{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Tb extends De{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class kb extends De{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function _b(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new Sb;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=t,i=await n.connect(o);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:o.withCapabilities?i.accounts.map(c=>typeof c=="object"?c.address:c):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o.withCapabilities?i.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(s){throw e.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const ro=256;let ur=ro,dr;function Wu(e=11){if(!dr||ur+e>ro*2){dr="",ur=0;for(let t=0;t<ro;t++)dr+=(256+Math.random()*256|0).toString(16).substring(1)}return dr.substring(ur,ur+++e)}function ni(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),u=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),l=e.pollingInterval??d,f=e.cacheTime??l,h=e.account?X(e.account):void 0,{config:p,request:b,value:m}=e.transport({account:h,chain:n,pollingInterval:l}),v={...p,...m},E={account:h,batch:t,cacheTime:f,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:l,request:b,transport:v,type:a,uid:Wu(),...c?{experimental_blockTag:c}:{}};function g(w){return y=>{const P=y(w);for(const $ in E)delete P[$];const x={...w,...P};return Object.assign(x,{extend:g(x)})}}return Object.assign(E,{extend:g(E)})}function Nb(e){var l,f,h;const{scheme:t,statement:n,...r}=((l=e.match(Rb))==null?void 0:l.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((f=e.match(Ob))==null?void 0:f.groups)??{},d=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Rb=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Ob=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Fb(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!se(r.address,{strict:!1})||t&&!rr(r.address,t))return!1}catch{return!1}return!0}async function Mb(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,d=Nb(s);if(!d.address||!Fb({address:n,domain:r,message:d,nonce:o,scheme:i,time:c}))return!1;const f=Qc(s);return Wr(e,{address:d.address,hash:f,signature:a,...u})}function zb(e){return{call:t=>Xn(e,t),createAccessList:t=>Tc(e,t),createBlockFilter:()=>Wf(e),createContractEventFilter:t=>kc(e,t),createEventFilter:t=>_c(e,t),createPendingTransactionFilter:()=>Nc(e),estimateContractGas:t=>xh(e,t),estimateGas:t=>Lo(e,t),getBalance:t=>Ph(e,t),getBlobBaseFee:()=>Eh(e),getBlock:t=>Be(e,t),getBlockNumber:t=>nr(e,t),getBlockTransactionCount:t=>Bh(e,t),getBytecode:t=>qs(e,t),getChainId:()=>pt(e),getCode:t=>qs(e,t),getContractEvents:t=>Kc(e,t),getEip712Domain:t=>Nh(e,t),getEnsAddress:t=>kf(e,t),getEnsAvatar:t=>qf(e,t),getEnsName:t=>Hf(e,t),getEnsResolver:t=>Vf(e,t),getEnsText:t=>Bc(e,t),getFeeHistory:t=>Fh(e,t),estimateFeesPerGas:t=>ah(e,t),getFilterChanges:t=>Dr(e,t),getFilterLogs:t=>Mh(e,t),getGasPrice:()=>_o(e),getLogs:t=>Uo(e,t),getProof:t=>Np(e,t),estimateMaxPriorityFeePerGas:t=>ih(e,t),fillTransaction:t=>Mo(e,t),getStorageAt:t=>Rp(e,t),getTransaction:t=>Qo(e,t),getTransactionConfirmations:t=>Op(e,t),getTransactionCount:t=>No(e,t),getTransactionReceipt:t=>pr(e,t),multicall:t=>Fp(e,t),prepareTransactionRequest:t=>tr(e,t),readContract:t=>Ne(e,t),sendRawTransaction:t=>ei(e,t),sendRawTransactionSync:t=>ti(e,t),simulate:t=>Qs(e,t),simulateBlocks:t=>Qs(e,t),simulateCalls:t=>Vp(e,t),simulateContract:t=>Wp(e,t),verifyHash:t=>Wr(e,t),verifyMessage:t=>nb(e,t),verifySiweMessage:t=>Mb(e,t),verifyTypedData:t=>rb(e,t),uninstallFilter:t=>Vr(e,t),waitForTransactionReceipt:t=>Ou(e,t),watchBlocks:t=>ob(e,t),watchBlockNumber:t=>Ru(e,t),watchContractEvent:t=>ib(e,t),watchEvent:t=>ab(e,t),watchPendingTransactions:t=>cb(e,t)}}function Lb(e){const{key:t="public",name:n="Public Client"}=e;return ni({...e,key:t,name:n,type:"publicClient"}).extend(zb)}function jb(e){return{addChain:t=>ub(e,t),deployContract:t=>db(e,t),fillTransaction:t=>Mo(e,t),getAddresses:()=>lb(e),getCallsStatus:t=>Lu(e,t),getCapabilities:t=>fb(e,t),getChainId:()=>pt(e),getPermissions:()=>hb(e),prepareAuthorization:t=>ju(e,t),prepareTransactionRequest:t=>tr(e,t),requestAddresses:()=>pb(e),requestPermissions:t=>bb(e,t),sendCalls:t=>zu(e,t),sendCallsSync:t=>gb(e,t),sendRawTransaction:t=>ei(e,t),sendRawTransactionSync:t=>ti(e,t),sendTransaction:t=>Zr(e,t),sendTransactionSync:t=>Du(e,t),showCallsStatus:t=>wb(e,t),signAuthorization:t=>vb(e,t),signMessage:t=>Gu(e,t),signTransaction:t=>xb(e,t),signTypedData:t=>Pb(e,t),switchChain:t=>Eb(e,t),waitForCallsStatus:t=>Uu(e,t),watchAsset:t=>$b(e,t),writeContract:t=>Xt(e,t),writeContractSync:t=>Ib(e,t)}}function Zu({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=Wu();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:Jh(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function Ub(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Zu({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}class Db extends C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Ku(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:l}=t;return({chain:f,retryCount:h,timeout:p})=>{const{batchSize:b=1e3,wait:m=0}=typeof n=="object"?n:{},v=t.retryCount??h,E=p??t.timeout??1e4,g=f==null?void 0:f.rpcUrls.default.http[0];if(!g)throw new Db;const w=t1(g,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:E});return Zu({key:o,methods:i,name:a,async request({method:y,params:P}){const x={method:y,params:P},{schedule:$}=Ic({id:g,wait:m,shouldSplitBatch(O){return O.length>b},fn:O=>w.request({body:O}),sort:(O,_)=>O.id-_.id}),I=async O=>n?$(O):[await w.request({body:O})],[{error:M,result:T}]=await I(x);if(l)return{error:M,result:T};if(M)throw new wo({body:x,error:M,url:g});return T},retryCount:v,retryDelay:d,timeout:E,type:"http"},{fetchOptions:s,url:g})}}async function ri(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:d}=t;if(e.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new kb({connector:d});const[l,f]=await Promise.all([d.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),d.getChainId()]);r={accounts:l,chainId:f,connector:d}}else r=e.state.connections.get(e.state.current);if(!r)throw new Cb;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new Tb({connectionChainId:s,connectorChainId:o});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const a=X(t.account??r.accounts[0]);if(a&&(a.address=at(a.address)),t.account&&!r.accounts.some(d=>d.toLowerCase()===a.address.toLowerCase()))throw new Bb({address:a.address,connector:i});const c=e.chains.find(d=>d.id===s),u=await r.connector.getProvider({chainId:s});return ni({account:a,chain:c,name:"Connector Client",transport:d=>Ub(u)({...d,retryCount:0})})}async function Yu(e,t={}){var s,o;let n;if(t.connector)n=t.connector;else{const{connections:i,current:a}=e.state,c=i.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...i,connections:new Map(r),current:a.connector.uid}});{const i=e.state.current;if(!i)return;const a=(s=e.state.connections.get(i))==null?void 0:s.connector;if(!a)return;await((o=e.storage)==null?void 0:o.setItem("recentConnectorId",a.id))}}function Gb(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],o=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function ea(e,t={}){return(await ri(e,t)).extend(jb)}async function qb(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await ri(e,{account:n,connector:r}),qu(o,Gu,"signMessage")({...s,...n?{account:n}:{}})}class Ft extends De{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}async function ta(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;typeof n=="object"&&(n==null?void 0:n.type)==="local"?i=e.getClient({chainId:r}):i=await ri(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s});const a=(()=>{var d;return!r||((d=i.chain)==null?void 0:d.id)===r?i.chain:{id:r}})();return await qu(i,Xt,"writeContract")({...o,...n?{account:n}:{},assertChainId:!!r,chain:a})}or.type="injected";function or(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Hb[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:or.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:l}={}){var p,b,m,v,E,g;const f=await this.getProvider();if(!f)throw new Ft;let h=[];if(d)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(v=(m=(b=(p=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:b[0])==null?void 0:m.value)==null?void 0:v.map(y=>at(y)),h.length>0&&(h=await this.getAccounts())}catch(w){const y=w;if(y.code===de.code)throw new de(y);if(y.code===ut.code)throw y}try{!(h!=null&&h.length)&&!d&&(h=(await f.request({method:"eth_requestAccounts"})).map(P=>at(P))),i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let w=await this.getChainId();if(u&&w!==u){const y=await this.switchChain({chainId:u}).catch(P=>{if(P.code===de.code)throw P;return{id:w}});w=(y==null?void 0:y.id)??w}return t&&await((E=c.storage)==null?void 0:E.removeItem(`${this.id}.disconnected`)),e.target||await((g=c.storage)==null?void 0:g.setItem("injected.connected",!0)),{accounts:l?h.map(y=>({address:y,capabilities:{}})):h,chainId:w}}catch(w){const y=w;throw y.code===de.code?new de(y):y.code===ut.code?new ut(y):y}},async disconnect(){var d,l;const u=await this.getProvider();if(!u)throw new Ft;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await Xc(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),e.target||await((l=c.storage)==null?void 0:l.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Ft;return(await u.request({method:"eth_accounts"})).map(l=>at(l))},async getChainId(){const u=await this.getProvider();if(!u)throw new Ft;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=r();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=mr(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((d=c.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),b=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(p()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(p()),b))]))return!0}throw new Ft}return!!(await jn(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var p,b,m,v;const l=await this.getProvider();if(!l)throw new Ft;const f=c.chains.find(E=>E.id===d);if(!f)throw new It(new no);const h=new Promise(E=>{const g=(w=>{"chainId"in w&&w.chainId===d&&(c.emitter.off("change",g),E())});c.emitter.on("change",g)});try{return await Promise.all([l.request({method:"wallet_switchEthereumChain",params:[{chainId:F(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit("change",{chainId:d})}),h]),f}catch(E){const g=E;if(g.code===4902||((b=(p=g==null?void 0:g.data)==null?void 0:p.originalError)==null?void 0:b.code)===4902)try{const{default:w,...y}=f.blockExplorers??{};let P;u!=null&&u.blockExplorerUrls?P=u.blockExplorerUrls:w&&(P=[w.url,...Object.values(y).map(I=>I.url)]);let x;(m=u==null?void 0:u.rpcUrls)!=null&&m.length?x=u.rpcUrls:x=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const $={blockExplorerUrls:P,chainId:F(d),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:x};return await Promise.all([l.request({method:"wallet_addEthereumChain",params:[$]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit("change",{chainId:d});else throw new de(new Error("User rejected switch after adding network."))}),h]),f}catch(w){throw new de(w)}throw g.code===de.code?new de(g):new It(g)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l}),t&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(l=>at(l))})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const l=Number(u.chainId);c.emitter.emit("connect",{accounts:d,chainId:l});const f=await this.getProvider();f&&(i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),a&&(d.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),d.on("connect",i))))}})}const Hb={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:mr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return mr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:mr(e,"isPhantom")}}};function mr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Vb(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Wb(){const e=new Set;let t=[];const n=()=>Vb(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const Zb=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const d=(c==null?void 0:c.equalityFn)||Object.is;let l=i(r.getState());u=f=>{const h=i(f);if(!d(l,h)){const p=l;a(l=h,p)}},c!=null&&c.fireImmediately&&a(l,l)}return s(u)},e(t,n,r)},Kb=Zb;function Yb(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const so=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return so(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return so(r)(n)}}}},Jb=(e,t)=>(n,r,s)=>{let o={storage:Yb(()=>localStorage),partialize:b=>b,version:0,merge:(b,m)=>({...m,...b}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...b)},r,s);const d=()=>{const b=o.partialize({...r()});return u.setItem(o.name,{state:b,version:o.version})},l=s.setState;s.setState=(b,m)=>{l(b,m),d()};const f=e((...b)=>{n(...b),d()},r,s);s.getInitialState=()=>f;let h;const p=()=>{var b,m;if(!u)return;i=!1,a.forEach(E=>{var g;return E((g=r())!=null?g:f)});const v=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(b=r())!=null?b:f))||void 0;return so(u.getItem.bind(u))(o.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==o.version){if(o.migrate)return[!0,o.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var g;const[w,y]=E;if(h=o.merge(y,(g=r())!=null?g:f),n(h,!0),w)return d()}).then(()=>{v==null||v(h,void 0),h=r(),i=!0,c.forEach(E=>E(h))}).catch(E=>{v==null||v(void 0,E)})};return s.persist={setOptions:b=>{o={...o,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},o.skipHydration||p(),h||f},Xb=Jb,na=e=>{let t;const n=new Set,r=(u,d)=>{const l=typeof u=="function"?u(t):u;if(!Object.is(l,t)){const f=t;t=d??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(h=>h(t,f))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},vs=e=>e?na(e):na;function Qb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xs={exports:{}},ra;function em(){return ra||(ra=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,l,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,l||c,f),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,l;if(this._eventsCount===0)return u;for(l in d=this._events)t.call(d,l)&&u.push(n?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,l=this._events[d];if(!l)return[];if(l.fn)return[l.fn];for(var f=0,h=l.length,p=new Array(h);f<h;f++)p[f]=l[f].fn;return p},a.prototype.listenerCount=function(u){var d=n?n+u:u,l=this._events[d];return l?l.fn?1:l.length:0},a.prototype.emit=function(u,d,l,f,h,p){var b=n?n+u:u;if(!this._events[b])return!1;var m=this._events[b],v=arguments.length,E,g;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,l),!0;case 4:return m.fn.call(m.context,d,l,f),!0;case 5:return m.fn.call(m.context,d,l,f,h),!0;case 6:return m.fn.call(m.context,d,l,f,h,p),!0}for(g=1,E=new Array(v-1);g<v;g++)E[g-1]=arguments[g];m.fn.apply(m.context,E)}else{var w=m.length,y;for(g=0;g<w;g++)switch(m[g].once&&this.removeListener(u,m[g].fn,void 0,!0),v){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,d);break;case 3:m[g].fn.call(m[g].context,d,l);break;case 4:m[g].fn.call(m[g].context,d,l,f);break;default:if(!E)for(y=1,E=new Array(v-1);y<v;y++)E[y-1]=arguments[y];m[g].fn.apply(m[g].context,E)}}return!0},a.prototype.on=function(u,d,l){return o(this,u,d,l,!1)},a.prototype.once=function(u,d,l){return o(this,u,d,l,!0)},a.prototype.removeListener=function(u,d,l,f){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!f||p.once)&&(!l||p.context===l)&&i(this,h);else{for(var b=0,m=[],v=p.length;b<v;b++)(p[b].fn!==d||f&&!p[b].once||l&&p[b].context!==l)&&m.push(p[b]);m.length?this._events[h]=m.length===1?m[0]:m:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(xs)),xs.exports}var tm=em();const nm=Qb(tm);class rm{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new nm})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function sm(e){return new rm(e)}function om(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function sa(e,t){return e.slice(0,t).join(".")||"."}function oa(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function im(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=oa(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const d=oa(s,c);if(d!==0)return r?t.call(this,a,c,sa(o,d)):`[ref=${sa(o,d)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function am(e,t,n,r){return JSON.stringify(e,im((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),(t==null?void 0:t(s,i))??i},r),n??void 0)}function cm(e){const{deserialize:t=om,key:n="wagmi",serialize:r=am,storage:s=Ju}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const Ju={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function um(){const e=typeof window<"u"&&window.localStorage?window.localStorage:Ju;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const oo=256;let lr=oo,fr;function dm(e=11){if(!fr||lr+e>oo*2){fr="",lr=0;for(let t=0;t<oo;t++)fr+=(256+Math.random()*256|0).toString(16).substring(1)}return fr.substring(lr,lr+++e)}function lm(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=cm({storage:um()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?Wb():void 0,a=vs(()=>o.chains),c=vs(()=>{const y=[],P=new Set;for(const x of o.connectors??[]){const $=u(x);if(y.push($),!s&&$.rdns){const I=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const M of I)P.add(M)}}if(!s&&i){const x=i.getProviders();for(const $ of x)P.has($.info.rdns)||y.push(u(d($)))}return y});function u(y){var $;const P=sm(dm()),x={...y({emitter:P,chains:a.getState(),storage:n,transports:o.transports}),emitter:P,uid:P.uid};return P.on("connect",g),($=x.setup)==null||$.call(x),x}function d(y){const{info:P}=y,x=y.provider;return or({target:{...P,id:P.rdns,provider:x}})}const l=new Map;function f(y={}){const P=y.chainId??m.getState().chainId,x=a.getState().find(I=>I.id===P);if(y.chainId&&!x)throw new no;{const I=l.get(m.getState().chainId);if(I&&!x)return I;if(!x)throw new no}{const I=l.get(P);if(I)return I}let $;if(o.client)$=o.client({chain:x});else{const I=x.id,M=a.getState().map(_=>_.id),T={},O=Object.entries(o);for(const[_,H]of O)if(!(_==="chains"||_==="client"||_==="connectors"||_==="transports"))if(typeof H=="object")if(I in H)T[_]=H[I];else{if(M.some(R=>R in H))continue;T[_]=H}else T[_]=H;$=ni({...T,chain:x,batch:T.batch??{multicall:!0},transport:_=>o.transports[I]({..._,connectors:c})})}return l.set(P,$),$}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const b="0.0.0-canary-";br.startsWith(b)?p=Number.parseInt(br.replace(b,""),10):p=Number.parseInt(br.split(".")[0]??"0",10);const m=vs(Kb(n?Xb(h,{migrate(y,P){if(P===p)return y;const x=h(),$=v(y,x.chainId);return{...x,chainId:$}},name:"store",partialize(y){return{connections:{__type:"Map",value:Array.from(y.connections.entries()).map(([P,x])=>{const{id:$,name:I,type:M,uid:T}=x.connector;return[P,{...x,connector:{id:$,name:I,type:M,uid:T}}]})},chainId:y.chainId,current:y.current}},merge(y,P){typeof y=="object"&&y&&"status"in y&&delete y.status;const x=v(y,P.chainId);return{...P,...y,chainId:x}},skipHydration:s,storage:n,version:p}):h));m.setState(h());function v(y,P){return y&&typeof y=="object"&&"chainId"in y&&typeof y.chainId=="number"&&a.getState().some(x=>x.id===y.chainId)?y.chainId:P}r&&m.subscribe(({connections:y,current:P})=>{var x;return P?(x=y.get(P))==null?void 0:x.chainId:void 0},y=>{if(a.getState().some(x=>x.id===y))return m.setState(x=>({...x,chainId:y??x.chainId}))}),i==null||i.subscribe(y=>{const P=new Set,x=new Set;for(const I of c.getState())if(P.add(I.id),I.rdns){const M=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const T of M)x.add(T)}const $=[];for(const I of y){if(x.has(I.info.rdns))continue;const M=u(d(I));P.has(M.id)||$.push(M)}n&&!m.persist.hasHydrated()||c.setState(I=>[...I,...$],!0)});function E(y){m.setState(P=>{const x=P.connections.get(y.uid);return x?{...P,connections:new Map(P.connections).set(y.uid,{accounts:y.accounts??x.accounts,chainId:y.chainId??x.chainId,connector:x.connector})}:P})}function g(y){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(P=>{const x=c.getState().find($=>$.uid===y.uid);return x?(x.emitter.listenerCount("connect")&&x.emitter.off("connect",E),x.emitter.listenerCount("change")||x.emitter.on("change",E),x.emitter.listenerCount("disconnect")||x.emitter.on("disconnect",w),{...P,connections:new Map(P.connections).set(y.uid,{accounts:y.accounts,chainId:y.chainId,connector:x}),current:y.uid,status:"connected"}):P})}function w(y){m.setState(P=>{const x=P.connections.get(y.uid);if(x){const I=x.connector;I.emitter.listenerCount("change")&&x.connector.emitter.off("change",E),I.emitter.listenerCount("disconnect")&&x.connector.emitter.off("disconnect",w),I.emitter.listenerCount("connect")||x.connector.emitter.on("connect",g)}if(P.connections.delete(y.uid),P.connections.size===0)return{...P,connections:new Map,current:null,status:"disconnected"};const $=P.connections.values().next().value;return{...P,connections:new Map(P.connections),current:$.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return m.getState()},setState(y){let P;typeof y=="function"?P=y(m.getState()):P=y;const x=h();typeof P!="object"&&(P=x),Object.keys(x).some(I=>!(I in P))&&(P=x),m.setState(P,!0)},subscribe(y,P,x){return m.subscribe(y,P,x?{...x,fireImmediately:x.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const y=m.getState(),P=y.connections;let x=y.current;for(const[,$]of P){const I=$.connector;I.isAuthorized&&await I.isAuthorized()||(P.delete(I.uid),x===I.uid&&(x=null))}m.setState($=>({...$,connections:P,current:x}))},store:m,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(y){const P=typeof y=="function"?y(a.getState()):y;if(P.length!==0)return a.setState(P,!0)},subscribe(y){return a.subscribe(y)}},connectors:{providerDetailToConnector:d,setup:u,setState(y){return c.setState(typeof y=="function"?y(c.getState()):y,!0)},subscribe(y){return c.subscribe(y)}},events:{change:E,connect:g,disconnect:w}}}}const fm={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},hm={block:oh({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=er(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?ie(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:rh({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ie(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Qh({format(e){return{l1GasPrice:e.l1GasPrice?ie(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ie(e.l1GasUsed):null,l1Fee:e.l1Fee?ie(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function pm(e,t){return ym(e)?mm(e):Dh(e,t)}const bm={transaction:pm};function mm(e){gm(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?me(i):"0x",c?me(c):"0x",s?me(s):"0x",o?"0x1":"0x",n??"0x"];return Oe(["0x7e",lt(u)])}function ym(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function gm(e){const{from:t,to:n}=e;if(t&&!se(t))throw new he({address:t});if(n&&!se(n))throw new he({address:n})}const ia={blockTime:2e3,contracts:fm,formatters:hm,serializers:bm},bn=1,$r=Yc({...ia,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ia.contracts,disputeGameFactory:{[bn]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[bn]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[bn]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[bn]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:bn});({...$r});function wm(e){return!e||e.length<10?e:`${e.slice(0,6)}...${e.slice(-4)}`}const Xu=or({target:"metaMask"}),Qu=or({target:"coinbaseWallet"}),Ye=lm({chains:[$r],connectors:[Xu,Qu],transports:{[$r.id]:Ku()},ssr:!0}),aa="0xA99c4B08201F2913Db8D28e71d020c4298F29dBF",ca=[{type:"function",name:"isPetOperatorForAll",stateMutability:"view",inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"setPetOperatorForAll",stateMutability:"nonpayable",inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],outputs:[]}],vm={class:"wallet-connect"},xm={key:0,class:"space-y-4"},Pm={class:"flex flex-col sm:flex-row gap-3"},Em=["disabled"],$m=["disabled"],Im={key:0,class:"text-red-400 text-sm"},Am={key:1,class:"text-slate-400 text-xs mt-1"},Sm={key:1,class:"space-y-4"},Cm={class:"bg-emerald-500/20 border border-emerald-500/50 rounded-lg p-4"},Bm={class:"text-slate-300 text-sm mt-1 break-all"},Tm={key:0,class:"text-amber-400/90 text-sm"},km=["disabled"],_m=Qt({__name:"WalletConnect",setup(e){var b,m;const t=e0(),n=(((b=t.public)==null?void 0:b.allowedAddress)||"0x2127aa7265d573aa467f1d73554d17890b872e76").toLowerCase(),r=(m=t.public)==null?void 0:m.allowedAddresses,s=r?r.split(",").map(v=>v.trim().toLowerCase()).filter(Boolean):[n],o=Z(""),i=Z(!1),a=Z(!1),c=Z(!1),u=Z(!1),d=Z(""),l=async()=>{try{const v=await $fetch("/api/auth/check");a.value=v.authenticated}catch{a.value=!1}},f=async v=>{var E;c.value=!0,d.value="";try{const w=await _b(Ye,{connector:v==="metaMask"?Xu:Qu});if((E=w==null?void 0:w.accounts)!=null&&E[0]){o.value=w.accounts[0],i.value=!0;const y=w.accounts[0].toLowerCase();s.includes(y)?await l():(d.value=s.length===1?`Your address is not whitelisted. Only ${n} is allowed.`:"Your address is not whitelisted.",i.value=!1)}}catch(g){const w=(g==null?void 0:g.message)||"Failed to connect wallet";w.includes("Provider not found")?d.value="MetaMask/Coinbase not found. Disable Uniswap Wallet and other extensions, or use a private window with only MetaMask or Coinbase.":w.includes("ethereum")&&w.includes("getter")?d.value="Wallet conflict detected. Try disabling other wallet extensions or use a private window with only MetaMask or Coinbase Wallet.":d.value=w,i.value=!1}finally{c.value=!1}},h=async()=>{var v;u.value=!0,d.value="";try{const E=`Sign in to Aavegotchi Petter Bot

Address: ${o.value}

This request will not trigger a blockchain transaction or cost any gas fees.`,g=await qb(Ye,{message:E,account:o.value});(await $fetch("/api/auth/verify",{method:"POST",body:{address:o.value,message:E,signature:g}})).success&&(a.value=!0,window.location.href="/")}catch(E){d.value=(E==null?void 0:E.message)||((v=E==null?void 0:E.data)==null?void 0:v.message)||"Failed to sign message"}finally{u.value=!1}},p=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await Yu(Ye),i.value=!1,a.value=!1,o.value="",await da("/")}catch(v){console.error("Failed to disconnect:",v)}};return Dn(async()=>{if(typeof window>"u")return;const v=Gb(Ye);v.isConnected&&v.address&&(o.value=v.address,i.value=!0,await l())}),(v,E)=>(D(),q("div",vm,[i.value?(D(),q("div",Sm,[A("div",Cm,[E[3]||(E[3]=A("p",{class:"text-emerald-400 font-medium"},"Connected",-1)),A("p",Bm,G(o.value),1)]),a.value?te("",!0):(D(),q("p",Tm," Sign in below to access Bot Control, Delegation List, and full dashboard. ")),a.value?(D(),q("button",{key:2,onClick:p,class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Disconnect ")):(D(),q("button",{key:1,onClick:h,disabled:u.value,class:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},G(u.value?"Signing...":"Sign Message to Login"),9,km))])):(D(),q("div",xm,[E[2]||(E[2]=A("p",{class:"text-slate-400"},"Connect with MetaMask or Coinbase Wallet only",-1)),A("div",Pm,[A("button",{onClick:E[0]||(E[0]=g=>f("metaMask")),disabled:c.value,class:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},G(c.value?"Connecting...":"MetaMask"),9,Em),A("button",{onClick:E[1]||(E[1]=g=>f("coinbaseWallet")),disabled:c.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},G(c.value?"Connecting...":"Coinbase Wallet"),9,$m)]),d.value?(D(),q("p",Im,G(d.value),1)):te("",!0),d.value?(D(),q("p",Am," Have Uniswap or other wallets? Disable them or use a private window with only MetaMask or Coinbase Wallet. ")):te("",!0)]))]))}}),yn=window.setInterval,Nm={class:"bot-control"},Rm={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Om={key:0,class:"text-center py-4"},Fm={key:1,class:"space-y-4"},Mm={class:"flex items-center justify-between"},zm={key:0},Lm={class:"text-lg font-semibold"},jm={key:0,class:"bg-white/5 border border-white/10 rounded-lg p-4"},Um={class:"text-slate-300 text-sm mt-1"},Dm={key:1,class:"bg-red-500/20 border border-red-500/50 rounded-lg p-4"},Gm={class:"text-red-300 text-sm mt-1"},qm={class:"flex gap-4"},Hm=["disabled"],Vm=["disabled"],Wm=Qt({__name:"BotControl",emits:["triggered"],setup(e,{emit:t}){const n=t,r=Z({running:!1}),s=Z(!0),o=Z(!1),i=Z(!1),a=async()=>{try{const l=await $fetch("/api/bot/status");r.value=l}catch(l){console.error("Failed to fetch bot status:",l)}finally{s.value=!1}},c=async()=>{o.value=!0;try{const l=r.value.running?"/api/bot/stop":"/api/bot/start";await $fetch(l,{method:"POST"}),await a()}catch(l){console.error("Failed to toggle bot:",l),alert("Failed to toggle bot status")}finally{o.value=!1}},u=async()=>{var l,f,h;i.value=!0;try{const p=await $fetch("/api/bot/trigger",{method:"POST",body:{force:!0}}),b=(l=p==null?void 0:p.result)==null?void 0:l.message;alert(b||"Bot triggered successfully!"),n("triggered"),await a()}catch(p){console.error("Failed to trigger bot:",p);const b=((f=p==null?void 0:p.data)==null?void 0:f.message)||((h=p==null?void 0:p.data)==null?void 0:h.error)||(p==null?void 0:p.message)||(typeof(p==null?void 0:p.data)=="string"?p.data:null)||"Failed to trigger bot";alert(b)}finally{i.value=!1}},d=l=>new Date(l).toLocaleString();return Dn(()=>{a(),yn(a,1e4)}),(l,f)=>(D(),q("div",Nm,[A("div",Rm,[f[5]||(f[5]=A("h2",{class:"text-lg font-semibold mb-4"},"Bot Control",-1)),s.value?(D(),q("div",Om,[...f[0]||(f[0]=[A("p",{class:"text-slate-400"},"Loading...",-1)])])):(D(),q("div",Fm,[A("div",Mm,[A("div",null,[f[1]||(f[1]=A("p",{class:"text-sm text-slate-400"},"Status",-1)),A("p",{class:ze(["text-lg font-semibold",r.value.running?"text-emerald-400":"text-red-400"])},G(r.value.running?"Running":"Stopped"),3)]),r.value.lastRun?(D(),q("div",zm,[f[2]||(f[2]=A("p",{class:"text-sm text-slate-400"},"Last Run",-1)),A("p",Lm,G(d(r.value.lastRun)),1)])):te("",!0)]),r.value.lastRunMessage&&!r.value.lastError?(D(),q("div",jm,[f[3]||(f[3]=A("p",{class:"text-slate-400 text-sm font-medium"},"Last Outcome",-1)),A("p",Um,G(r.value.lastRunMessage),1)])):te("",!0),r.value.lastError?(D(),q("div",Dm,[f[4]||(f[4]=A("p",{class:"text-red-400 font-medium"},"Last Error",-1)),A("p",Gm,G(r.value.lastError),1)])):te("",!0),A("div",qm,[A("button",{onClick:c,disabled:o.value,class:ze(["px-6 py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",r.value.running?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700"])},G(o.value?"Processing...":r.value.running?"Stop Bot":"Start Bot"),11,Hm),A("button",{onClick:u,disabled:i.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},G(i.value?"Running...":"Trigger Now"),9,Vm)])]))])]))}}),Zm={class:"delegation-card"},Km={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Ym={key:0,class:"text-center py-4"},Jm={key:1,class:"space-y-4"},Xm={class:"bg-white/5 rounded-lg p-4 font-mono text-sm break-all"},Qm={class:"space-y-2"},ey={class:"flex items-center gap-2"},ty={class:"flex items-center gap-2"},ny={key:0,class:"text-sm text-slate-400"},ry={class:"flex flex-col gap-2"},sy=["disabled"],oy=["disabled"],iy=["disabled"],ay=["disabled"],cy={class:"mt-2 pt-2 border-t border-white/10"},uy={class:"flex flex-wrap gap-2 items-center"},dy=["disabled"],ly=["disabled"],fy=Qt({__name:"DelegationCard",setup(e){const t=Z(null),n=Z(""),r=Z(""),s=Z(!0),o=Z(!1),i=Z(!1),a=Z(!1),c=async()=>{try{const b=await $fetch("/api/delegation/status");t.value=b,n.value=b.petterAddress||""}catch(b){console.error("Failed to fetch delegation status:",b)}finally{s.value=!1}},u=async()=>{if(!n.value){alert("Petter address not configured");return}o.value=!0;try{if(!await ea(Ye)){alert("Please connect your wallet first");return}await ta(Ye,{address:aa,abi:ca,functionName:"setPetOperatorForAll",args:[n.value,!0]}),await c()}catch(b){console.error("Approve failed:",b),alert((b==null?void 0:b.message)||"Approval failed")}finally{o.value=!1}},d=async()=>{var b;i.value=!0;try{await $fetch("/api/delegation/register",{method:"POST"}),await c()}catch(m){alert(((b=m==null?void 0:m.data)==null?void 0:b.message)||(m==null?void 0:m.message)||"Registration failed")}finally{i.value=!1}},l=async()=>{n.value&&confirm("Revoke the current petter? You will need to approve again after updating the petter address.")&&await p(n.value)},f=b=>{confirm(`Revoke ${b} as petter for your gotchis?`)&&p(b)},h=async()=>{var m;const b=(m=r.value)==null?void 0:m.trim();if(!b||!b.startsWith("0x")){alert("Enter a valid address (0x...)");return}f(b),r.value=""},p=async b=>{var m;a.value=!0;try{if(!await ea(Ye)){alert("Please connect your wallet first");return}await ta(Ye,{address:aa,abi:ca,functionName:"setPetOperatorForAll",args:[b,!1]}),b.toLowerCase()===((m=n.value)==null?void 0:m.toLowerCase())&&await $fetch("/api/delegation/unregister",{method:"POST"}),await c(),alert("Revoked successfully.")}catch(v){console.error("Revoke failed:",v),alert((v==null?void 0:v.message)||"Revoke failed")}finally{a.value=!1}};return Dn(()=>{c()}),(b,m)=>{var v,E,g,w,y,P,x,$;return D(),q("div",Zm,[A("div",Km,[m[6]||(m[6]=A("h2",{class:"text-lg font-semibold mb-2"},"EIP PetOperator Delegation",-1)),m[7]||(m[7]=A("p",{class:"text-slate-400 text-sm mb-4"}," Keep your Aavegotchis in your wallet. Approve our petter to pet on your behalfno transfer needed. ",-1)),s.value?(D(),q("div",Ym,[...m[2]||(m[2]=[A("p",{class:"text-slate-400"},"Loading...",-1)])])):(D(),q("div",Jm,[A("div",Xm,[m[3]||(m[3]=A("span",{class:"text-slate-400"},"Petter address: ",-1)),la(" "+G(n.value||""),1)]),A("div",Qm,[A("div",ey,[A("span",{class:ze(["w-3 h-3 rounded-full",(v=t.value)!=null&&v.approved?"bg-emerald-500":"bg-amber-500"])},null,2),A("span",null,G((E=t.value)!=null&&E.approved?"Approved":"Not approved"),1)]),A("div",ty,[A("span",{class:ze(["w-3 h-3 rounded-full",(g=t.value)!=null&&g.registered?"bg-emerald-500":"bg-slate-500"])},null,2),A("span",null,G((w=t.value)!=null&&w.registered?"Registered":"Not registered"),1)]),((y=t.value)==null?void 0:y.gotchiCount)!==void 0?(D(),q("div",ny,G(t.value.gotchiCount)+" Aavegotchi(es) in your wallet ",1)):te("",!0)]),A("div",ry,[(P=t.value)!=null&&P.approved?(x=t.value)!=null&&x.canRegister?(D(),q(it,{key:1},[A("button",{onClick:d,disabled:i.value,class:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 font-medium"},G(i.value?"Registering...":"2. Register for Auto-Petting"),9,oy),A("button",{onClick:l,disabled:a.value,class:"px-4 py-2 text-slate-400 hover:text-white text-sm"},G(a.value?"Revoking...":"Revoke approval"),9,iy)],64)):($=t.value)!=null&&$.registered?(D(),q(it,{key:2},[m[5]||(m[5]=A("div",{class:"px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg text-sm border border-emerald-500/50"},"  You're all set! Your Aavegotchis will be petted every 12 hours. ",-1)),A("button",{onClick:l,disabled:a.value,class:"px-4 py-2 bg-red-600/80 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 text-sm font-medium"},G(a.value?"Revoking...":"Revoke & Change Petter"),9,ay),A("div",cy,[m[4]||(m[4]=A("p",{class:"text-slate-400 text-xs mb-1"},"Revoke a different petter address:",-1)),A("div",uy,[n.value?(D(),q("button",{key:0,type:"button",onClick:m[0]||(m[0]=I=>f(n.value)),disabled:a.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke "+G(t0(wm)(n.value)),9,dy)):te("",!0),n0(A("input",{"onUpdate:modelValue":m[1]||(m[1]=I=>r.value=I),type:"text",placeholder:"0x...",class:"flex-1 min-w-[140px] bg-white/10 border border-white/20 rounded px-3 py-1.5 text-sm font-mono placeholder-slate-500"},null,512),[[r0,r.value]]),A("button",{type:"button",onClick:h,disabled:a.value||!r.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke ",8,ly)])])],64)):te("",!0):(D(),q("button",{key:0,onClick:u,disabled:o.value,class:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 font-medium"},G(o.value?"Confirm in wallet...":"1. Approve Petter (sign tx)"),9,sy))])]))])])}}}),hy={class:"delegation-list"},py={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},by={class:"flex items-center justify-between mb-4"},my=["disabled"],yy={key:0,class:"text-center py-8 text-slate-400"},gy={key:1,class:"text-center py-8 text-slate-400"},wy={key:2,class:"space-y-4"},vy={class:"flex flex-wrap items-center justify-between gap-2 text-sm text-slate-400 mb-2"},xy={class:"font-semibold text-white"},Py=["disabled"],Ey={class:"space-y-2 max-h-64 overflow-y-auto"},$y=["href"],Iy={class:"text-emerald-400 font-medium ml-3 shrink-0"},Ay=Qt({__name:"DelegationList",setup(e){const t=Z([]),n=Z(0),r=Z(!1),s=Z(!1),o=async()=>{var a;if(confirm("Unregister all delegates? The worker will stop petting for them. Each owner should revoke on-chain.")){s.value=!0;try{const c=await $fetch("/api/delegation/clear-all",{method:"POST"});alert(c.message),await i()}catch(c){alert(((a=c==null?void 0:c.data)==null?void 0:a.message)||(c==null?void 0:c.message)||"Failed to unregister all")}finally{s.value=!1}}},i=async()=>{r.value=!0;try{const a=await $fetch("/api/delegation/owners");t.value=a.owners||[],n.value=a.totalGotchis||0}catch(a){console.error("Failed to fetch delegation owners:",a),t.value=[],n.value=0}finally{r.value=!1}};return Dn(()=>{i(),yn(i,6e4)}),(a,c)=>(D(),q("div",hy,[A("div",py,[A("div",by,[c[0]||(c[0]=A("h2",{class:"text-lg font-semibold"},"Delegating Owners",-1)),A("button",{onClick:i,disabled:r.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},G(r.value?"Loading...":"Refresh"),9,my)]),r.value&&t.value.length===0?(D(),q("div",yy,[...c[1]||(c[1]=[A("p",null,"Loading delegation list...",-1)])])):t.value.length===0?(D(),q("div",gy,[...c[2]||(c[2]=[A("p",null,"No users have delegated petting yet",-1)])])):(D(),q("div",wy,[A("div",vy,[A("span",null,"Total: "+G(t.value.length)+" owner(s)",1),A("span",xy,G(n.value)+" Aavegotchis to pet",1),t.value.length>0?(D(),q("button",{key:0,type:"button",onClick:o,disabled:s.value,class:"px-3 py-1.5 text-sm bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition disabled:opacity-50"},G(s.value?"Clearing...":"Unregister all"),9,Py)):te("",!0)]),A("div",Ey,[(D(!0),q(it,null,hr(t.value,u=>(D(),q("div",{key:u.address,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[A("a",{href:`https://basescan.org/address/${u.address}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate flex-1 min-w-0"},G(u.address.slice(0,6))+"..."+G(u.address.slice(-4)),9,$y),A("span",Iy,G(u.gotchiCount)+" gotchi"+G(u.gotchiCount!==1?"s":""),1)]))),128))])]))])]))}}),Sy={class:"home-dashboard min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white p-4 md:p-8"},Cy={class:"max-w-6xl mx-auto space-y-6"},By={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Ty={class:"text-slate-400 mt-1"},ky={class:"flex items-center gap-3"},_y={class:"text-sm font-medium"},Ny={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},Ry={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Oy={class:"text-xl font-bold mt-1 font-mono"},Fy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},My={class:"text-xl font-bold mt-1"},zy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Ly={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},jy={class:"text-xl font-bold mt-1"},Uy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Dy={class:"flex items-center justify-between gap-2"},Gy={class:"text-xl font-bold mt-1 font-mono"},qy=["disabled"],Hy={key:0,class:"grid md:grid-cols-2 gap-6"},Vy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Wy={class:"space-y-3"},Zy={class:"font-mono text-sm break-all mt-1"},Ky={class:"font-mono text-lg font-bold mt-1"},Yy={class:"font-mono text-lg font-bold mt-1"},Jy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Xy={class:"space-y-3"},Qy={class:"mt-1"},eg={key:0},tg={class:"text-slate-300 text-sm mt-1"},ng={key:1},rg={class:"text-red-400 text-sm mt-1 truncate"},sg={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},og={class:"flex items-center justify-between mb-4"},ig=["disabled"],ag={key:0,class:"text-center py-12 text-slate-400"},cg={key:1,class:"text-center py-12 text-slate-400"},ug={key:2,class:"text-center py-12 text-slate-400"},dg={key:3,class:"space-y-3 max-h-64 overflow-y-auto"},lg={class:"flex-1 min-w-0"},fg=["href"],hg={class:"text-slate-400 text-xs mt-1"},pg={key:0,class:"text-slate-500"},bg={class:"text-slate-200 text-sm font-medium truncate"},mg={class:"text-slate-400 text-xs mt-1"},yg={key:1,class:"grid md:grid-cols-2 gap-6 mt-6"},gg={key:2,class:"mt-6"},wg={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},vg={class:"flex flex-wrap items-center gap-4"},xg={class:"flex items-center gap-2"},Pg=["value","disabled"],Eg=["value"],$g={key:0,class:"text-slate-400 text-sm"},Ig=["disabled"],Ag={key:2,class:"text-amber-400 text-sm font-medium"},Sg={key:3,class:"mt-6"},Cg={key:4,class:"mt-6"},Bg={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Tg={class:"flex items-center justify-between mb-4"},kg=["disabled"],_g={key:0,class:"text-center py-8 text-slate-400"},Ng={key:1,class:"text-center py-8 text-slate-400"},Rg={key:2,class:"space-y-1.5 max-h-80 overflow-y-auto font-mono text-xs"},Og={class:"text-slate-500 shrink-0"},Fg={class:"break-all"},Mg=Qt({__name:"HomeDashboard",setup(e){const t=Z(null),n=Z([]),r=Z(null),s=Z(null),o=Z([]),i=Z(12),a=Z(!1),c=Z(null);let u=null;const d=Z(!0),l=Z(!1),f=Z(!1),h=Z(!1),p=Z(!1),b=ln(()=>{var B,N,K,Y,J,Q,ce,V;return{running:((N=(B=t.value)==null?void 0:B.bot)==null?void 0:N.running)??!1,lastRun:((Y=(K=t.value)==null?void 0:K.bot)==null?void 0:Y.lastRun)??null,lastError:((Q=(J=t.value)==null?void 0:J.bot)==null?void 0:Q.lastError)??null,lastRunMessage:((V=(ce=t.value)==null?void 0:ce.bot)==null?void 0:V.lastRunMessage)??null}}),m=ln(()=>{var B;return((B=t.value)==null?void 0:B.stats)??{successRate:100}}),v=ln(()=>{var $e,Ge;const B=(Ge=($e=t.value)==null?void 0:$e.bot)==null?void 0:Ge.lastRun;if(!B)return"";const N=new Date(B).getTime(),K=i.value*60*60*1e3,Y=N+K,J=Date.now();if(J>=Y)return"Ready";const Q=Y-J,ce=Math.floor(Q/36e5),V=Math.floor(Q%36e5/6e4);return`${ce}h ${V}m`}),E=Z(null),g=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],w=ln(()=>{const B=i.value;return B<1/60?`Every ${Math.round(B*3600)} sec (test)`:B<1?`Every ${Math.round(B*60)} min`:`Every ${B} ${B===1?"hour":"hours"}`}),y=ln(()=>{var N;const B=((N=m.value)==null?void 0:N.successRate)??100;return B>=95?"text-emerald-400":B>=80?"text-amber-400":"text-red-400"}),P=async()=>{try{const B=await $fetch("/api/health");t.value=B}catch(B){console.error("Failed to fetch health:",B)}},x=async()=>{if(p.value){l.value=!0;try{const B=await $fetch("/api/transactions",{query:{limit:20}});n.value=B}catch(B){console.error("Failed to fetch history:",B)}finally{l.value=!1}}},$=async()=>{if(p.value){h.value=!0;try{const B=await $fetch("/api/transactions/backfill-gas",{method:"POST"});B.ok&&B.updated>0&&(await P(),await x())}catch(B){console.error("Backfill gas failed:",B)}finally{h.value=!1}}},I=async()=>{if(p.value){f.value=!0;try{const B=await $fetch("/api/bot/logs",{query:{limit:100}});o.value=B}catch(B){console.error("Failed to fetch worker logs:",B),o.value=[]}finally{f.value=!1}}},M=async()=>{if(p.value)try{const B=await $fetch("/api/bot/frequency");i.value=B.pettingIntervalHours}catch{i.value=12}},T=async B=>{if(p.value&&!(B<30/3600||B>24)){a.value=!0;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:B}}),i.value=B}catch(N){console.error("Failed to set frequency:",N),alert("Failed to update petting frequency")}finally{a.value=!1}}},O=async B=>{if(!p.value||a.value||c.value!=null)return;a.value=!0;const N=B/3600;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:N}}),i.value=N,c.value=B,u&&clearInterval(u),u=yn(()=>{c.value!=null&&(c.value-=1,c.value<=0&&(u&&clearInterval(u),u=null,c.value=null,T(12)))},1e3)}catch(K){console.error("Failed to start test mode:",K),alert("Failed to start test mode")}finally{a.value=!1}},_=async()=>{try{const B=await $fetch("/api/delegation/status");r.value=B}catch{r.value=null}},H=async()=>{try{const B=await $fetch("/api/auth/me");E.value=B.address}catch{E.value=null}},S=async()=>{const B=E.value;if(B)try{const K=await Lb({chain:$r,transport:Ku()}).getBalance({address:B});s.value=parseFloat(Tr(K)).toFixed(4)}catch{s.value=""}},R=async()=>{try{const B=await $fetch("/api/auth/check");p.value=B.authenticated}catch{p.value=!1}},z=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await Yu(Ye),await da("/")}catch(B){console.error("Failed to logout:",B)}},k=B=>{if(!B)return"";const N=typeof B=="string"?new Date(B).getTime():B;return new Date(N).toLocaleString()},L=B=>new Date(B).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),U=B=>B==null||B===0?"":B<1e-4?"<0.0001 ETH":`${B.toFixed(4)} ETH`;return s0(()=>{u&&clearInterval(u)}),Dn(async()=>{await R(),await P(),p.value&&(await H(),await Promise.all([x(),_(),S(),I(),M()])),d.value=!1,yn(P,3e4),p.value&&yn(()=>Promise.all([H(),x(),S(),I(),M()]),6e4)}),(B,N)=>{var ce;const K=_m,Y=Wm,J=fy,Q=Ay;return D(),q("div",Sy,[A("div",Cy,[A("div",By,[A("div",null,[N[3]||(N[3]=A("h1",{class:"text-3xl md:text-4xl font-bold tracking-tight"},"Aavegotchi Petter",-1)),A("p",Ty,"Automated petting on Base  "+G(w.value),1)]),A("div",ky,[A("div",{class:ze(["flex items-center gap-2 px-4 py-2 rounded-lg",b.value.running?"bg-emerald-500/20 border border-emerald-500/50":"bg-amber-500/20 border border-amber-500/50"])},[A("div",{class:ze(["w-2 h-2 rounded-full animate-pulse",b.value.running?"bg-emerald-400":"bg-amber-400"])},null,2),A("span",_y,G(b.value.running?"Running":"Stopped"),1)],2),p.value?(D(),q("button",{key:0,onClick:z,class:"px-4 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-sm font-medium transition"}," Logout ")):(D(),fa(K,{key:1}))])]),A("div",Ny,[A("div",Ry,[N[4]||(N[4]=A("p",{class:"text-slate-400 text-sm"},"Next Pet",-1)),A("p",Oy,G(v.value),1)]),A("div",Fy,[N[5]||(N[5]=A("p",{class:"text-slate-400 text-sm"},"Total Petted",-1)),A("p",My,G(m.value.totalAavegotchisPetted??0),1)]),A("div",zy,[N[6]||(N[6]=A("p",{class:"text-slate-400 text-sm"},"Success Rate",-1)),A("p",{class:ze(["text-xl font-bold mt-1",y.value])},G(m.value.successRate??100)+"%",3)]),A("div",Ly,[N[7]||(N[7]=A("p",{class:"text-slate-400 text-sm"},"Last 24h",-1)),A("p",jy,G(m.value.transactionsLast24h??0),1)]),A("div",Uy,[A("div",Dy,[A("div",null,[N[8]||(N[8]=A("p",{class:"text-slate-400 text-sm"},"Gas Cost",-1)),A("p",Gy,G(U(m.value.totalGasCostEth)),1)]),p.value&&U(m.value.totalGasCostEth)===""?(D(),q("button",{key:0,onClick:$,disabled:h.value,class:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 rounded transition disabled:opacity-50 shrink-0"},G(h.value?"...":"Look up"),9,qy)):te("",!0)])])]),p.value?(D(),q("div",Hy,[A("div",Vy,[N[12]||(N[12]=A("h2",{class:"text-lg font-semibold mb-4"},"Wallet",-1)),A("div",Wy,[A("div",null,[N[9]||(N[9]=A("p",{class:"text-slate-400 text-sm"},"Address",-1)),A("p",Zy,G(E.value||""),1)]),A("div",null,[N[10]||(N[10]=A("p",{class:"text-slate-400 text-sm"},"Balance (ETH)",-1)),A("p",Ky,G(s.value??""),1)]),A("div",null,[N[11]||(N[11]=A("p",{class:"text-slate-400 text-sm"},"Gotchis Delegated",-1)),A("p",Yy,G(((ce=r.value)==null?void 0:ce.gotchiCount)??""),1)])])]),A("div",Jy,[N[16]||(N[16]=A("h2",{class:"text-lg font-semibold mb-4"},"Bot Status",-1)),A("div",Xy,[A("div",null,[N[13]||(N[13]=A("p",{class:"text-slate-400 text-sm"},"Last Run",-1)),A("p",Qy,G(k(b.value.lastRun)),1)]),b.value.lastRunMessage&&!b.value.lastError?(D(),q("div",eg,[N[14]||(N[14]=A("p",{class:"text-slate-400 text-sm"},"Last Outcome",-1)),A("p",tg,G(b.value.lastRunMessage),1)])):te("",!0),b.value.lastError?(D(),q("div",ng,[N[15]||(N[15]=A("p",{class:"text-slate-400 text-sm"},"Last Error",-1)),A("p",rg,G(b.value.lastError),1)])):te("",!0)])])])):te("",!0),A("div",sg,[A("div",og,[N[17]||(N[17]=A("h2",{class:"text-lg font-semibold"},"Execution History",-1)),p.value?(D(),q("button",{key:0,onClick:x,disabled:l.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"}," Refresh ",8,ig)):te("",!0)]),p.value?l.value?(D(),q("div",cg,[...N[19]||(N[19]=[A("p",null,"Loading...",-1)])])):n.value.length===0?(D(),q("div",ug,[...N[20]||(N[20]=[A("p",null,"No executions yet",-1)])])):(D(),q("div",dg,[(D(!0),q(it,null,hr(n.value,V=>(D(),q("div",{key:V.type==="transaction"?V.hash:V.id,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[A("div",lg,[V.type==="transaction"?(D(),q(it,{key:0},[A("a",{href:`https://basescan.org/tx/${V.hash}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate block"},G(V.hash.slice(0,10))+"..."+G(V.hash.slice(-8)),9,fg),A("p",hg,[la(G(k(V.timestamp))+"  "+G(V.tokenIds.length)+" petted ",1),V.gasCostWei?(D(),q("span",pg,"  "+G(U(Number(BigInt(V.gasCostWei))/1e18)),1)):te("",!0)])],64)):(D(),q(it,{key:1},[A("p",bg,G(V.message),1),A("p",mg,G(k(V.timestamp))+G(V.petted!=null?`  ${V.petted} petted`:""),1)],64))]),A("span",{class:ze(["text-xs font-medium ml-2",V.type==="manual"?"text-amber-400":"text-emerald-400"])},G(V.type==="manual"?"Manual":"Success"),3)]))),128))])):(D(),q("div",ag,[...N[18]||(N[18]=[A("p",null,"Connect wallet to view execution history",-1)])]))]),p.value?(D(),q("div",yg,[Yr(Y,{onTriggered:N[0]||(N[0]=()=>{x(),I()})}),Yr(J)])):te("",!0),p.value?(D(),q("div",gg,[A("div",wg,[N[22]||(N[22]=A("h2",{class:"text-lg font-semibold mb-4"},"Petting Frequency",-1)),N[23]||(N[23]=A("p",{class:"text-slate-400 text-sm mb-4"}," How often the bot checks and pets your Aavegotchis. Gotchis need petting at least every 12 hours for kinship. ",-1)),A("div",vg,[A("label",xg,[N[21]||(N[21]=A("span",{class:"text-slate-300 text-sm"},"Interval:",-1)),A("select",{value:i.value,disabled:a.value,onChange:N[1]||(N[1]=V=>T(Number(V.target.value))),class:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50"},[(D(),q(it,null,hr(g,V=>A("option",{key:V,value:V}," Every "+G(V)+" "+G(V===1?"hour":"hours"),9,Eg)),64))],40,Pg)]),a.value?(D(),q("span",$g,"Saving...")):te("",!0),c.value?(D(),q("span",Ag," Reverting in "+G(c.value)+"s... ",1)):(D(),q("button",{key:1,type:"button",onClick:N[2]||(N[2]=V=>O(60)),disabled:a.value,class:"px-4 py-2 text-sm bg-amber-600/80 hover:bg-amber-600 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"}," Test (1 min) ",8,Ig))])])])):te("",!0),p.value?(D(),q("div",Sg,[Yr(Q)])):te("",!0),p.value?(D(),q("div",Cg,[A("div",Bg,[A("div",Tg,[N[24]||(N[24]=A("h2",{class:"text-lg font-semibold"},"Worker Logs",-1)),A("button",{onClick:I,disabled:f.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},G(f.value?"Loading...":"Refresh"),9,kg)]),f.value&&o.value.length===0?(D(),q("div",_g,[...N[25]||(N[25]=[A("p",null,"Loading worker logs...",-1)])])):o.value.length===0?(D(),q("div",Ng,[...N[26]||(N[26]=[A("p",null,"No worker logs yet. Trigger a run to see logs.",-1)])])):(D(),q("div",Rg,[(D(!0),q(it,null,hr(o.value,(V,$e)=>(D(),q("div",{key:`${V.timestamp}-${$e}`,class:ze(["flex items-start gap-2 py-1.5 px-2 rounded hover:bg-white/5",{"text-slate-300":V.level==="info","text-amber-400":V.level==="warn","text-red-400":V.level==="error"}])},[A("span",Og,G(L(V.timestamp)),1),A("span",{class:ze(["shrink-0 w-10",{"text-amber-400":V.level==="warn","text-red-400":V.level==="error"}])}," ["+G(V.level.toUpperCase())+"] ",3),A("span",Fg,G(V.message),1)],2))),128))]))])])):te("",!0)])])}}}),zg=Qt({__name:"index",setup(e){return(t,n)=>{const r=Mg;return D(),fa(r)}}}),t6=Object.freeze(Object.defineProperty({__proto__:null,default:zg},Symbol.toStringTag,{value:"Module"}));export{C as B,mn as H,Ol as a,ue as b,Xn as c,wl as d,kt as e,je as f,mo as g,t6 as h,rr as i,_r as l,re as s};
