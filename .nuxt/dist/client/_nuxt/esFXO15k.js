const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D9sM3UdP.js","./BXwPthly.js"])))=>i.map(i=>d[i]);
import{F as sa,d as Jt,o as Mn,y as D,z as G,A as _,B as H,G as Ie,q as Ku,g as W,n as vs,H as bt,E as Yu,I as oa,J as ia,K as aa,C as Zr,k as nr}from"./BXwPthly.js";const Dt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],xs=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ca=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],ua=[...ca,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ju=[...ca,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ri=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],si=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],da=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],oi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Se(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new f0(e.type);return`${e.name}(${Pr(e.inputs,{includeName:t})})`}function Pr(e,{includeName:t=!1}={}){return e?e.map(n=>Xu(n,{includeName:t})).join(t?", ":","):""}function Xu(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Pr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Fe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function K(e){return Fe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const fa="2.46.1";let un={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${fa}`},S=class Ps extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof Ps?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Ps&&n.cause.docsPath||n.docsPath,o=(a=un.getDocsUrl)==null?void 0:a.call(un,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...un.version?[`Version: ${un.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=fa}walk(t){return la(this,t)}};function la(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?la(e.cause,t):t?null:e}class Qu extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ii extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ha extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Pr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Ln extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class e0 extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class t0 extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${K(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class n0 extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class r0 extends S{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class ai extends S{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class pa extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class s0 extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class o0 extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class ci extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Gt extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class ba extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class i0 extends S{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class a0 extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Se(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Se(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let c0=class extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class hr extends S{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Pr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class oo extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Se(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class u0 extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class d0 extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let ma=class extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class f0 extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let de=class extends S{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},ya=class extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ga=class extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class ui extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Xt(e,{dir:t,size:n=32}={}){return typeof e=="string"?nt(e,{dir:t,size:n}):l0(e,{dir:t,size:n})}function nt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ga({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function l0(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ga({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let io=class extends S{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},h0=class extends S{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class p0 extends S{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let b0=class extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Ee(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ke(e,{size:t}){if(K(e)>t)throw new b0({givenSize:K(e),maxSize:t})}function re(e,t={}){const{signed:n}=t;t.size&&ke(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function m0(e,t={}){let n=e;if(t.size&&(ke(n,{size:t.size}),n=Ee(n)),Ee(n)==="0x00")return!1;if(Ee(n)==="0x01")return!0;throw new p0(n)}function $e(e,t={}){const n=re(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new io({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}const y0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function he(e,t={}){return typeof e=="number"||typeof e=="bigint"?R(e,t):typeof e=="string"?qt(e,t):typeof e=="boolean"?wa(e,t):J(e,t)}function wa(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ke(n,{size:t.size}),Xt(n,{size:t.size})):n}function J(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=y0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ke(r,{size:t.size}),Xt(r,{dir:"right",size:t.size})):r}function R(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new io({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Xt(a,{size:r}):a}const g0=new TextEncoder;function qt(e,t={}){const n=g0.encode(e);return J(n,t)}const w0=new TextEncoder;function Qt(e,t={}){return typeof e=="number"||typeof e=="bigint"?x0(e,t):typeof e=="boolean"?v0(e,t):Fe(e)?ze(e,t):mt(e,t)}function v0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ke(n,{size:t.size}),Xt(n,{size:t.size})):n}const Le={zero:48,nine:57,A:65,F:70,a:97,f:102};function di(e){if(e>=Le.zero&&e<=Le.nine)return e-Le.zero;if(e>=Le.A&&e<=Le.F)return e-(Le.A-10);if(e>=Le.a&&e<=Le.f)return e-(Le.a-10)}function ze(e,t={}){let n=e;t.size&&(ke(n,{size:t.size}),n=Xt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=di(r.charCodeAt(a++)),u=di(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new S(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function x0(e,t){const n=R(e,t);return ze(n)}function mt(e,t={}){const n=w0.encode(e);return typeof t.size=="number"?(ke(n,{size:t.size}),Xt(n,{dir:"right",size:t.size})):n}const rr=BigInt(2**32-1),fi=BigInt(32);function P0(e,t=!1){return t?{h:Number(e&rr),l:Number(e>>fi&rr)}:{h:Number(e>>fi&rr)|0,l:Number(e&rr)|0}}function E0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=P0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const $0=(e,t,n)=>e<<n|t>>>32-n,I0=(e,t,n)=>t<<n|e>>>32-n,A0=(e,t,n)=>t<<n-32|e>>>64-n,S0=(e,t,n)=>e<<n-32|t>>>64-n,_t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function B0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function pn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function wt(e,...t){if(!B0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function C0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");pn(e.outputLen),pn(e.blockLen)}function Ht(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function va(e,t){wt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function T0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Vt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Kr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ne(e,t){return e<<32-t|e>>>t}const k0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function N0(e){for(let t=0;t<e.length;t++)e[t]=_0(e[t]);return e}const li=k0?e=>e:N0;function O0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Er(e){return typeof e=="string"&&(e=O0(e)),wt(e),e}function R0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];wt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class ao{}function xa(e){const t=r=>e().update(Er(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function F0(e=32){if(_t&&typeof _t.getRandomValues=="function")return _t.getRandomValues(new Uint8Array(e));if(_t&&typeof _t.randomBytes=="function")return Uint8Array.from(_t.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const z0=BigInt(0),dn=BigInt(1),M0=BigInt(2),L0=BigInt(7),j0=BigInt(256),U0=BigInt(113),Pa=[],Ea=[],$a=[];for(let e=0,t=dn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Pa.push(2*(5*r+n)),Ea.push((e+1)*(e+2)/2%64);let s=z0;for(let o=0;o<7;o++)t=(t<<dn^(t>>L0)*U0)%j0,t&M0&&(s^=dn<<(dn<<BigInt(o))-dn);$a.push(s)}const Ia=E0($a,!0),D0=Ia[0],G0=Ia[1],hi=(e,t,n)=>n>32?A0(e,t,n):$0(e,t,n),pi=(e,t,n)=>n>32?S0(e,t,n):I0(e,t,n);function q0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],f=hi(u,d,1)^n[a],l=pi(u,d,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=f,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Ea[i],c=hi(s,o,a),u=pi(s,o,a),d=Pa[i];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=D0[r],e[1]^=G0[r]}Vt(n)}class co extends ao{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,pn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=T0(this.state)}clone(){return this._cloneInto()}keccak(){li(this.state32),q0(this.state32,this.rounds),li(this.state32),this.posOut=0,this.pos=0}update(t){Ht(this),t=Er(t),wt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ht(this,!1),wt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return pn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(va(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Vt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new co(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const H0=(e,t,n)=>xa(()=>new co(t,e,n)),Aa=H0(1,136,256/8);function se(e,t){const n=t||"hex",r=Aa(Fe(e,{strict:!1})?Qt(e):e);return n==="bytes"?r:he(r)}let en=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const V0=/^0x[a-fA-F0-9]{40}$/,Yr=new en(8192);function te(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Yr.has(r))return Yr.get(r);const s=V0.test(e)?e.toLowerCase()===e?!0:n?jn(e)===e:!0:!1;return Yr.set(r,s),s}const Jr=new en(8192);function jn(e,t){if(Jr.has(`${e}.${t}`))return Jr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=se(mt(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Jr.set(`${e}.${t}`,o),o}function tt(e,t){if(!te(e,{strict:!1}))throw new de({address:e});return jn(e,t)}let bi=class extends S{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Sa=class extends S{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},W0=class extends S{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Z0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new W0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Sa({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new bi({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new bi({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function uo(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Z0);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function vt(e,t,n,{strict:r}={}){return Fe(e,{strict:!1})?Es(e,t,n,{strict:r}):Ta(e,t,n,{strict:r})}function Ba(e,t){if(typeof t=="number"&&t>0&&t>K(e)-1)throw new ya({offset:t,position:"start",size:K(e)})}function Ca(e,t,n){if(typeof t=="number"&&typeof n=="number"&&K(e)!==n-t)throw new ya({offset:n,position:"end",size:K(e)})}function Ta(e,t,n,{strict:r}={}){Ba(e,t);const s=e.slice(t,n);return r&&Ca(s,t,n),s}function Es(e,t,n,{strict:r}={}){Ba(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ca(s,t,n),s}function K0(e,t={}){typeof t.size<"u"&&ke(e,{size:t.size});const n=J(e,t);return re(n,t)}function Y0(e,t={}){let n=e;if(typeof t.size<"u"&&(ke(n,{size:t.size}),n=Ee(n)),n.length>1||n[0]>1)throw new h0(n);return!!n[0]}function He(e,t={}){typeof t.size<"u"&&ke(e,{size:t.size});const n=J(e,t);return $e(n,t)}function J0(e,t={}){let n=e;return typeof t.size<"u"&&(ke(n,{size:t.size}),n=Ee(n,{dir:"right"})),new TextDecoder().decode(n)}function oe(e){return typeof e[0]=="string"?_e(e):X0(e)}function X0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function _e(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const Q0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ka=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Bt(e,t){if(e.length!==t.length)throw new n0({expectedLength:e.length,givenLength:t.length});const n=ed({params:e,values:t}),r=lo(n);return r.length===0?"0x":r}function ed({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(fo({param:e[r],value:t[r]}));return n}function fo({param:e,value:t}){const n=ho(e.type);if(n){const[r,s]=n;return nd(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return ad(t,{param:e});if(e.type==="address")return td(t);if(e.type==="bool")return sd(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=ka.exec(e.type)??[];return od(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return rd(t,{param:e});if(e.type==="string")return id(t);throw new u0(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function lo(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=K(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(R(t+s,{size:32})),r.push(a),s+=K(a)):n.push(a)}return oe([...n,...r])}function td(e){if(!te(e))throw new de({address:e});return{dynamic:!1,encoded:nt(e.toLowerCase())}}function nd(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new ma(e);if(!r&&e.length!==t)throw new e0({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=fo({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=lo(o);if(r){const a=R(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?oe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:oe(o.map(({encoded:i})=>i))}}function rd(e,{param:t}){const[,n]=t.type.split("bytes"),r=K(e);if(!n){let s=e;return r%32!==0&&(s=nt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:oe([nt(R(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new t0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:nt(e,{dir:"right"})}}function sd(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:nt(wa(e))}}function od(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new io({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:R(e,{size:32,signed:t})}}function id(e){const t=qt(e),n=Math.ceil(K(t)/32),r=[];for(let s=0;s<n;s++)r.push(nt(vt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:oe([nt(R(K(t),{size:32})),...r])}}function ad(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=fo({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?lo(r):oe(r.map(({encoded:s})=>s))}}function ho(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Un(e,t){const n=typeof t=="string"?ze(t):t,r=uo(n);if(K(n)===0&&e.length>0)throw new Ln;if(K(t)&&K(t)<32)throw new ha({data:typeof t=="string"?t:J(t),params:e,size:K(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Lt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Lt(e,t,{staticPosition:n}){const r=ho(t.type);if(r){const[s,o]=r;return ud(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return hd(e,t,{staticPosition:n});if(t.type==="address")return cd(e);if(t.type==="bool")return dd(e);if(t.type.startsWith("bytes"))return fd(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ld(e,t);if(t.type==="string")return pd(e,{staticPosition:n});throw new d0(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const mi=32,$s=32;function cd(e){const t=e.readBytes(32);return[jn(J(Ta(t,-20))),32]}function ud(e,t,{length:n,staticPosition:r}){if(!n){const i=He(e.readBytes($s)),a=r+i,c=a+mi;e.setPosition(a);const u=He(e.readBytes(mi)),d=bn(t);let f=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(d?h*32:f));const[p,b]=Lt(e,t,{staticPosition:c});f+=b,l.push(p)}return e.setPosition(r+32),[l,32]}if(bn(t)){const i=He(e.readBytes($s)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[d]=Lt(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Lt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function dd(e){return[Y0(e.readBytes(32),{size:32}),32]}function fd(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=He(e.readBytes(32));e.setPosition(n+i);const a=He(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[J(c),32]}return[J(e.readBytes(Number.parseInt(s,10),32)),32]}function ld(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?K0(s,{signed:n}):He(s,{signed:n}),32]}function hd(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(bn(t)){const i=He(e.readBytes($s)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[d,f]=Lt(e,u,{staticPosition:a});o+=f,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Lt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function pd(e,{staticPosition:t}){const n=He(e.readBytes(32)),r=t+n;e.setPosition(r);const s=He(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=J0(Ee(o));return e.setPosition(t+32),[i,32]}function bn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(bn);const n=ho(e.type);return!!(n&&bn({...e,type:n[1]}))}const bd=e=>se(Qt(e));function md(e){return bd(e)}const yd="1.2.3";let be=class Is extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Is?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Is&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${yd}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ye(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const _a=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Na=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Oa=/^\(.+?\).*?$/,yi=/^tuple(?<array>(\[(\d*)\])*)$/;function As(e){let t=e.type;if(yi.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=As(o),s<n-1&&(t+=", ")}const r=Ye(yi,e.type);return t+=`)${(r==null?void 0:r.array)||""}`,As({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Rt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=As(s),r!==n-1&&(t+=", ")}return t}function pr(e){var t;return e.type==="function"?`function ${e.name}(${Rt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Rt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Rt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Rt(e.inputs)})`:e.type==="constructor"?`constructor(${Rt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ra=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function gd(e){return Ra.test(e)}function wd(e){return Ye(Ra,e)}const Fa=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function vd(e){return Fa.test(e)}function xd(e){return Ye(Fa,e)}const za=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Pd(e){return za.test(e)}function Ed(e){return Ye(za,e)}const Ma=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function $r(e){return Ma.test(e)}function $d(e){return Ye(Ma,e)}const La=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Id(e){return La.test(e)}function Ad(e){return Ye(La,e)}const ja=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Sd(e){return ja.test(e)}function Bd(e){return Ye(ja,e)}const Cd=/^receive\(\) external payable$/;function Td(e){return Cd.test(e)}const gi=new Set(["memory","indexed","storage","calldata"]),kd=new Set(["indexed"]),Ss=new Set(["calldata","memory","storage"]);class _d extends be{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Nd extends be{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Od extends be{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Rd extends be{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Fd extends be{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class zd extends be{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Md extends be{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Ld extends be{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class jd extends be{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class tn extends be{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Ud extends be{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Dd extends be{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Gd extends be{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class qd extends be{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Hd(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const Xr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Bs(e,t={}){if(Pd(e))return Vd(e,t);if(vd(e))return Wd(e,t);if(gd(e))return Zd(e,t);if(Id(e))return Kd(e,t);if(Sd(e))return Yd(e);if(Td(e))return{type:"receive",stateMutability:"payable"};throw new Ud({signature:e})}function Vd(e,t={}){const n=Ed(e);if(!n)throw new tn({signature:e,type:"function"});const r=we(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(We(r[a],{modifiers:Ss,structs:t,type:"function"}));const i=[];if(n.returns){const a=we(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(We(a[u],{modifiers:Ss,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Wd(e,t={}){const n=xd(e);if(!n)throw new tn({signature:e,type:"event"});const r=we(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(We(r[i],{modifiers:kd,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Zd(e,t={}){const n=wd(e);if(!n)throw new tn({signature:e,type:"error"});const r=we(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(We(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Kd(e,t={}){const n=Ad(e);if(!n)throw new tn({signature:e,type:"constructor"});const r=we(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(We(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Yd(e){const t=Bd(e);if(!t)throw new tn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Jd=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Xd=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Qd=/^u?int$/;function We(e,t){var f,l;const n=Hd(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Xr.has(n))return Xr.get(n);const r=Oa.test(e),s=Ye(r?Xd:Jd,e);if(!s)throw new Fd({param:e});if(s.name&&tf(s.name))throw new zd({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=we(s.type),p=[],b=h.length;for(let g=0;g<b;g++)p.push(We(h[g],{structs:a}));u={components:p}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Qd.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Ua(c))throw new Od({type:c});if(s.modifier){if(!((l=(f=t==null?void 0:t.modifiers)==null?void 0:f.has)!=null&&l.call(f,s.modifier)))throw new Md({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Ss.has(s.modifier)&&!nf(c,!!s.array))throw new Ld({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...i,...u};return Xr.set(n,d),d}function we(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?we(a,[...t,n.trim()]):we(a,t,`${n}${i}`,r);case"(":return we(a,t,`${n}${i}`,r+1);case")":return we(a,t,`${n}${i}`,r-1);default:return we(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new qd({current:n,depth:r});return t.push(n.trim()),t}function Ua(e){return e==="address"||e==="bool"||e==="function"||e==="string"||_a.test(e)||Na.test(e)}const ef=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function tf(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||_a.test(e)||Na.test(e)||ef.test(e)}function nf(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function po(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!$r(a))continue;const c=$d(a);if(!c)throw new tn({signature:a,type:"struct"});const u=c.properties.split(";"),d=[],f=u.length;for(let l=0;l<f;l++){const p=u[l].trim();if(!p)continue;const b=We(p,{type:"struct"});d.push(b)}if(!d.length)throw new Dd({signature:a});t[c.name]=d}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Da(c,t)}return r}const rf=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Da(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Oa.test(i.type))r.push(i);else{const c=Ye(rf,i.type);if(!(c!=null&&c.type))throw new jd({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new Gd({type:d});r.push({...i,type:`tuple${u??""}`,components:Da(t[d],t,new Set([...n,d]))})}else if(Ua(d))r.push(i);else throw new Nd({type:d})}}return r}function Ga(e){const t=po(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];$r(o)||n.push(Bs(o,t))}return n}function wi(e){let t;if(typeof e=="string")t=Bs(e);else{const n=po(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!$r(o)){t=Bs(o,n);break}}}if(!t)throw new _d({signature:e});return t}function vi(e){const t=[];if(typeof e=="string"){const n=we(e),r=n.length;for(let s=0;s<r;s++)t.push(We(n[s],{modifiers:gi}))}else{const n=po(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if($r(o))continue;const i=we(o),a=i.length;for(let c=0;c<a;c++)t.push(We(i[c],{modifiers:gi,structs:n}))}}if(t.length===0)throw new Rd({params:e});return t}function sf(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new S("Unable to normalize signature.");return s}const of=e=>{const t=typeof e=="string"?e:pr(e);return sf(t)};function qa(e){return md(of(e))}const Ir=qa,Dn=e=>vt(qa(e),0,4);function Ct(e){const{abi:t,args:n=[],name:r}=e,s=Fe(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Dn(a)===r:a.type==="event"?Ir(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const f="inputs"in a&&a.inputs[d];return f?Cs(u,f):!1})){if(i&&"inputs"in i&&i.inputs){const u=Ha(a.inputs,i.inputs,n);if(u)throw new a0({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Cs(e,t){const n=typeof e,r=t.type;switch(r){case"address":return te(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Cs(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Cs(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ha(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ha(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?te(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?te(n[r],{strict:!1}):!1)return i}}const Qr="/docs/contract/decodeFunctionResult";function it(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Ct({abi:t,args:n,name:r});if(!a)throw new Gt(r,{docsPath:Qr});o=a}if(o.type!=="function")throw new Gt(void 0,{docsPath:Qr});if(!o.outputs)throw new ba(o.name,{docsPath:Qr});const i=Un(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const xi="/docs/contract/encodeFunctionData";function af(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Ct({abi:t,args:n,name:r});if(!o)throw new Gt(r,{docsPath:xi});s=o}if(s.type!=="function")throw new Gt(void 0,{docsPath:xi});return{abi:[s],functionName:Dn(Se(s))}}function me(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:af(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?Bt(s.inputs,t??[]):void 0;return _e([o,i??"0x"])}class Ts extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class cf extends S{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class uf extends S{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Va extends S{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Ar extends S{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function nn({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Ts({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ts({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Z(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const df={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Wa={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ff={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function lf(e){const{abi:t,data:n}=e,r=vt(n,0,4);if(r==="0x")throw new Ln;const o=[...t||[],Wa,ff].find(i=>i.type==="error"&&r===Dn(Se(i)));if(!o)throw new pa(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Un(o.inputs,vt(n,4)):void 0,errorName:o.name}}const ee=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Za({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ee(t[o]):t[o]}`).join(", ")})`}const hf={gwei:9,wei:18},pf={ether:-9,wei:9};function Ka(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Sr(e,t="wei"){return Ka(e,hf[t])}function pe(e,t="wei"){return Ka(e,pf[t])}class bf extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class mf extends S{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Pi(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function yf(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Pi(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Pi(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Gn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class gf extends S{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class wf extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Gn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class vf extends S{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class xf extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l}){var p;const h=Gn({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:f,value:typeof l<"u"&&`${Sr(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${pe(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ya extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class Ja extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Xa extends S{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Pf extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Ef=e=>e,bo=e=>e;class Qa extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l,stateOverride:h}){var g;const p=n?Z(n):void 0;let b=Gn({from:p==null?void 0:p.address,to:f,value:typeof l<"u"&&`${Sr(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${pe(u)} gwei`,nonce:d});h&&(b+=`
${yf(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ec extends S{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Ct({abi:n,args:r,name:i}),u=c?Za({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?Se(c,{includeName:!0}):void 0,f=Gn({address:s&&Ef(s),function:d,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class ks extends S{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=lf({abi:t,data:n});const{abiItem:d,errorName:f,args:l}=i;if(f==="Error")c=l[0];else if(f==="Panic"){const[h]=l;c=df[h]}else{const h=d?Se(d,{includeName:!0}):void 0,p=d&&l?Za({abiItem:d,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof pa&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class $f extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class If extends S{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Br extends S{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function mo(e){var n,r,s,o,i,a;if(!(e instanceof S))return!1;const t=e.walk(c=>c instanceof ks);return t instanceof ks?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Af(e){const{abi:t,data:n}=e,r=vt(n,0,4),s=t.find(o=>o.type==="function"&&r===Dn(Se(o)));if(!s)throw new i0(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Un(s.inputs,vt(n,4)):void 0}}const es="/docs/contract/encodeErrorResult";function Ei(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Ct({abi:t,args:r,name:n});if(!c)throw new ai(n,{docsPath:es});s=c}if(s.type!=="error")throw new ai(void 0,{docsPath:es});const o=Se(s),i=Dn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new r0(s.name,{docsPath:es});a=Bt(s.inputs,r)}return _e([i,a])}const ts="/docs/contract/encodeFunctionResult";function Sf(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Ct({abi:t,name:n});if(!i)throw new Gt(n,{docsPath:ts});s=i}if(s.type!=="function")throw new Gt(void 0,{docsPath:ts});if(!s.outputs)throw new ba(s.name,{docsPath:ts});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new ma(r)})();return Bt(s.outputs,o)}const Cr="x-batch-gateway:true";async function Bf(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Af({abi:xs,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Cr)?await Bf({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Cf(c)}})),Sf({abi:xs,functionName:"query",result:[s,o]})}function Cf(e){return e.name==="HttpRequestError"&&e.status?Ei({abi:xs,errorName:"HttpError",args:[e.status,e.shortMessage]}):Ei({abi:[Wa],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function tc(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Fe(t)?t:null}function _s(e){let t=new Uint8Array(32).fill(0);if(!e)return J(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=tc(n[r]),o=s?Qt(s):se(mt(n[r]),"bytes");t=se(oe([t,o]),"bytes")}return J(t)}function Tf(e){return`[${e.slice(2)}]`}function kf(e){const t=new Uint8Array(32).fill(0);return e?tc(e)||se(mt(e)):J(t)}function yo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(mt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=mt(s[o]);i.byteLength>255&&(i=mt(Tf(kf(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class hn extends S{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${bo(i)}`,t&&`Request body: ${ee(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class go extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${bo(r)}`,`Request body: ${ee(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class $i extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${bo(n)}`,`Request body: ${ee(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const _f=-1;class ye extends S{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof go?t.code:n??_f}}class ge extends ye{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class mn extends ye{constructor(t){super(t,{code:mn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class yn extends ye{constructor(t){super(t,{code:yn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class gn extends ye{constructor(t,{method:n}={}){super(t,{code:gn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class wn extends ye{constructor(t){super(t,{code:wn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class xt extends ye{constructor(t){super(t,{code:xt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class st extends ye{constructor(t){super(t,{code:st.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(st,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class vn extends ye{constructor(t){super(t,{code:vn.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class rt extends ye{constructor(t){super(t,{code:rt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class xn extends ye{constructor(t){super(t,{code:xn.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class lt extends ye{constructor(t,{method:n}={}){super(t,{code:lt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Wt extends ye{constructor(t){super(t,{code:Wt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Pn extends ye{constructor(t){super(t,{code:Pn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ae extends ge{constructor(t){super(t,{code:ae.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class En extends ge{constructor(t){super(t,{code:En.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class $n extends ge{constructor(t,{method:n}={}){super(t,{code:$n.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class In extends ge{constructor(t){super(t,{code:In.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class An extends ge{constructor(t){super(t,{code:An.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Pt extends ge{constructor(t){super(t,{code:Pt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Zt extends ge{constructor(t){super(t,{code:Zt.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Sn extends ge{constructor(t){super(t,{code:Sn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Bn extends ge{constructor(t){super(t,{code:Bn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Cn extends ge{constructor(t){super(t,{code:Cn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Tn extends ge{constructor(t){super(t,{code:Tn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class kn extends ge{constructor(t){super(t,{code:kn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Kt extends ge{constructor(t){super(t,{code:Kt.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class _n extends ge{constructor(t){super(t,{code:_n.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class Nf extends ye{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Of=3;function Et(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Br?e:e instanceof S?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:d,message:f,shortMessage:l}=a,h=e instanceof Ln?new $f({functionName:o}):[Of,xt.code].includes(c)&&(u||d||f||l)||c===st.code&&d==="execution reverted"&&u?new ks({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof go?d:l??f}):e;return new ec(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wo=BigInt(0),Ns=BigInt(1);function qn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function vo(e){if(!qn(e))throw new Error("Uint8Array expected")}function Nn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function sr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function nc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?wo:BigInt("0x"+e)}const rc=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Rf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function On(e){if(vo(e),rc)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Rf[e[n]];return t}const je={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ii(e){if(e>=je._0&&e<=je._9)return e-je._0;if(e>=je.A&&e<=je.F)return e-(je.A-10);if(e>=je.a&&e<=je.f)return e-(je.a-10)}function br(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(rc)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Ii(e.charCodeAt(o)),a=Ii(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function yt(e){return nc(On(e))}function sc(e){return vo(e),nc(On(Uint8Array.from(e).reverse()))}function Hn(e,t){return br(e.toString(16).padStart(t*2,"0"))}function oc(e,t){return Hn(e,t).reverse()}function Pe(e,t,n){let r;if(typeof t=="string")try{r=br(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(qn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function mr(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];vo(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const ns=e=>typeof e=="bigint"&&wo<=e;function xo(e,t,n){return ns(e)&&ns(t)&&ns(n)&&t<=e&&e<n}function jt(e,t,n,r){if(!xo(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Ff(e){let t;for(t=0;e>wo;e>>=Ns,t+=1);return t}const Tr=e=>(Ns<<BigInt(e))-Ns,rs=e=>new Uint8Array(e),Ai=e=>Uint8Array.from(e);function zf(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=rs(e),s=rs(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...f)=>n(s,r,...f),c=(f=rs(0))=>{s=a(Ai([0]),f),r=a(),f.length!==0&&(s=a(Ai([1]),f),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const l=[];for(;f<t;){r=a();const h=r.slice();l.push(h),f+=r.length}return mr(...l)};return(f,l)=>{i(),c(f);let h;for(;!(h=l(u()));)c();return i(),h}}const Mf={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||qn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function kr(e,t,n={}){const r=(s,o,i)=>{const a=Mf[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Si(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Lf="0.1.1";function jf(){return Lf}let q=class De extends Error{static setStaticOptions(t){De.prototype.docsOrigin=t.docsOrigin,De.prototype.showVersion=t.showVersion,De.prototype.version=t.version}constructor(t,n={}){const r=(()=>{var d;if(n.cause instanceof De){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof De&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??De.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??De.prototype.showVersion),c=n.version??De.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return ic(this,t)}};Object.defineProperty(q,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${jf()}`}});q.setStaticOptions(q.defaultStaticOptions);function ic(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ic(e.cause,t):t?null:e}function Vn(e,t){if(Ft(e)>t)throw new rl({givenSize:Ft(e),maxSize:t})}const Ue={zero:48,nine:57,A:65,F:70,a:97,f:102};function Bi(e){if(e>=Ue.zero&&e<=Ue.nine)return e-Ue.zero;if(e>=Ue.A&&e<=Ue.F)return e-(Ue.A-10);if(e>=Ue.a&&e<=Ue.f)return e-(Ue.a-10)}function Uf(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new sl({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function ac(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function _r(e,t){if(ve(e)>t)throw new dl({givenSize:ve(e),maxSize:t})}function Df(e,t){if(typeof t=="number"&&t>0&&t>ve(e)-1)throw new mc({offset:t,position:"start",size:ve(e)})}function Gf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ve(e)!==n-t)throw new mc({offset:n,position:"end",size:ve(e)})}function cc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new fl({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const qf="#__bigint";function uc(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+qf:s,n)}const Hf=new TextDecoder,Vf=new TextEncoder;function Wf(e){return e instanceof Uint8Array?e:typeof e=="string"?dc(e):Zf(e)}function Zf(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function dc(e,t={}){const{size:n}=t;let r=e;n&&(_r(e,n),r=It(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Bi(s.charCodeAt(c++)),d=Bi(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new q(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u<<4|d}return i}function Kf(e,t={}){const{size:n}=t,r=Vf.encode(e);return typeof n=="number"?(Vn(r,n),Yf(r,n)):r}function Yf(e,t){return Uf(e,{dir:"right",size:t})}function Ft(e){return e.length}function Jf(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Xf(e,t={}){const{size:n}=t;typeof n<"u"&&Vn(e,n);const r=Ce(e,t);return hc(r,t)}function Qf(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Vn(r,n),r=fc(r)),r.length>1||r[0]>1)throw new nl(r);return!!r[0]}function Ve(e,t={}){const{size:n}=t;typeof n<"u"&&Vn(e,n);const r=Ce(e,t);return pc(r,t)}function el(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Vn(r,n),r=tl(r)),Hf.decode(r)}function fc(e){return ac(e,{dir:"left"})}function tl(e){return ac(e,{dir:"right"})}class nl extends q{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let rl=class extends q{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},sl=class extends q{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const ol=new TextEncoder,il=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function al(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ci(e);if(typeof e!="string")throw new Ci(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ti(e);if(!e.startsWith("0x"))throw new Ti(e)}function Be(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function cl(e){return e instanceof Uint8Array?Ce(e):Array.isArray(e)?Ce(new Uint8Array(e)):e}function lc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(_r(n,t.size),$t(n,t.size)):n}function Ce(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=il[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(_r(r,t.size),It(r,t.size)):r}function ce(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new bc({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?$t(c,r):c}function Po(e,t={}){return Ce(ol.encode(e),t)}function $t(e,t){return cc(e,{dir:"left",size:t})}function It(e,t){return cc(e,{dir:"right",size:t})}function Re(e,t,n,r={}){const{strict:s}=r;Df(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Gf(o,t,n),o}function ve(e){return Math.ceil((e.length-2)/2)}function hc(e,t={}){const{signed:n}=t;t.size&&_r(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function pc(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:hc(e,t))}function ul(e,t={}){const{strict:n=!1}=t;try{return al(e,{strict:n}),!0}catch{return!1}}class bc extends q{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ci extends q{constructor(t){super(`Value \`${typeof t=="object"?uc(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ti extends q{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class dl extends q{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class mc extends q{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class fl extends q{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function ll(e){return{address:e.address,amount:ce(e.amount),index:ce(e.index),validatorIndex:ce(e.validatorIndex)}}function yc(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:ce(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:ce(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:ce(e.gasLimit)},...typeof e.number=="bigint"&&{number:ce(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:ce(e.prevRandao)},...typeof e.time=="bigint"&&{time:ce(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(ll)}}}const hl="0x82ad56cb",gc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",pl="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",bl="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Eo="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",ss="/docs/contract/encodeDeployData";function Nr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Qu({docsPath:ss});if(!("inputs"in s))throw new ii({docsPath:ss});if(!s.inputs||s.inputs.length===0)throw new ii({docsPath:ss});const o=Bt(s.inputs,n);return _e([r,o])}class zt extends S{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(zt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class At extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${pe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(At,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Os extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${pe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Os,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Rs extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Rs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Fs extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class zs extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ms extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ms,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Ls extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ls,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class js extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Us extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Rn extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${pe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${pe(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Rn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Wn extends S{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Or(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(s=>(s==null?void 0:s.code)===zt.code):e;return r instanceof S?new zt({cause:e,message:r.details}):zt.nodeMessage.test(n)?new zt({cause:e,message:e.details}):At.nodeMessage.test(n)?new At({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Os.nodeMessage.test(n)?new Os({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Rs.nodeMessage.test(n)?new Rs({cause:e,nonce:t==null?void 0:t.nonce}):Fs.nodeMessage.test(n)?new Fs({cause:e,nonce:t==null?void 0:t.nonce}):zs.nodeMessage.test(n)?new zs({cause:e,nonce:t==null?void 0:t.nonce}):Ms.nodeMessage.test(n)?new Ms({cause:e}):Ls.nodeMessage.test(n)?new Ls({cause:e,gas:t==null?void 0:t.gas}):js.nodeMessage.test(n)?new js({cause:e,gas:t==null?void 0:t.gas}):Us.nodeMessage.test(n)?new Us({cause:e}):Rn.nodeMessage.test(n)?new Rn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Wn({cause:e})}function wc(e,{docsPath:t,...n}){const r=(()=>{const s=Or(e,n);return s instanceof Wn?e:s})();return new Qa(r,{docsPath:t,...n})}function rn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function $o(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const a of n)delete i[a];return{...i,...r(s,o)}},type:e})}const ml={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function at(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=yl(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>J(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=R(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=R(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=R(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=R(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=R(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=R(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=ml[e.type]),typeof e.value<"u"&&(n.value=R(e.value)),n}function yl(e){return e.map(t=>({address:t.address,r:t.r?R(BigInt(t.r)):t.r,s:t.s?R(BigInt(t.s)):t.s,chainId:R(t.chainId),nonce:R(t.nonce),...typeof t.yParity<"u"?{yParity:R(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:R(t.v)}:{}}))}function Io(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const os=new Map;function vc({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();i();const f=d.map(({args:l})=>l);f.length!==0&&e(f).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<d.length;h++){const{resolve:p}=d[h];p==null||p([l[h],l])}}).catch(l=>{for(let h=0;h<d.length;h++){const{reject:p}=d[h];p==null||p(l)}})},i=()=>os.delete(t),a=()=>c().map(({args:d})=>d),c=()=>os.get(t)||[],u=d=>os.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:f,resolve:l,reject:h}=Io();return(n==null?void 0:n([...a(),d]))&&o(),c().length>0?(u({args:d,resolve:l,reject:h}),f):(u({args:d,resolve:l,reject:h}),setTimeout(o,r),f)}}}function ki(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new ui({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ui({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function gl(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=R(t)),n!==void 0&&(i.nonce=R(n)),r!==void 0&&(i.state=ki(r)),s!==void 0){if(i.state)throw new mf;i.stateDiff=ki(s)}return i}function Ao(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!te(n,{strict:!1}))throw new de({address:n});if(t[n])throw new bf({address:n});t[n]=gl(r)}return t}const Rr=2n**256n-1n;function Je(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?Z(t):void 0;if(o&&!te(o.address))throw new de({address:o.address});if(s&&!te(s))throw new de({address:s});if(n&&n>Rr)throw new At({maxFeePerGas:n});if(r&&n&&r>n)throw new Rn({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function Zn(e,t){var T,j,A,N;const{account:n=e.account,authorizationList:r,batch:s=!!((T=e.batch)!=null&&T.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:d,data:f,factory:l,factoryData:h,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:P,maxPriorityFeePerGas:E,nonce:w,to:v,value:m,stateOverride:y,...x}=t,$=n?Z(n):void 0;if(d&&(l||h))throw new S("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&v)throw new S("Cannot provide both `code` & `to` as parameters.");const I=d&&f,O=l&&h&&v&&f,B=I||O,C=I?xc({code:d,data:f}):O?xl({data:f,factory:l,factoryData:h,to:v}):f;try{Je(t);const k=(typeof o=="bigint"?R(o):void 0)||i,z=u?yc(u):void 0,L=Ao(y),U=(N=(A=(j=e.chain)==null?void 0:j.formatters)==null?void 0:A.transactionRequest)==null?void 0:N.format,X=(U||at)({...rn(x,{format:U}),accessList:a,account:$,authorizationList:r,blobs:c,data:C,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:P,maxPriorityFeePerGas:E,nonce:w,to:B?void 0:v,value:m},"call");if(s&&wl({request:X})&&!L&&!z)try{return await vl(e,{...X,blockNumber:o,blockTag:i})}catch(ie){if(!(ie instanceof Va)&&!(ie instanceof Ts))throw ie}const Y=(()=>{const ie=[X,k];return L&&z?[...ie,L,z]:L?[...ie,L]:z?[...ie,{},z]:ie})(),Q=await e.request({method:"eth_call",params:Y});return Q==="0x"?{data:void 0}:{data:Q}}catch(F){const k=Pl(F),{offchainLookup:z,offchainLookupSignature:L}=await sa(async()=>{const{offchainLookup:U,offchainLookupSignature:V}=await import("./D9sM3UdP.js");return{offchainLookup:U,offchainLookupSignature:V}},__vite__mapDeps([0,1]),import.meta.url);if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===L&&v)return{data:await z(e,{data:k,to:v})};throw B&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new If({factory:l}):wc(F,{...t,account:$,chain:e.chain})}}function wl({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(hl)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function vl(e,t){var b;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return nn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Va})(),f=(typeof o=="bigint"?R(o):void 0)||i,{schedule:l}=vc({id:`${e.uid}.${f}`,wait:s,shouldSplitBatch(g){return g.reduce((E,{data:w})=>E+(w.length-2),0)>n*2},fn:async g=>{const P=g.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),E=me({abi:Dt,args:[P],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:xc({code:Eo,data:E})}:{to:u,data:E}},f]});return it({abi:Dt,args:[P],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:h,success:p}]=await l({data:a,to:c});if(!p)throw new Br({data:h});return h==="0x"?{data:void 0}:{data:h}}function xc(e){const{code:t,data:n}=e;return Nr({abi:Ga(["constructor(bytes, bytes)"]),bytecode:gc,args:[t,n]})}function xl(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Nr({abi:Ga(["constructor(address, bytes, address, bytes)"]),bytecode:pl,args:[s,t,n,r]})}function Pl(e){var n;if(!(e instanceof S))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Te(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=me({abi:n,args:s,functionName:o});try{const{data:c}=await M(e,Zn,"call")({...i,data:a,to:r});return it({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Et(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function El(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return nn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(l=>o.endsWith(l)))return null;const f=s!=null?[_s(o),BigInt(s)]:[_s(o)];try{const l=me({abi:si,functionName:"addr",args:f}),h={address:u,abi:ua,functionName:"resolveWithGateways",args:[he(yo(o)),l,i??[Cr]],blockNumber:n,blockTag:r},b=await M(e,Te,"readContract")(h);if(b[0]==="0x")return null;const g=it({abi:si,args:f,functionName:"addr",data:b[0]});return g==="0x"||Ee(g)==="0x00"?null:g}catch(l){if(a)throw l;if(mo(l))return null;throw l}}class $l extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class fn extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class So extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Il extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Al=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Sl=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Bl=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Cl=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Tl(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function _i(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Pc({uri:e,gatewayUrls:t}){const n=Bl.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=_i(t==null?void 0:t.ipfs,"https://ipfs.io"),s=_i(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Al),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=i==="ipns:/"||a==="ipns/",f=i==="ipfs:/"||a==="ipfs/"||Sl.test(e);if(e.startsWith("http")&&!d&&!f){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Cl,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new So({uri:e})}function Ec(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new $l({data:e});return e.image||e.image_url||e.image_data}async function kl({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Bo({gatewayUrls:e,uri:Ec(n)})}catch{throw new So({uri:t})}}async function Bo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Pc({uri:t,gatewayUrls:e});if(r||await Tl(n))return n;throw new So({uri:t})}function _l(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new fn({reason:"Only EIP-155 supported"});if(!i)throw new fn({reason:"Chain ID not found"});if(!c)throw new fn({reason:"Contract address not found"});if(!s)throw new fn({reason:"Token ID not found"});if(!a)throw new fn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Nl(e,{nft:t}){if(t.namespace==="erc721")return Te(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Te(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Il({namespace:t.namespace})}async function Ol(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Rl(e,{gatewayUrls:t,record:n}):Bo({uri:n,gatewayUrls:t})}async function Rl(e,{gatewayUrls:t,record:n}){const r=_l(n),s=await Nl(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Pc({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return Bo({uri:Ec(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),kl({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function $c(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return nn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{const f={address:u,abi:ua,args:[he(yo(o)),me({abi:ri,functionName:"text",args:[_s(o),s]}),i??[Cr]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await M(e,Te,"readContract")(f);if(h[0]==="0x")return null;const p=it({abi:ri,functionName:"text",data:h[0]});return p===""?null:p}catch(f){if(a)throw f;if(mo(f))return null;throw f}}async function Fl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await M(e,$c,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Ol(e,{record:c,gatewayUrls:r})}catch{return null}}async function zl(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return nn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:Ju,args:[n,o,i??[Cr]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},f=M(e,Te,"readContract"),[l]=await f(d);return l||null}catch(d){if(a)throw d;if(mo(d))return null;throw d}}async function Ml(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return nn({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await M(e,Te,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[he(yo(s))],blockNumber:n,blockTag:r});return c}async function Ic(e,t){var g,P,E;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:h,...p}=t,b=n?Z(n):void 0;try{Je(t);const v=(typeof r=="bigint"?R(r):void 0)||s,m=(E=(P=(g=e.chain)==null?void 0:g.formatters)==null?void 0:P.transactionRequest)==null?void 0:E.format,x=(m||at)({...rn(p,{format:m}),account:b,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:h},"createAccessList"),$=await e.request({method:"eth_createAccessList",params:[x,v]});return{accessList:$.accessList,gasUsed:BigInt($.gasUsed)}}catch(w){throw wc(w,{...t,account:b,chain:e.chain})}}function Fr(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),(o=>n[o]||e.request)}async function Ll(e){const t=Fr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class jl extends S{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Ni="/docs/contract/encodeEventTopics";function Kn(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Ct({abi:t,name:n});if(!u)throw new ci(n,{docsPath:Ni});s=u}if(s.type!=="event")throw new ci(void 0,{docsPath:Ni});const o=Se(s),i=Ir(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(f=>r[f.name]))??[]:[];d.length>0&&(a=(u==null?void 0:u.map((f,l)=>Array.isArray(d[l])?d[l].map((h,p)=>Oi({param:f,value:d[l][p]})):typeof d[l]<"u"&&d[l]!==null?Oi({param:f,value:d[l]}):null))??[])}return[i,...a]}function Oi({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return se(Qt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new jl(e.type);return Bt([e],[t])}async function Ac(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Fr(e,{method:"eth_newFilter"}),d=o?Kn({abi:r,args:s,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?R(i):i,toBlock:typeof c=="bigint"?R(c):c,topics:d}]});return{abi:r,args:s,eventName:o,id:f,request:u(f),strict:!!a,type:"event"}}async function Sc(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Fr(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(h=>Kn({abi:[h],eventName:h.name,args:n}))],r&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?R(o):o,toBlock:typeof a=="bigint"?R(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:f,request:u(f),strict:!!i,toBlock:a,type:"event"}}async function Bc(e){const t=Fr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function Ul(e){const t=se(`0x${e.substring(4)}`).substring(26);return jn(`0x${t}`)}async function Dl({hash:e,signature:t}){const n=Fe(e)?e:he(e),{secp256k1:r}=await sa(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>ip);return{secp256k1:i}},void 0,import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:f,yParity:l}=t,h=Number(l??f),p=Ri(h);return new r.Signature(re(u),re(d)).addRecoveryBit(p)}const i=Fe(t)?t:he(t);if(K(i)!==65)throw new Error("invalid signature length");const a=$e(`0x${i.slice(130)}`),c=Ri(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ri(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Cc({hash:e,signature:t}){return Ul(await Dl({hash:e,signature:t}))}function ot(e,t="hex"){const n=Tc(e),r=uo(new Uint8Array(n.length));return n.encode(r),t==="hex"?J(r.bytes):r.bytes}function Tc(e){return Array.isArray(e)?Gl(e.map(t=>Tc(t))):ql(e)}function Gl(e){const t=e.reduce((s,o)=>s+o.length,0),n=kc(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function ql(e){const t=typeof e=="string"?ze(e):e,n=kc(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function kc(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new S("Length is too large.")}function Hl(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=se(_e(["0x05",ot([t?R(t):"0x",s,n?R(n):"0x"])]));return r==="bytes"?ze(o):o}async function zr(e){const{authorization:t,signature:n}=e;return Cc({hash:Hl(t),signature:n??t})}class Vl extends S{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l}){var p;const h=Gn({from:n==null?void 0:n.address,to:f,value:typeof l<"u"&&`${Sr(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${pe(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Wl(e,{docsPath:t,...n}){const r=(()=>{const s=Or(e,n);return s instanceof Wn?e:s})();return new Vl(r,{docsPath:t,...n})}class _c extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Co extends S{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Zl extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${pe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Nc extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Oc={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Yn(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?$e(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?$e(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Oc[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Yl(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Kl=$o("transaction",Yn);function Yl(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function To(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Yn(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Jl=$o("block",To);async function Ae(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,f;const o=s??!1,i=n!==void 0?R(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new Nc({blockHash:t,blockNumber:n});return(((f=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:f.format)||To)(a,"getBlock")}async function ko(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Xl(e,t){return Rc(e,t)}async function Rc(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await M(e,Ae,"getBlock")({}),d=await a({block:u,client:e,request:s});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return re(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):M(e,Ae,"getBlock")({}),M(e,ko,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Co;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Ql(e,t){return Ds(e,t)}async function Ds(e,t){var l,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var p,b;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(i<1)throw new _c;const c=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=p=>p*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await M(e,Ae,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Co;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Rc(e,{block:d,chain:r,request:s}),b=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await M(e,ko,"getGasPrice")({}))}}async function _o(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?R(r):n]},{dedupe:!!r});return $e(s)}function No(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ze(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>J(o))}function Oo(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ze(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>ze(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>J(i))}function eh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function th(e,t,n){return e&t^~e&n}function nh(e,t,n){return e&t^e&n^t&n}class rh extends ao{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Kr(this.buffer)}update(t){Ht(this),t=Er(t),wt(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Kr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ht(this),va(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Vt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let f=i;f<s;f++)n[f]=0;eh(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Kr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Qe=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),et=new Uint32Array(64);class oh extends rh{constructor(t=32){super(64,t,8,!1),this.A=Qe[0]|0,this.B=Qe[1]|0,this.C=Qe[2]|0,this.D=Qe[3]|0,this.E=Qe[4]|0,this.F=Qe[5]|0,this.G=Qe[6]|0,this.H=Qe[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)et[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const l=et[f-15],h=et[f-2],p=Ne(l,7)^Ne(l,18)^l>>>3,b=Ne(h,17)^Ne(h,19)^h>>>10;et[f]=b+et[f-7]+p+et[f-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const l=Ne(a,6)^Ne(a,11)^Ne(a,25),h=d+l+th(a,c,u)+sh[f]+et[f]|0,b=(Ne(r,2)^Ne(r,13)^Ne(r,22))+nh(r,s,o)|0;d=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+b|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,c,u,d)}roundClean(){Vt(et)}destroy(){this.set(0,0,0,0,0,0,0,0),Vt(this.buffer)}}const Fc=xa(()=>new oh),ih=Fc;function ah(e,t){return ih(Fe(e,{strict:!1})?Qt(e):e)}function ch(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=ah(t);return s.set([n],0),r==="bytes"?s:J(s)}function zc(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(ch({commitment:o,to:r,version:n}));return s}const Fi=6,Mc=32,Ro=4096,Lc=Mc*Ro,zi=Lc*Fi-1-1*Ro*Fi,jc=1;class uh extends S{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Uc extends S{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class dh extends S{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class fh extends S{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${jc}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function lh(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ze(e.data):e.data,r=K(n);if(!r)throw new Uc;if(r>zi)throw new uh({maxSize:zi,size:r});const s=[];let o=!0,i=0;for(;o;){const a=uo(new Uint8Array(Lc));let c=0;for(;c<Ro;){const u=n.slice(i,i+(Mc-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>J(a.bytes))}function Dc(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??lh({data:t,to:r}),o=e.commitments??No({blobs:s,kzg:n,to:r}),i=e.proofs??Oo({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Gc(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new wf({transaction:e})}function Mr(e,{docsPath:t,...n}){const r=(()=>{const s=Or(e,n);return s instanceof Wn?e:s})();return new xf(r,{docsPath:t,...n})}async function ct(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return $e(t)}async function Fo(e,t){var $,I,O,B,C;const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,nonceManager:b,to:g,type:P,value:E,...w}=t,v=await(async()=>{if(!n||!b||typeof p<"u")return p;const T=Z(n),j=o?o.id:await M(e,ct,"getChainId")({});return await b.consume({address:T.address,chainId:j,client:e})})();Je(t);const m=(I=($=o==null?void 0:o.formatters)==null?void 0:$.transactionRequest)==null?void 0:I.format,x=(m||at)({...rn(w,{format:m}),account:n?Z(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:v,to:g,type:P,value:E},"fillTransaction");try{const T=await e.request({method:"eth_fillTransaction",params:[x]}),A=(((B=(O=o==null?void 0:o.formatters)==null?void 0:O.transaction)==null?void 0:B.format)||Yn)(T.tx);delete A.blockHash,delete A.blockNumber,delete A.r,delete A.s,delete A.transactionIndex,delete A.v,delete A.yParity,A.data=A.input,A.gas&&(A.gas=t.gas??A.gas),A.gasPrice&&(A.gasPrice=t.gasPrice??A.gasPrice),A.maxFeePerBlobGas&&(A.maxFeePerBlobGas=t.maxFeePerBlobGas??A.maxFeePerBlobGas),A.maxFeePerGas&&(A.maxFeePerGas=t.maxFeePerGas??A.maxFeePerGas),A.maxPriorityFeePerGas&&(A.maxPriorityFeePerGas=t.maxPriorityFeePerGas??A.maxPriorityFeePerGas),A.nonce&&(A.nonce=t.nonce??A.nonce);const N=await(async()=>{var L,U;if(typeof((L=o==null?void 0:o.fees)==null?void 0:L.baseFeeMultiplier)=="function"){const V=await M(e,Ae,"getBlock")({});return o.fees.baseFeeMultiplier({block:V,client:e,request:t})}return((U=o==null?void 0:o.fees)==null?void 0:U.baseFeeMultiplier)??1.2})();if(N<1)throw new _c;const k=10**(((C=N.toString().split(".")[1])==null?void 0:C.length)??0),z=L=>L*BigInt(Math.ceil(N*k))/BigInt(k);return A.maxFeePerGas&&!t.maxFeePerGas&&(A.maxFeePerGas=z(A.maxFeePerGas)),A.gasPrice&&!t.gasPrice&&(A.gasPrice=z(A.gasPrice)),{raw:T.raw,transaction:{from:x.from,...A}}}catch(T){throw Mr(T,{...t,chain:e.chain})}}const zo=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Mi=new Map,is=new en(128);async function Jn(e,t){var v,m,y;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=zo);const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await M(e,ct,"getChainId")({}),c))}const d=r&&Z(r);let f=n.nonce;if(i.includes("nonce")&&typeof f>"u"&&d&&o){const x=await u();f=await o.consume({address:d.address,chainId:x,client:e})}a!=null&&a.fn&&((v=a.runAt)!=null&&v.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),f??(f=n.nonce));const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||is.get(e.uid)===!1||!["fees","gas"].some($=>i.includes($))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof f!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await M(e,Fo,"fillTransaction")({...n,nonce:f}).then(x=>{const{chainId:$,from:I,gas:O,gasPrice:B,nonce:C,maxFeePerBlobGas:T,maxFeePerGas:j,maxPriorityFeePerGas:A,type:N,...F}=x.transaction;return is.set(e.uid,!0),{...n,...I?{from:I}:{},...N?{type:N}:{},...typeof $<"u"?{chainId:$}:{},...typeof O<"u"?{gas:O}:{},...typeof B<"u"?{gasPrice:B}:{},...typeof C<"u"?{nonce:C}:{},...typeof T<"u"?{maxFeePerBlobGas:T}:{},...typeof j<"u"?{maxFeePerGas:j}:{},...typeof A<"u"?{maxPriorityFeePerGas:A}:{},..."nonceKey"in F&&typeof F.nonceKey<"u"?{nonceKey:F.nonceKey}:{}}}).catch(x=>{var O;const $=x;return $.name!=="TransactionExecutionError"||((O=$.walk)==null?void 0:O.call($,B=>{const C=B;return C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError"}))&&is.set(e.uid,!1),n}):n;f??(f=h.nonce),n={...h,...d?{from:d==null?void 0:d.address}:{},...f?{nonce:f}:{}};const{blobs:p,gas:b,kzg:g,type:P}=n;a!=null&&a.fn&&((m=a.runAt)!=null&&m.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let E;async function w(){return E||(E=await M(e,Ae,"getBlock")({blockTag:"latest"}),E)}if(i.includes("nonce")&&typeof f>"u"&&d&&!o&&(n.nonce=await M(e,_o,"getTransactionCount")({address:d.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&p&&g){const x=No({blobs:p,kzg:g});if(i.includes("blobVersionedHashes")){const $=zc({commitments:x,to:"hex"});n.blobVersionedHashes=$}if(i.includes("sidecars")){const $=Oo({blobs:p,commitments:x,kzg:g}),I=Dc({blobs:p,commitments:x,proofs:$,to:"hex"});n.sidecars=I}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof P>"u")try{n.type=Gc(n)}catch{let x=Mi.get(e.uid);if(typeof x>"u"){const $=await w();x=typeof($==null?void 0:$.baseFeePerGas)=="bigint",Mi.set(e.uid,x)}n.type=x?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const x=await w(),{maxFeePerGas:$,maxPriorityFeePerGas:I}=await Ds(e,{block:x,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<I)throw new Zl({maxPriorityFeePerGas:I});n.maxPriorityFeePerGas=I,n.maxFeePerGas=$}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Co;if(typeof n.gasPrice>"u"){const x=await w(),{gasPrice:$}=await Ds(e,{block:x,chain:s,request:n,type:"legacy"});n.gasPrice=$}}return i.includes("gas")&&typeof b>"u"&&(n.gas=await M(e,Mo,"estimateGas")({...n,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((y=a.runAt)!=null&&y.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),Je(n),delete n.parameters,n}async function Mo(e,t){var i,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?Z(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await zr({authorization:t.authorizationList[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:f,blobs:l,blobVersionedHashes:h,blockNumber:p,blockTag:b,data:g,gas:P,gasPrice:E,maxFeePerBlobGas:w,maxFeePerGas:v,maxPriorityFeePerGas:m,nonce:y,value:x,stateOverride:$,...I}=r?await Jn(e,{...t,parameters:o,to:u}):t;if(P&&t.gas!==P)return P;const B=(typeof p=="bigint"?R(p):void 0)||b,C=Ao($);Je(t);const T=(c=(a=(i=e.chain)==null?void 0:i.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,A=(T||at)({...rn(I,{format:T}),account:s,accessList:d,authorizationList:f,blobs:l,blobVersionedHashes:h,data:g,gasPrice:E,maxFeePerBlobGas:w,maxFeePerGas:v,maxPriorityFeePerGas:m,nonce:y,to:u,value:x},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:C?[A,B??e.experimental_blockTag??"latest",C]:B?[A,B]:[A]}))}catch(u){throw Wl(u,{...t,account:s,chain:e.chain})}}async function hh(e,t){var u;const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:(u=e.dataSuffix)==null?void 0:u.value,...a}=t,c=me({abi:n,args:s,functionName:o});try{return await M(e,Mo,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(d){const f=a.account?Z(a.account):void 0;throw Et(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}async function ph(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){var i,a,c;if((i=e.batch)!=null&&i.multicall&&((c=(a=e.chain)==null?void 0:a.contracts)!=null&&c.multicall3)){const u=e.chain.contracts.multicall3.address,d=me({abi:Dt,functionName:"getEthBalance",args:[t]}),{data:f}=await M(e,Zn,"call")({to:u,data:d,blockNumber:n,blockTag:r});return it({abi:Dt,functionName:"getEthBalance",args:[t],data:f||"0x"})}const s=typeof n=="bigint"?R(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function bh(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const mh=new Map,yh=new Map;function gh(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,mh),r=t(e,yh);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function wh(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=gh(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const vh=e=>`blockNumber.${e}`;async function Xn(e,{cacheTime:t=e.cacheTime}={}){const n=await wh(()=>e.request({method:"eth_blockNumber"}),{cacheKey:vh(e.uid),cacheTime:t});return BigInt(n)}async function xh(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?R(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),$e(o)}async function Gs(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?R(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Qn(e,t){if(!te(e,{strict:!1}))throw new de({address:e});if(!te(t,{strict:!1}))throw new de({address:t});return e.toLowerCase()===t.toLowerCase()}const Li="/docs/contract/decodeEventLog";function yr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new s0({docsPath:Li});const c=t.find(P=>P.type==="event"&&i===Ir(Se(P)));if(!(c&&"name"in c)||c.type!=="event")throw new o0(i,{docsPath:Li});const{name:u,inputs:d}=c,f=d==null?void 0:d.some(P=>!("name"in P&&P.name)),l=f?[]:{},h=d.map((P,E)=>[P,E]).filter(([P])=>"indexed"in P&&P.indexed),p=[];for(let P=0;P<h.length;P++){const[E,w]=h[P],v=a[P];if(!v){if(o)throw new oo({abiItem:c,param:E});p.push([E,w]);continue}l[f?w:E.name||w]=Ph({param:E,value:v})}const b=d.filter(P=>!("indexed"in P&&P.indexed)),g=o?b:[...p.map(([P])=>P),...b];if(g.length>0){if(n&&n!=="0x")try{const P=Un(g,n);if(P){let E=0;if(!o)for(const[w,v]of p)l[f?v:w.name||v]=P[E++];if(f)for(let w=0;w<d.length;w++)l[w]===void 0&&E<P.length&&(l[w]=P[E++]);else for(let w=0;w<b.length;w++)l[b[w].name]=P[E++]}}catch(P){if(o)throw P instanceof ha||P instanceof Sa?new hr({abiItem:c,data:n,params:g,size:K(n)}):P}else if(o)throw new hr({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Ph({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Un([e],t)||[])[0]}function Lo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:Ir(a)}));return r.map(a=>{var f;const c=i.filter(l=>a.topics[0]===l.selector);if(c.length===0)return null;let u,d;for(const l of c)try{u=yr({...a,abi:[l.abi],strict:!0}),d=l;break}catch{}if(!u&&!s){d=c[0];try{u=yr({data:a.data,topics:a.topics,abi:[d.abi],strict:!1})}catch{const l=(f=d.abi.inputs)==null?void 0:f.some(h=>!("name"in h&&h.name));return{...a,args:l?[]:{},eventName:d.abi.name}}}return!u||!d||o&&!o.includes(u.eventName)||!Eh({args:u.args,inputs:d.abi.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function Eh(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Qn(i,a):o.type==="string"||o.type==="bytes"?se(Qt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Ze(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function jo(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,d=i??(o?[o]:void 0);let f=[];d&&(f=[d.flatMap(b=>Kn({abi:[b],eventName:b.name,args:i?void 0:a}))],o&&(f=f[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?R(r):r,toBlock:typeof s=="bigint"?R(s):s}]});const h=l.map(p=>Ze(p));return d?Lo({abi:d,args:a,logs:h,strict:u}):h}async function qc(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,d=i?Ct({abi:n,name:i}):void 0,f=d?void 0:n.filter(l=>l.type==="event");return M(e,jo,"getLogs")({address:r,args:s,blockHash:o,event:d,events:f,fromBlock:a,toBlock:c,strict:u})}class $h extends S{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Ih(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,d,f]=await M(e,Te,"readContract")({abi:Ah,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:d},extensions:f,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new $h({address:n}):i}}const Ah=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Sh(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Bh(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?R(n):void 0,i=await e.request({method:"eth_feeHistory",params:[R(t),o||r,s]},{dedupe:!!o});return Sh(i)}async function Lr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ze(o));return!("abi"in t)||!t.abi?s:Lo({abi:t.abi,logs:s,strict:n})}async function Ch(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ze(o));return t.abi?Lo({abi:t.abi,logs:s,strict:n}):s}function Th(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!te(s))throw new de({address:s});if(r<0)throw new Ar({chainId:r})}Uo(e)}function kh(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Uc;for(const n of t){const r=K(n),s=$e(vt(n,0,1));if(r!==32)throw new dh({hash:n,size:r});if(s!==jc)throw new fh({hash:n,version:s})}}Uo(e)}function Uo(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Ar({chainId:t});if(s&&!te(s))throw new de({address:s});if(r&&r>Rr)throw new At({maxFeePerGas:r});if(n&&r&&n>r)throw new Rn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function _h(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new Ar({chainId:t});if(o&&!te(o))throw new de({address:o});if(n||s)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Rr)throw new At({maxFeePerGas:r})}function Nh(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!te(o))throw new de({address:o});if(typeof t<"u"&&t<=0)throw new Ar({chainId:t});if(n||s)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Rr)throw new At({maxFeePerGas:r})}function jr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new vf({storageKey:s[o]});if(!te(r,{strict:!1}))throw new de({address:r});t.push([r,s])}return t}function Oh(e,t){const n=Gc(e);return n==="eip1559"?zh(e,t):n==="eip2930"?Mh(e,t):n==="eip4844"?Fh(e,t):n==="eip7702"?Rh(e,t):Lh(e,t)}function Rh(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:f}=e;Th(e);const l=jr(d),h=jh(n);return _e(["0x04",ot([R(r),o?R(o):"0x",u?R(u):"0x",c?R(c):"0x",s?R(s):"0x",i??"0x",a?R(a):"0x",f??"0x",l,h,...er(e,t)])])}function Fh(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:f}=e;kh(e);let l=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof h>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(y=>J(y)),v=e.kzg,m=No({blobs:w,kzg:v});if(typeof l>"u"&&(l=zc({commitments:m})),typeof h>"u"){const y=Oo({blobs:w,commitments:m,kzg:v});h=Dc({blobs:w,commitments:m,proofs:y})}}const p=jr(d),b=[R(n),s?R(s):"0x",u?R(u):"0x",c?R(c):"0x",r?R(r):"0x",o??"0x",i?R(i):"0x",f??"0x",p,a?R(a):"0x",l??[],...er(e,t)],g=[],P=[],E=[];if(h)for(let w=0;w<h.length;w++){const{blob:v,commitment:m,proof:y}=h[w];g.push(v),P.push(m),E.push(y)}return _e(["0x03",ot(h?[b,g,P,E]:b)])}function zh(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:d}=e;Uo(e);const f=jr(u),l=[R(n),s?R(s):"0x",c?R(c):"0x",a?R(a):"0x",r?R(r):"0x",o??"0x",i?R(i):"0x",d??"0x",f,...er(e,t)];return _e(["0x02",ot(l)])}function Mh(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;_h(e);const d=jr(c),f=[R(n),o?R(o):"0x",u?R(u):"0x",r?R(r):"0x",i??"0x",a?R(a):"0x",s??"0x",d,...er(e,t)];return _e(["0x01",ot(f)])}function Lh(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;Nh(e);let u=[o?R(o):"0x",c?R(c):"0x",r?R(r):"0x",i??"0x",a?R(a):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new gf({v:t.v});return h})(),f=Ee(t.r),l=Ee(t.s);u=[...u,R(d),f==="0x00"?"0x":f,l==="0x00"?"0x":l]}else n>0&&(u=[...u,R(n),"0x","0x"]);return ot(u)}function er(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Ee(n.r),i=Ee(n.s);return[typeof s=="number"?s?R(1):"0x":r===0n?"0x":r===1n?R(1):r===27n?"0x":R(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function jh(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?he(r):"0x",i,s?he(s):"0x",...er({},o)])}return t}async function Uh({address:e,authorization:t,signature:n}){return Qn(tt(e),await zr({authorization:t,signature:n}))}const or=new en(8192);function Dh(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(or.get(n))return or.get(n);const r=e().finally(()=>or.delete(n));return or.set(n,r),r}async function qs(e){return new Promise(t=>setTimeout(t,e))}function Fn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await qs(d),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function Gh(e,t={}){return async(n,r={})=>{var f;const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((f=o==null?void 0:o.exclude)!=null&&f.includes(u))throw new lt(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new lt(new Error("method not supported"),{method:u});const d=s?qt(`${c}.${ee(n)}`):void 0;return Dh(()=>Fn(async()=>{try{return await e(n)}catch(l){const h=l;switch(h.code){case mn.code:throw new mn(h);case yn.code:throw new yn(h);case gn.code:throw new gn(h,{method:n.method});case wn.code:throw new wn(h);case xt.code:throw new xt(h);case st.code:throw new st(h);case vn.code:throw new vn(h);case rt.code:throw new rt(h);case xn.code:throw new xn(h);case lt.code:throw new lt(h,{method:n.method});case Wt.code:throw new Wt(h);case Pn.code:throw new Pn(h);case ae.code:throw new ae(h);case En.code:throw new En(h);case $n.code:throw new $n(h);case In.code:throw new In(h);case An.code:throw new An(h);case Pt.code:throw new Pt(h);case Zt.code:throw new Zt(h);case Sn.code:throw new Sn(h);case Bn.code:throw new Bn(h);case Cn.code:throw new Cn(h);case Tn.code:throw new Tn(h);case kn.code:throw new kn(h);case Kt.code:throw new Kt(h);case 5e3:throw new ae(h);case _n.code:throw new _n(h);default:throw l instanceof S?l:new Nf(h)}}},{delay:({count:l,error:h})=>{var p;if(h&&h instanceof hn){const b=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<l)*i},retryCount:a,shouldRetry:({error:l})=>qh(l)}),{enabled:s,id:d})}}function qh(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Wt.code||e.code===xt.code:e instanceof hn&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Do({chain:e,currentChainId:t}){if(!e)throw new uf;if(t!==e.id)throw new cf({chain:e,currentChainId:t})}function Hc(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}const Vc={"0x0":"reverted","0x1":"success"};function Go(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ze(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?$e(e.transactionIndex):null,status:e.status?Vc[e.status]:null,type:e.type?Oc[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Hh=$o("transactionReceipt",Go);function Wc(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Vh(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ji=Vh();function Wh(e,t={}){const{url:n,headers:r}=Zh(e);return{async request(s){var p;const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,d={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:f,method:l,signal:h}=d;try{const b=await Wc(async({signal:P})=>{const E={...d,body:Array.isArray(o)?ee(o.map(y=>({jsonrpc:"2.0",id:y.id??ji.take(),...y}))):ee({jsonrpc:"2.0",id:o.id??ji.take(),...o}),headers:{...r,"Content-Type":"application/json",...f},method:l||"POST",signal:h||(u>0?P:null)},w=new Request(n,E),v=await(a==null?void 0:a(w,E))??{...E,url:n};return await i(v.url??n,v)},{errorInstance:new $i({body:o,url:n}),timeout:u,signal:!0});c&&await c(b);let g;if((p=b.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))g=await b.json();else{g=await b.text();try{g=JSON.parse(g||"{}")}catch(P){if(b.ok)throw P;g={error:g}}}if(!b.ok)throw new hn({body:o,details:ee(g.error)||b.statusText,headers:b.headers,status:b.status,url:n});return g}catch(b){throw b instanceof hn||b instanceof $i?b:new hn({body:o,cause:b,url:n})}}}}function Zh(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const Kh=`Ethereum Signed Message:
`;function Yh(e){const t=typeof e=="string"?qt(e):typeof e.raw=="string"?e.raw:J(e.raw),n=qt(`${Kh}${K(t)}`);return oe([n,t])}function Zc(e,t){return se(Yh(e),t)}class Jh extends S{constructor({domain:t}){super(`Invalid domain "${ee(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Xh extends S{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Qh extends S{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function e1(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const d={...u};for(const f of c){const{name:l,type:h}=f;h==="address"&&(d[l]=d[l].toLowerCase())}return d},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return ee({domain:i,message:a,primaryType:r,types:s})}function Kc(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:d}=c,f=a[u],l=d.match(ka);if(l&&(typeof f=="number"||typeof f=="bigint")){const[b,g,P]=l;R(f,{signed:g==="int",size:Number.parseInt(P,10)/8})}if(d==="address"&&typeof f=="string"&&!te(f))throw new de({address:f});const h=d.match(Q0);if(h){const[b,g]=h;if(g&&K(f)!==Number.parseInt(g,10))throw new c0({expectedSize:Number.parseInt(g,10),givenSize:K(f)})}const p=s[d];p&&(t1(d),o(p,f))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Jh({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Xh({primaryType:r,types:s})}function Yc({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function t1(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Qh({type:e})}function n1(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Yc({domain:t}),...e.types};Kc({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(r1({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Jc({data:n,primaryType:r,types:s})),se(oe(o))}function r1({domain:e,types:t}){return Jc({data:e,primaryType:"EIP712Domain",types:t})}function Jc({data:e,primaryType:t,types:n}){const r=Xc({data:e,primaryType:t,types:n});return se(r)}function Xc({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[s1({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=eu({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Bt(r,s)}function s1({primaryType:e,types:t}){const n=he(o1({primaryType:e,types:t}));return se(n)}function o1({primaryType:e,types:t}){let n="";const r=Qc({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Qc({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Qc({primaryType:o.type,types:t},n);return n}function eu({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},se(Xc({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},se(r)];if(n==="string")return[{type:"bytes32"},se(he(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>eu({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},se(Bt(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class i1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const a1={checksum:new i1(8192)},as=a1.checksum;class tu extends ao{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,C0(t);const r=Er(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Vt(o)}update(t){return Ht(this),this.iHash.update(t),this}digestInto(t){Ht(this),wt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nu=(e,t,n)=>new tu(e,t).update(n).digest();nu.create=(e,t)=>new tu(e,t);function ru(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Aa(Wf(e));return n==="Bytes"?r:Ce(r)}const c1=/^0x[a-fA-F0-9]{40}$/;function Ur(e,t={}){const{strict:n=!0}=t;if(!c1.test(e))throw new Ui({address:e,cause:new u1});if(n){if(e.toLowerCase()===e)return;if(su(e)!==e)throw new Ui({address:e,cause:new d1})}}function su(e){if(as.has(e))return as.get(e);Ur(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=ru(Kf(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return as.set(e,s),s}function Hs(e,t={}){const{strict:n=!0}=t??{};try{return Ur(e,{strict:n}),!0}catch{return!1}}class Ui extends q{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class u1 extends q{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class d1 extends q{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const f1=/^(.*)\[([0-9]*)\]$/,l1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ou=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Di=2n**256n-1n;function Ut(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Vo(t.type);if(o){const[i,a]=o;return p1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return g1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return h1(e,{checksum:r});if(t.type==="bool")return b1(e);if(t.type.startsWith("bytes"))return m1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return y1(e,t);if(t.type==="string")return w1(e,{staticPosition:s});throw new Zo(t.type)}const Gi=32,Vs=32;function h1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?su(o):o)(Ce(Jf(r,-20))),32]}function p1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ve(e.readBytes(Vs)),u=o+c,d=u+Gi;e.setPosition(u);const f=Ve(e.readBytes(Gi)),l=zn(t);let h=0;const p=[];for(let b=0;b<f;++b){e.setPosition(d+(l?b*32:h));const[g,P]=Ut(e,t,{checksumAddress:r,staticPosition:d});h+=P,p.push(g)}return e.setPosition(o+32),[p,32]}if(zn(t)){const c=Ve(e.readBytes(Vs)),u=o+c,d=[];for(let f=0;f<s;++f){e.setPosition(u+f*32);const[l]=Ut(e,t,{checksumAddress:r,staticPosition:u});d.push(l)}return e.setPosition(o+32),[d,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,d]=Ut(e,t,{checksumAddress:r,staticPosition:o+i});i+=d,a.push(u)}return[a,i]}function b1(e){return[Qf(e.readBytes(32),{size:32}),32]}function m1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ve(e.readBytes(32));e.setPosition(n+i);const a=Ve(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ce(c),32]}return[Ce(e.readBytes(Number.parseInt(s,10),32)),32]}function y1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Xf(s,{signed:n}):Ve(s,{signed:n}),32]}function g1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(zn(t)){const c=Ve(e.readBytes(Vs)),u=s+c;for(let d=0;d<t.components.length;++d){const f=t.components[d];e.setPosition(u+a);const[l,h]=Ut(e,f,{checksumAddress:r,staticPosition:u});a+=h,i[o?d:f==null?void 0:f.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[d,f]=Ut(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u==null?void 0:u.name]=d,a+=f}return[i,a]}function w1(e,{staticPosition:t}){const n=Ve(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ve(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=el(fc(o));return e.setPosition(t+32),[i,32]}function v1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(qo({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function qo({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Vo(r.type);if(s){const[o,i]=s;return P1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return S1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return x1(n,{checksum:e});if(r.type==="bool")return $1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=ou.exec(r.type)??[];return I1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return E1(n,{type:r.type});if(r.type==="string")return A1(n);throw new Zo(r.type)}function Ho(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ve(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(ce(t+s,{size:32})),r.push(a),s+=ve(a)):n.push(a)}return Be(...n,...r)}function x1(e,t){const{checksum:n=!1}=t;return Ur(e,{strict:n}),{dynamic:!1,encoded:$t(e.toLowerCase())}}function P1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new F1(e);if(!o&&e.length!==r)throw new R1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=qo({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Ho(a);if(o){const u=ce(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Be(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Be(...a.map(({encoded:c})=>c))}}function E1(e,{type:t}){const[,n]=t.split("bytes"),r=ve(e);if(!n){let s=e;return r%32!==0&&(s=It(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Be($t(ce(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new au({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:It(e)}}function $1(e){if(typeof e!="boolean")throw new q(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:$t(lc(e))}}function I1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new bc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ce(e,{size:32,signed:t})}}function A1(e){const t=Po(e),n=Math.ceil(ve(t)/32),r=[];for(let s=0;s<n;s++)r.push(It(Re(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Be(It(ce(ve(t),{size:32})),...r)}}function S1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=qo({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Ho(o):Be(...o.map(({encoded:i})=>i))}}function Vo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function zn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(zn);const n=Vo(e.type);return!!(n&&zn({...e,type:n[1]}))}const B1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new k1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new T1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new qi({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new qi({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function C1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(B1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class qi extends q{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class T1 extends q{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class k1 extends q{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function _1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?dc(t):t,i=C1(o);if(Ft(o)===0&&e.length>0)throw new O1;if(Ft(o)&&Ft(o)<32)throw new N1({data:typeof t=="string"?t:Ce(t),parameters:e,size:Ft(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const d=e[u];i.setPosition(a);const[f,l]=Ut(i,d,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(f):c[d.name??u]=f}return c}function Wo(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new cu({expectedLength:e.length,givenLength:t.length});const s=v1({checksumAddress:r,parameters:e,values:t}),o=Ho(s);return o.length===0?"0x":o}function Ws(e,t){if(e.length!==t.length)throw new cu({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Ws.encode(s,o))}return Be(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Ur(c),$t(c.toLowerCase(),s?32:0)}if(n==="string")return Po(r);if(n==="bytes")return r;if(n==="bool")return $t(lc(r),s?32:1);const o=n.match(ou);if(o){const[c,u,d="256"]=o,f=Number.parseInt(d,10)/8;return ce(r,{size:s?32:f,signed:u==="int"})}const i=n.match(l1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new au({expectedSize:Number.parseInt(u,10),value:r});return It(r,s?32:0)}const a=n.match(f1);if(a&&Array.isArray(r)){const[c,u]=a,d=[];for(let f=0;f<r.length;f++)d.push(t(u,r[f],!0));return d.length===0?"0x":Be(...d)}throw new Zo(n)}e.encode=t})(Ws||(Ws={}));function iu(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?vi(e):e}class N1 extends q{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Rt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class O1 extends q{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class R1 extends q{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class au extends q{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ve(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class cu extends q{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class F1 extends q{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Zo extends q{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const le=BigInt(0),ue=BigInt(1),ht=BigInt(2),z1=BigInt(3),uu=BigInt(4),du=BigInt(5),fu=BigInt(8);function fe(e,t){const n=e%t;return n>=le?n:t+n}function xe(e,t,n){let r=e;for(;t-- >le;)r*=r,r%=n;return r}function Zs(e,t){if(e===le)throw new Error("invert: expected non-zero number");if(t<=le)throw new Error("invert: expected positive modulus, got "+t);let n=fe(e,t),r=t,s=le,o=ue;for(;n!==le;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==ue)throw new Error("invert: does not exist");return fe(s,t)}function lu(e,t){const n=(e.ORDER+ue)/uu,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function M1(e,t){const n=(e.ORDER-du)/fu,r=e.mul(t,ht),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,ht),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function L1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ue,n=0;for(;t%ht===le;)t/=ht,n++;let r=ht;const s=Ko(e);for(;Hi(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return lu;let o=s.pow(r,t);const i=(t+ue)/ht;return function(c,u){if(c.is0(u))return u;if(Hi(c,u)!==1)throw new Error("Cannot find square root");let d=n,f=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let p=1,b=c.sqr(l);for(;!c.eql(b,c.ONE);)if(p++,b=c.sqr(b),p===d)throw new Error("Cannot find square root");const g=ue<<BigInt(d-p-1),P=c.pow(f,g);d=p,f=c.sqr(P),l=c.mul(l,f),h=c.mul(h,P)}return h}}function j1(e){return e%uu===z1?lu:e%fu===du?M1:L1(e)}const U1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function D1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=U1.reduce((r,s)=>(r[s]="function",r),t);return kr(e,n)}function G1(e,t,n){if(n<le)throw new Error("invalid exponent, negatives unsupported");if(n===le)return e.ONE;if(n===ue)return t;let r=e.ONE,s=t;for(;n>le;)n&ue&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ue;return r}function hu(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Hi(e,t){const n=(e.ORDER-ue)/ht,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function pu(e,t){t!==void 0&&pn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ko(e,t,n=!1,r={}){if(e<=le)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=pu(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Tr(s),ZERO:le,ONE:ue,create:c=>fe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return le<=c&&c<e},is0:c=>c===le,isOdd:c=>(c&ue)===ue,neg:c=>fe(-c,e),eql:(c,u)=>c===u,sqr:c=>fe(c*c,e),add:(c,u)=>fe(c+u,e),sub:(c,u)=>fe(c-u,e),mul:(c,u)=>fe(c*u,e),pow:(c,u)=>G1(a,c,u),div:(c,u)=>fe(c*Zs(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Zs(c,e),sqrt:r.sqrt||(c=>(i||(i=j1(e)),i(a,c))),toBytes:c=>n?oc(c,o):Hn(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?sc(c):yt(c)},invertBatch:c=>hu(a,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(a)}function bu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function mu(e){const t=bu(e);return t+Math.ceil(t/2)}function q1(e,t,n=!1){const r=e.length,s=bu(t),o=mu(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?sc(e):yt(e),a=fe(i,t-ue)+ue;return n?oc(a,s):Hn(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vi=BigInt(0),Ks=BigInt(1);function cs(e,t){const n=t.negate();return e?n:t}function yu(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function us(e,t){yu(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Tr(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Wi(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Ks);const u=t*r,d=u+Math.abs(a)-1,f=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:d,isZero:f,isNeg:l,isNegF:h,offsetF:u}}function H1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function V1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ds=new WeakMap,gu=new WeakMap;function fs(e){return gu.get(e)||1}function W1(e,t){return{constTimeNegate:cs,hasPrecomputes(n){return fs(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Vi;)r&Ks&&(s=s.add(o)),o=o.double(),r>>=Ks;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=us(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let d=1;d<o;d++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=us(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:f,isNeg:l,isNegF:h,offsetF:p}=Wi(s,c,a);s=u,f?i=i.add(cs(h,r[p])):o=o.add(cs(l,r[d]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=us(n,t);for(let a=0;a<i.windows&&s!==Vi;a++){const{nextN:c,offset:u,isZero:d,isNeg:f}=Wi(s,a,i);if(s=c,!d){const l=r[u];o=o.add(f?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=ds.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&ds.set(r,s(o))),o},wNAFCached(n,r,s){const o=fs(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=fs(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){yu(r,t),gu.set(n,r),ds.delete(n)}}}function Z1(e,t,n,r){H1(n,e),V1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Ff(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Tr(c),d=new Array(Number(u)+1).fill(i),f=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=f;h>=0;h-=c){d.fill(i);for(let b=0;b<o;b++){const g=r[b],P=Number(g>>BigInt(h)&u);d[P]=d[P].add(n[b])}let p=i;for(let b=d.length-1,g=i;b>0;b--)g=g.add(d[b]),p=p.add(g);if(l=l.add(p),h!==0)for(let b=0;b<c;b++)l=l.double()}return l}function wu(e){return D1(e.Fp),kr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...pu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zi(e){e.lowS!==void 0&&Nn("lowS",e.lowS),e.prehash!==void 0&&Nn("prehash",e.prehash)}function K1(e){const t=wu(e);kr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Y1 extends Error{constructor(t=""){super(t)}}const Ge={Err:Y1,_tlv:{encode:(e,t)=>{const{Err:n}=Ge;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=sr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?sr(s.length/2|128):"";return sr(e)+o+s+t},decode(e,t){const{Err:n}=Ge;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ge;if(e<qe)throw new t("integer: negative integers are not allowed");let n=sr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ge;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return yt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ge,s=Pe("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ge,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function ls(e,t){return On(Hn(e,t))}const qe=BigInt(0),ne=BigInt(1);BigInt(2);const hs=BigInt(3),J1=BigInt(4);function X1(e){const t=K1(e),{Fp:n}=t,r=Ko(t.n,t.nBitLength),s=t.toBytes||((w,v,m)=>{const y=v.toAffine();return mr(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),o=t.fromBytes||(w=>{const v=w.subarray(1),m=n.fromBytes(v.subarray(0,n.BYTES)),y=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:m,y}});function i(w){const{a:v,b:m}=t,y=n.sqr(w),x=n.mul(y,w);return n.add(n.add(x,n.mul(w,v)),m)}function a(w,v){const m=n.sqr(v),y=i(w);return n.eql(m,y)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,hs),J1),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(w){return xo(w,ne,t.n)}function f(w){const{allowedPrivateKeyLengths:v,nByteLength:m,wrapPrivateKey:y,n:x}=t;if(v&&typeof w!="bigint"){if(qn(w)&&(w=On(w)),typeof w!="string"||!v.includes(w.length))throw new Error("invalid private key");w=w.padStart(m*2,"0")}let $;try{$=typeof w=="bigint"?w:yt(Pe("private key",w,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof w)}return y&&($=fe($,x)),jt("private key",$,ne,x),$}function l(w){if(!(w instanceof b))throw new Error("ProjectivePoint expected")}const h=Si((w,v)=>{const{px:m,py:y,pz:x}=w;if(n.eql(x,n.ONE))return{x:m,y};const $=w.is0();v==null&&(v=$?n.ONE:n.inv(x));const I=n.mul(m,v),O=n.mul(y,v),B=n.mul(x,v);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:I,y:O}}),p=Si(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:v,y:m}=w.toAffine();if(!n.isValid(v)||!n.isValid(m))throw new Error("bad point: x or y not FE");if(!a(v,m))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(v,m,y){if(v==null||!n.isValid(v))throw new Error("x required");if(m==null||!n.isValid(m)||n.is0(m))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required");this.px=v,this.py=m,this.pz=y,Object.freeze(this)}static fromAffine(v){const{x:m,y}=v||{};if(!v||!n.isValid(m)||!n.isValid(y))throw new Error("invalid affine point");if(v instanceof b)throw new Error("projective point not allowed");const x=$=>n.eql($,n.ZERO);return x(m)&&x(y)?b.ZERO:new b(m,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const m=hu(n,v.map(y=>y.pz));return v.map((y,x)=>y.toAffine(m[x])).map(b.fromAffine)}static fromHex(v){const m=b.fromAffine(o(Pe("pointHex",v)));return m.assertValidity(),m}static fromPrivateKey(v){return b.BASE.multiply(f(v))}static msm(v,m){return Z1(b,r,v,m)}_setWindowSize(v){E.setWindowSize(this,v)}assertValidity(){p(this)}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){l(v);const{px:m,py:y,pz:x}=this,{px:$,py:I,pz:O}=v,B=n.eql(n.mul(m,O),n.mul($,x)),C=n.eql(n.mul(y,O),n.mul(I,x));return B&&C}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:m}=t,y=n.mul(m,hs),{px:x,py:$,pz:I}=this;let O=n.ZERO,B=n.ZERO,C=n.ZERO,T=n.mul(x,x),j=n.mul($,$),A=n.mul(I,I),N=n.mul(x,$);return N=n.add(N,N),C=n.mul(x,I),C=n.add(C,C),O=n.mul(v,C),B=n.mul(y,A),B=n.add(O,B),O=n.sub(j,B),B=n.add(j,B),B=n.mul(O,B),O=n.mul(N,O),C=n.mul(y,C),A=n.mul(v,A),N=n.sub(T,A),N=n.mul(v,N),N=n.add(N,C),C=n.add(T,T),T=n.add(C,T),T=n.add(T,A),T=n.mul(T,N),B=n.add(B,T),A=n.mul($,I),A=n.add(A,A),T=n.mul(A,N),O=n.sub(O,T),C=n.mul(A,j),C=n.add(C,C),C=n.add(C,C),new b(O,B,C)}add(v){l(v);const{px:m,py:y,pz:x}=this,{px:$,py:I,pz:O}=v;let B=n.ZERO,C=n.ZERO,T=n.ZERO;const j=t.a,A=n.mul(t.b,hs);let N=n.mul(m,$),F=n.mul(y,I),k=n.mul(x,O),z=n.add(m,y),L=n.add($,I);z=n.mul(z,L),L=n.add(N,F),z=n.sub(z,L),L=n.add(m,x);let U=n.add($,O);return L=n.mul(L,U),U=n.add(N,k),L=n.sub(L,U),U=n.add(y,x),B=n.add(I,O),U=n.mul(U,B),B=n.add(F,k),U=n.sub(U,B),T=n.mul(j,L),B=n.mul(A,k),T=n.add(B,T),B=n.sub(F,T),T=n.add(F,T),C=n.mul(B,T),F=n.add(N,N),F=n.add(F,N),k=n.mul(j,k),L=n.mul(A,L),F=n.add(F,k),k=n.sub(N,k),k=n.mul(j,k),L=n.add(L,k),N=n.mul(F,L),C=n.add(C,N),N=n.mul(U,L),B=n.mul(z,B),B=n.sub(B,N),N=n.mul(z,F),T=n.mul(U,T),T=n.add(T,N),new b(B,C,T)}subtract(v){return this.add(v.negate())}is0(){return this.equals(b.ZERO)}wNAF(v){return E.wNAFCached(this,v,b.normalizeZ)}multiplyUnsafe(v){const{endo:m,n:y}=t;jt("scalar",v,qe,y);const x=b.ZERO;if(v===qe)return x;if(this.is0()||v===ne)return this;if(!m||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,v,b.normalizeZ);let{k1neg:$,k1:I,k2neg:O,k2:B}=m.splitScalar(v),C=x,T=x,j=this;for(;I>qe||B>qe;)I&ne&&(C=C.add(j)),B&ne&&(T=T.add(j)),j=j.double(),I>>=ne,B>>=ne;return $&&(C=C.negate()),O&&(T=T.negate()),T=new b(n.mul(T.px,m.beta),T.py,T.pz),C.add(T)}multiply(v){const{endo:m,n:y}=t;jt("scalar",v,ne,y);let x,$;if(m){const{k1neg:I,k1:O,k2neg:B,k2:C}=m.splitScalar(v);let{p:T,f:j}=this.wNAF(O),{p:A,f:N}=this.wNAF(C);T=E.constTimeNegate(I,T),A=E.constTimeNegate(B,A),A=new b(n.mul(A.px,m.beta),A.py,A.pz),x=T.add(A),$=j.add(N)}else{const{p:I,f:O}=this.wNAF(v);x=I,$=O}return b.normalizeZ([x,$])[0]}multiplyAndAddUnsafe(v,m,y){const x=b.BASE,$=(O,B)=>B===qe||B===ne||!O.equals(x)?O.multiplyUnsafe(B):O.multiply(B),I=$(this,m).add($(v,y));return I.is0()?void 0:I}toAffine(v){return h(this,v)}isTorsionFree(){const{h:v,isTorsionFree:m}=t;if(v===ne)return!0;if(m)return m(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:m}=t;return v===ne?this:m?m(b,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return Nn("isCompressed",v),this.assertValidity(),s(b,this,v)}toHex(v=!0){return Nn("isCompressed",v),On(this.toRawBytes(v))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:P}=t,E=W1(b,g?Math.ceil(P/2):P);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:d}}function Q1(e){const t=wu(e);return kr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function ep(e){const t=Q1(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(A){return fe(A,r)}function u(A){return Zs(A,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:h}=X1({...t,toBytes(A,N,F){const k=N.toAffine(),z=n.toBytes(k.x),L=mr;return Nn("isCompressed",F),F?L(Uint8Array.from([N.hasEvenY()?2:3]),z):L(Uint8Array.from([4]),z,n.toBytes(k.y))},fromBytes(A){const N=A.length,F=A[0],k=A.subarray(1);if(N===i&&(F===2||F===3)){const z=yt(k);if(!xo(z,ne,n.ORDER))throw new Error("Point is not on curve");const L=l(z);let U;try{U=n.sqrt(L)}catch(Y){const Q=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+Q)}const V=(U&ne)===ne;return(F&1)===1!==V&&(U=n.neg(U)),{x:z,y:U}}else if(N===a&&F===4){const z=n.fromBytes(k.subarray(0,n.BYTES)),L=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:z,y:L}}else{const z=i,L=a;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+L+", got "+N)}}});function p(A){const N=r>>ne;return A>N}function b(A){return p(A)?c(-A):A}const g=(A,N,F)=>yt(A.slice(N,F));class P{constructor(N,F,k){jt("r",N,ne,r),jt("s",F,ne,r),this.r=N,this.s=F,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(N){const F=s;return N=Pe("compactSignature",N,F*2),new P(g(N,0,F),g(N,F,2*F))}static fromDER(N){const{r:F,s:k}=Ge.toSig(Pe("DER",N));return new P(F,k)}assertValidity(){}addRecoveryBit(N){return new P(this.r,this.s,N)}recoverPublicKey(N){const{r:F,s:k,recovery:z}=this,L=x(Pe("msgHash",N));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const U=z===2||z===3?F+t.n:F;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(z&1)===0?"02":"03",X=d.fromHex(V+ls(U,n.BYTES)),Y=u(U),Q=c(-L*Y),ie=c(k*Y),Xe=d.BASE.multiplyAndAddUnsafe(X,Q,ie);if(!Xe)throw new Error("point at infinify");return Xe.assertValidity(),Xe}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return br(this.toDERHex())}toDERHex(){return Ge.hexFromSig(this)}toCompactRawBytes(){return br(this.toCompactHex())}toCompactHex(){const N=s;return ls(this.r,N)+ls(this.s,N)}}const E={isValidPrivateKey(A){try{return f(A),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const A=mu(t.n);return q1(t.randomBytes(A),t.n)},precompute(A=8,N=d.BASE){return N._setWindowSize(A),N.multiply(BigInt(3)),N}};function w(A,N=!0){return d.fromPrivateKey(A).toRawBytes(N)}function v(A){if(typeof A=="bigint")return!1;if(A instanceof d)return!0;const F=Pe("key",A).length,k=n.BYTES,z=k+1,L=2*k+1;if(!(t.allowedPrivateKeyLengths||s===z))return F===z||F===L}function m(A,N,F=!0){if(v(A)===!0)throw new Error("first arg must be private key");if(v(N)===!1)throw new Error("second arg must be public key");return d.fromHex(N).multiply(f(A)).toRawBytes(F)}const y=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const N=yt(A),F=A.length*8-o;return F>0?N>>BigInt(F):N},x=t.bits2int_modN||function(A){return c(y(A))},$=Tr(o);function I(A){return jt("num < 2^"+o,A,qe,$),Hn(A,s)}function O(A,N,F=B){if(["recovered","canonical"].some(dt=>dt in F))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:z}=t;let{lowS:L,prehash:U,extraEntropy:V}=F;L==null&&(L=!0),A=Pe("msgHash",A),Zi(F),U&&(A=Pe("prehashed msgHash",k(A)));const X=x(A),Y=f(N),Q=[I(Y),I(X)];if(V!=null&&V!==!1){const dt=V===!0?z(n.BYTES):V;Q.push(Pe("extraEntropy",dt))}const ie=mr(...Q),Xe=X;function Vr(dt){const Tt=y(dt);if(!h(Tt))return;const Wr=u(Tt),on=d.BASE.multiply(Tt).toAffine(),ft=c(on.x);if(ft===qe)return;const an=c(Wr*c(Xe+ft*Y));if(an===qe)return;let cn=(on.x===ft?0:2)|Number(on.y&ne),kt=an;return L&&p(an)&&(kt=b(an),cn^=1),new P(ft,kt,cn)}return{seed:ie,k2sig:Vr}}const B={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function T(A,N,F=B){const{seed:k,k2sig:z}=O(A,N,F),L=t;return zf(L.hash.outputLen,L.nByteLength,L.hmac)(k,z)}d.BASE._setWindowSize(8);function j(A,N,F,k=C){var cn;const z=A;N=Pe("msgHash",N),F=Pe("publicKey",F);const{lowS:L,prehash:U,format:V}=k;if(Zi(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const X=typeof z=="string"||qn(z),Y=!X&&!V&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!X&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,ie;try{if(Y&&(Q=new P(z.r,z.s)),X){try{V!=="compact"&&(Q=P.fromDER(z))}catch(kt){if(!(kt instanceof Ge.Err))throw kt}!Q&&V!=="der"&&(Q=P.fromCompact(z))}ie=d.fromHex(F)}catch{return!1}if(!Q||L&&Q.hasHighS())return!1;U&&(N=t.hash(N));const{r:Xe,s:Vr}=Q,dt=x(N),Tt=u(Vr),Wr=c(dt*Tt),on=c(Xe*Tt),ft=(cn=d.BASE.multiplyAndAddUnsafe(ie,Wr,on))==null?void 0:cn.toAffine();return ft?c(ft.x)===Xe:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:m,sign:T,verify:j,ProjectivePoint:d,Signature:P,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tp(e){return{hash:e,hmac:(t,...n)=>nu(e,t,R0(...n)),randomBytes:F0}}function np(e,t){const n=r=>ep({...e,...tp(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ki=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rp=BigInt(0),sp=BigInt(1),Ys=BigInt(2),Yi=(e,t)=>(e+t/Ys)/t;function op(e){const t=vu,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=xe(d,n,t)*d%t,l=xe(f,n,t)*d%t,h=xe(l,Ys,t)*u%t,p=xe(h,s,t)*h%t,b=xe(p,o,t)*p%t,g=xe(b,a,t)*b%t,P=xe(g,c,t)*g%t,E=xe(P,a,t)*b%t,w=xe(E,n,t)*d%t,v=xe(w,i,t)*p%t,m=xe(v,r,t)*u%t,y=xe(m,Ys,t);if(!Js.eql(Js.sqr(y),e))throw new Error("Cannot find square root");return y}const Js=Ko(vu,void 0,void 0,{sqrt:op}),xu=np({a:rp,b:BigInt(7),Fp:Js,n:Ki,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ki,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Yi(o*e,t),c=Yi(-r*e,t);let u=fe(e-a*n-c*s,t),d=fe(-a*r-c*o,t);const f=u>i,l=d>i;if(f&&(u=t-u),l&&(d=t-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:l,k2:d}}}},Fc),ip=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:xu},Symbol.toStringTag,{value:"Module"}));function Pu(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new ps({signature:e});if(typeof e.s>"u")throw new ps({signature:e});if(n&&typeof e.yParity>"u")throw new ps({signature:e});if(e.r<0n||e.r>Di)throw new hp({value:e.r});if(e.s<0n||e.s>Di)throw new pp({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Jo({value:e.yParity})}function ap(e){return Eu(Ce(e))}function Eu(e){if(e.length!==130&&e.length!==132)throw new lp({signature:e});const t=BigInt(Re(e,0,32)),n=BigInt(Re(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Yo(s)}catch{throw new Jo({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function cp(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return up(e)}function up(e){const t=typeof e=="string"?Eu(e):e instanceof Uint8Array?ap(e):typeof e.r=="string"?fp(e):e.v?dp(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Pu(t),t}function dp(e){return{r:e.r,s:e.s,yParity:Yo(e.v)}}function fp(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Yo(n)),typeof r!="number")throw new Jo({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Yo(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new bp({value:e})}class lp extends q{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ve(cl(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ps extends q{constructor({signature:t}){super(`Signature \`${uc(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class hp extends q{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class pp extends q{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Jo extends q{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class bp extends q{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function mp(e,t={}){return typeof e.chainId=="string"?yp(e):{...e,...t.signature}}function yp(e){const{address:t,chainId:n,nonce:r}=e,s=cp(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const gp="0x8010801080108010801080108010801080108010801080108010801080108010",wp=iu("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function $u(e){if(typeof e=="string"){if(Re(e,-32)!==gp)throw new Pp(e)}else Pu(e.authorization)}function vp(e){$u(e);const t=pc(Re(e,-64,-32)),n=Re(e,-t-64,-64),r=Re(e,0,-t-64),[s,o,i]=_1(wp,n);return{authorization:mp({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function xp(e){try{return $u(e),!0}catch{return!1}}let Pp=class extends q{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Ep(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function $p(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?$e(e.nonce):void 0,storageProof:e.storageProof?Ep(e.storageProof):void 0}}async function Ip(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?R(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return $p(a)}async function Ap(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?R(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Xo(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){var l,h,p;const c=r||"latest",u=n!==void 0?R(n):void 0;let d=null;if(s?d=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,R(o)]},{dedupe:!0}):typeof o=="number"?d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,R(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(d=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,R(a)]},{dedupe:!0})),!d)throw new Ya({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(((p=(h=(l=e.chain)==null?void 0:l.formatters)==null?void 0:h.transaction)==null?void 0:p.format)||Yn)(d,"getTransaction")}async function Sp(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,Xn,"getBlockNumber")({}),t?M(e,Xo,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function dr(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ja({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Go)(n,"getTransactionReceipt")}async function Bp(e,t){var E;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:d=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof((E=e.batch)==null?void 0:E.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return nn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,b=0;for(let w=0;w<u.length;w++){const{abi:v,address:m,args:y,functionName:x}=u[w];try{const $=me({abi:v,args:y,functionName:x});b+=($.length-2)/2,d>0&&b>d&&h[p].length>0&&(p++,b=($.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:$,target:m}]}catch($){const I=Et($,{abi:v,address:m,args:y,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!s)throw I;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:m}]}}const g=await Promise.allSettled(h.map(w=>M(e,Te,"readContract")({...l===null?{code:Eo}:{address:l},abi:Dt,account:n,args:[w],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),P=[];for(let w=0;w<g.length;w++){const v=g[w];if(v.status==="rejected"){if(!s)throw v.reason;for(let y=0;y<h[w].length;y++)P.push({status:"failure",error:v.reason,result:void 0});continue}const m=v.value;for(let y=0;y<m.length;y++){const{returnData:x,success:$}=m[y],{callData:I}=h[w][y],{abi:O,address:B,functionName:C,args:T}=u[P.length];try{if(I==="0x")throw new Ln;if(!$)throw new Br({data:x});const j=it({abi:O,args:T,data:x,functionName:C});P.push(s?{result:j,status:"success"}:j)}catch(j){const A=Et(j,{abi:O,address:B,args:T,docsPath:"/docs/contract/multicall",functionName:C});if(!s)throw A;P.push({error:A,result:void 0,status:"failure"})}}}if(P.length!==u.length)throw new S("multicall results mismatch");return P}async function Xs(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?yc(l.blockOverrides):void 0,p=l.calls.map(g=>{const P=g,E=P.account?Z(P.account):void 0,w=P.abi?me(P):P.data,v={...P,account:E,data:P.dataSuffix?oe([w||"0x",P.dataSuffix]):w,from:P.from??(E==null?void 0:E.address)};return Je(v),at(v)}),b=l.stateOverrides?Ao(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:b})}const d=(typeof n=="bigint"?R(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},d]})).map((l,h)=>({...To(l),calls:l.calls.map((p,b)=>{var O,B;const{abi:g,args:P,functionName:E,to:w}=s[h].calls[b],v=((O=p.error)==null?void 0:O.data)??p.returnData,m=BigInt(p.gasUsed),y=(B=p.logs)==null?void 0:B.map(C=>Ze(C)),x=p.status==="0x1"?"success":"failure",$=g&&x==="success"&&v!=="0x"?it({abi:g,data:v,functionName:E}):null,I=(()=>{if(x==="success")return;let C;if(v==="0x"?C=new Ln:v&&(C=new Br({data:v})),!!C)return Et(C,{abi:g??[],address:w??"0x",args:P,functionName:E??"<unknown>"})})();return{data:v,gasUsed:m,logs:y,status:x,...x==="success"?{result:$}:{error:I}}})}))}catch(c){const u=c,d=Or(u,{});throw d instanceof Wn?u:d}}function Qs(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new q("Unable to normalize signature.");return s}function eo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Hs(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>eo(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>eo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Iu(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Iu(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Hs(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Hs(n[r],{strict:!1}):!1)return i}}function Au(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?wi(e):e;return{...r,...n?{hash:Mt(r)}:{}}}function Dr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=ul(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Su(u)===Re(t,0,4):u.type==="event"?Mt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new gr({name:t});if(i.length===1)return{...i[0],...s?{hash:Mt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Mt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((f,l)=>{const h="inputs"in u&&u.inputs[l];return h?eo(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=Iu(u.inputs,a.inputs,r);if(f)throw new Tp({abiItem:u,type:f[0]},{abiItem:a,type:f[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...d]=i;return{...u,overloads:d}})();if(!c)throw new gr({name:t});return{...c,...s?{hash:Mt(c)}:{}}}function Su(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dr(n,r)}return e[0]})();return Re(Mt(t),0,4)}function Cp(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Dr(r,s)}return e[0]})(),n=typeof t=="string"?t:pr(t);return Qs(n)}function Mt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Dr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:ru(Po(Cp(t)))}class Tp extends q{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Qs(pr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Qs(pr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class gr extends q{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function kp(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,a]=e;return[Np(i),a]}return e})(),{bytecode:r,args:s}=n;return Be(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?Wo(t.inputs,s):"0x")}function _p(e){return Au(e)}function Np(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new gr({name:"constructor"});return t}function Op(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,d,f]=e;return[Ji(u,d,{args:f}),f]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Ji([t,...r],t.name,{args:n}):t,o=Rp(s),i=n.length>0?Wo(s.inputs,n):void 0;return i?Be(o,i):o}function Nt(e,t={}){return Au(e,t)}function Ji(e,t,n){const r=Dr(e,t,n);if(r.type!=="function")throw new gr({name:t,type:"function"});return r}function Rp(e){return Su(e)}const Fp="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Oe="0x0000000000000000000000000000000000000000",zp="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Mp(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?Z(t.account):void 0;if(i&&!u)throw new S("`account` is required when `traceAssetChanges` is true");const d=u?kp(_p("constructor(bytes, bytes)"),{bytecode:gc,args:[zp,Op(Nt("function getBalance(address)"),[u.address])]}):void 0,f=i?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:z}=await Ic(e,{account:u.address,...k,data:k.abi?me(k):k.data});return z.map(({address:L,storageKeys:U})=>U.length>0?L:null)})).then(k=>k.flat().filter(Boolean)):[],l=await Xs(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:o},{calls:f.map((k,z)=>({abi:[Nt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Oe,nonce:z})),stateOverrides:[{address:Oe,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:d}]},{calls:f.map((k,z)=>({abi:[Nt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:Oe,nonce:z})),stateOverrides:[{address:Oe,nonce:0}]},{calls:f.map((k,z)=>({to:k,abi:[Nt("function decimals() returns (uint256)")],functionName:"decimals",from:Oe,nonce:z})),stateOverrides:[{address:Oe,nonce:0}]},{calls:f.map((k,z)=>({to:k,abi:[Nt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Oe,nonce:z})),stateOverrides:[{address:Oe,nonce:0}]},{calls:f.map((k,z)=>({to:k,abi:[Nt("function symbol() returns (string)")],functionName:"symbol",from:Oe,nonce:z})),stateOverrides:[{address:Oe,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[p,b,,g,P,E,w,v]=i?l:[],{calls:m,...y}=h,x=m.slice(0,-1)??[],$=(p==null?void 0:p.calls)??[],I=(b==null?void 0:b.calls)??[],O=[...$,...I].map(k=>k.status==="success"?re(k.data):null),B=(g==null?void 0:g.calls)??[],C=(P==null?void 0:P.calls)??[],T=[...B,...C].map(k=>k.status==="success"?re(k.data):null),j=((E==null?void 0:E.calls)??[]).map(k=>k.status==="success"?k.result:null),A=((v==null?void 0:v.calls)??[]).map(k=>k.status==="success"?k.result:null),N=((w==null?void 0:w.calls)??[]).map(k=>k.status==="success"?k.result:null),F=[];for(const[k,z]of T.entries()){const L=O[k];if(typeof z!="bigint"||typeof L!="bigint")continue;const U=j[k-1],V=A[k-1],X=N[k-1],Y=k===0?{address:Fp,decimals:18,symbol:"ETH"}:{address:f[k-1],decimals:X||U?Number(U??1):void 0,symbol:V??void 0};F.some(Q=>Q.token.address===Y.address)||F.push({token:Y,value:{pre:L,post:z,diff:z-L}})}return{assetChanges:F,block:y,results:x}}async function Lp(e,t){var d;const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:(d=e.dataSuffix)==null?void 0:d.value,...a}=t,c=a.account?Z(a.account):e.account,u=me({abi:n,args:s,functionName:o});try{const{data:f}=await M(e,Zn,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),l=it({abi:n,args:s,functionName:o,data:f||"0x"}),h=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:l,request:{abi:h,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw Et(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}async function Gr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Bu="0x6492649264926492649264926492649264926492649264926492649264926492";function jp(e){if(Re(e,-32)!==Bu)throw new Gp(e)}function Up(e){const{data:t,signature:n,to:r}=e;return Be(Wo(iu("address, bytes, bytes"),[r,t,n]),Bu)}function Dp(e){try{return jp(e),!0}catch{return!1}}class Gp extends q{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function qp({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new xu.Signature(re(e),re(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:ze(i)}async function qr(e,t){var c,u,d,f;const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??((u=(c=r==null?void 0:r.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((f=(d=r==null?void 0:r.contracts)==null?void 0:d.multicall3)==null?void 0:f.address)}=t;if(r!=null&&r.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const l=t.signature;return Fe(l)?l:typeof l=="object"&&"r"in l&&"s"in l?qp(l):J(l)})();try{return xp(a)?await Hp(e,{...t,multicallAddress:i,signature:a}):await Vp(e,{...t,verifierAddress:o,signature:a})}catch(l){try{if(Qn(tt(n),await Cc({hash:s,signature:a})))return!0}catch{}if(l instanceof St)return!1;throw l}}async function Hp(e,t){var g;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:d}=vp(t.signature);if(await Gs(e,{address:n,blockNumber:r,blockTag:s})===_e(["0xef0100",a.address]))return await Wp(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:R(a.r,{size:32}),s:R(a.s,{size:32}),yParity:a.yParity};if(!await Uh({address:n,authorization:l}))throw new St;const p=await M(e,Te,"readContract")({...i?{address:i}:{code:Eo},authorizationList:[l],abi:Dt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:me({abi:da,functionName:"isValidSignature",args:[o,u]})}]]}),b=(g=p[p.length-1])==null?void 0:g.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new St}async function Vp(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||Dp(i)?i:Up({data:s,signature:i,to:r}))(),d=a?{to:a,data:me({abi:oi,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Nr({abi:oi,args:[n,o,u],bytecode:bl}),...c},{data:f}=await M(e,Zn,"call")(d).catch(l=>{throw l instanceof Qa?new St:l});if(m0(f??"0x0"))return!0;throw new St}async function Wp(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await M(e,Te,"readContract")({address:n,abi:da,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof ec?new St:c})).startsWith("0x1626ba7e"))return!0;throw new St}class St extends Error{}async function Zp(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Zc(n);return M(e,qr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function Kp(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...d}=t,f=n1({message:i,primaryType:a,types:c,domain:u});return M(e,qr,"verifyHash")({address:n,factory:r,factoryData:s,hash:f,signature:o,...d})}const bs=new Map,Xi=new Map;let Yp=0;function Ke(e,t,n){const r=++Yp,s=()=>bs.get(e)||[],o=()=>{const d=s();bs.set(e,d.filter(f=>f.id!==r))},i=()=>{const d=s();if(!d.some(l=>l.id===r))return;const f=Xi.get(e);if(d.length===1&&f){const l=f();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(bs.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const d in t)c[d]=((...f)=>{var h,p;const l=s();if(l.length!==0)for(const b of l)(p=(h=b.fns)[d])==null||p.call(h,...f)});const u=n(c);return typeof u=="function"&&Xi.set(e,u),i}function sn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await qs(c);const u=async()=>{s&&(await e({unpoll:o}),await qs(r),u())};u()})(),o}function Cu(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const f=ee(["watchBlockNumber",e.uid,t,n,i]);return Ke(f,{onBlockNumber:r,onError:s},l=>sn(async()=>{var h;try{const p=await M(e,Xn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)l.onBlockNumber(b,c),c=b}(c===void 0||p>c)&&(l.onBlockNumber(p,c),c=p)}catch(p){(h=l.onError)==null||h.call(l,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const f=ee(["watchBlockNumber",e.uid,t,n]);return Ke(f,{onBlockNumber:r,onError:s},l=>{let h=!0,p=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(P){var w;if(!h)return;const E=re((w=P.result)==null?void 0:w.number);l.onBlockNumber(E,c),c=E},onError(P){var E;(E=l.onError)==null||E.call(l,P)}});p=g,h||p()}catch(b){s==null||s(b)}})(),()=>p()})})()}async function Tu(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:m})=>~~(1<<m)*200,timeout:c=18e4}=t,u=ee(["waitForTransactionReceipt",e.uid,s]),d=(()=>{var m;return t.pollingInterval?t.pollingInterval:(m=e.chain)!=null&&m.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let f,l,h,p=!1,b,g;const{promise:P,resolve:E,reject:w}=Io(),v=c?setTimeout(()=>{g==null||g(),b==null||b(),w(new Pf({hash:s}))},c):void 0;return b=Ke(u,{onReplaced:o,resolve:E,reject:w},async m=>{if(h=await M(e,dr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(v),m.resolve(h),b==null||b();return}g=M(e,Cu,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(y){const x=I=>{clearTimeout(v),g==null||g(),I(),b==null||b()};let $=y;if(!p)try{if(h){if(r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;x(()=>m.resolve(h));return}if(n&&!f&&(p=!0,await Fn(async()=>{f=await M(e,Xo,"getTransaction")({hash:s}),f.blockNumber&&($=f.blockNumber)},{delay:a,retryCount:i}),p=!1),h=await M(e,dr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r))return;x(()=>m.resolve(h))}catch(I){if(I instanceof Ya||I instanceof Ja){if(!f){p=!1;return}try{l=f,p=!0;const O=await Fn(()=>M(e,Ae,"getBlock")({blockNumber:$,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:T})=>T instanceof Nc});p=!1;const B=O.transactions.find(({from:T,nonce:j})=>T===l.from&&j===l.nonce);if(!B||(h=await M(e,dr,"getTransactionReceipt")({hash:B.hash}),r>1&&(!h.blockNumber||$-h.blockNumber+1n<r)))return;let C="replaced";B.to===l.to&&B.value===l.value&&B.input===l.input?C="repriced":B.from===B.to&&B.value===0n&&(C="cancelled"),x(()=>{var T;(T=m.onReplaced)==null||T.call(m,{reason:C,replacedTransaction:l,transaction:B,transactionReceipt:h}),m.resolve(h)})}catch(O){x(()=>m.reject(O))}}else x(()=>m.reject(I))}}})}),P}function Jp(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let f;return u?(()=>{const p=ee(["watchBlocks",e.uid,t,n,r,d,c]);return Ke(p,{onBlock:s,onError:o},b=>sn(async()=>{var g;try{const P=await M(e,Ae,"getBlock")({blockTag:t,includeTransactions:d});if(P.number!==null&&(f==null?void 0:f.number)!=null){if(P.number===f.number)return;if(P.number-f.number>1&&n)for(let E=(f==null?void 0:f.number)+1n;E<P.number;E++){const w=await M(e,Ae,"getBlock")({blockNumber:E,includeTransactions:d});b.onBlock(w,f),f=w}}((f==null?void 0:f.number)==null||t==="pending"&&(P==null?void 0:P.number)==null||P.number!==null&&P.number>f.number)&&(b.onBlock(P,f),f=P)}catch(P){(g=b.onError)==null||g.call(b,P)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=!0,g=()=>p=!1;return(async()=>{try{r&&M(e,Ae,"getBlock")({blockTag:t,includeTransactions:d}).then(w=>{p&&b&&(s(w,void 0),b=!1)}).catch(o);const P=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:E}=await P.subscribe({params:["newHeads"],async onData(w){var m;if(!p)return;const v=await M(e,Ae,"getBlock")({blockNumber:(m=w.result)==null?void 0:m.number,includeTransactions:d}).catch(()=>{});p&&(s(v,f),b=!1,f=v)},onError(w){o==null||o(w)}});g=E,p||g()}catch(P){o==null||o(P)}})(),()=>g()})()}function Xp(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:f=e.pollingInterval,strict:l}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=l??!1,P=ee(["watchContractEvent",r,s,o,e.uid,i,f,g,a]);return Ke(P,{onLogs:u,onError:c},E=>{let w;a!==void 0&&(w=a-1n);let v,m=!1;const y=sn(async()=>{var x;if(!m){try{v=await M(e,Ac,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:a})}catch{}m=!0;return}try{let $;if(v)$=await M(e,Lr,"getFilterChanges")({filter:v});else{const I=await M(e,Xn,"getBlockNumber")({});w&&w<I?$=await M(e,qc,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:I,strict:g}):$=[],w=I}if($.length===0)return;if(o)E.onLogs($);else for(const I of $)E.onLogs([I])}catch($){v&&$ instanceof st&&(m=!1),(x=E.onError)==null||x.call(E,$)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await M(e,Gr,"uninstallFilter")({filter:v}),y()}})})():(()=>{const g=l??!1,P=ee(["watchContractEvent",r,s,o,e.uid,i,f,g]);let E=!0,w=()=>E=!1;return Ke(P,{onLogs:u,onError:c},v=>((async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),y=i?Kn({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await m.subscribe({params:["logs",{address:r,topics:y}],onData($){var O;if(!E)return;const I=$.result;try{const{eventName:B,args:C}=yr({abi:n,data:I.data,topics:I.topics,strict:l}),T=Ze(I,{args:C,eventName:B});v.onLogs([T])}catch(B){let C,T;if(B instanceof hr||B instanceof oo){if(l)return;C=B.abiItem.name,T=(O=B.abiItem.inputs)==null?void 0:O.some(A=>!("name"in A&&A.name))}const j=Ze(I,{args:T?[]:{},eventName:C});v.onLogs([j])}},onError($){var I;(I=v.onError)==null||I.call(v,$)}});w=x,E||w()}catch(m){c==null||c(m)}})(),()=>w()))})()}function Qp(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:f}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return l?(()=>{const g=ee(["watchEvent",t,n,r,e.uid,s,d,i]);return Ke(g,{onLogs:c,onError:a},P=>{let E;i!==void 0&&(E=i-1n);let w,v=!1;const m=sn(async()=>{var y;if(!v){try{w=await M(e,Sc,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}v=!0;return}try{let x;if(w)x=await M(e,Lr,"getFilterChanges")({filter:w});else{const $=await M(e,Xn,"getBlockNumber")({});E&&E!==$?x=await M(e,jo,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:E+1n,toBlock:$}):x=[],E=$}if(x.length===0)return;if(r)P.onLogs(x);else for(const $ of x)P.onLogs([$])}catch(x){w&&x instanceof st&&(v=!1),(y=P.onError)==null||y.call(P,x)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await M(e,Gr,"uninstallFilter")({filter:w}),m()}})})():(()=>{let g=!0,P=()=>g=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let v=[];w&&(v=[w.flatMap(x=>Kn({abi:[x],eventName:x.name,args:n}))],s&&(v=v[0]));const{unsubscribe:m}=await E.subscribe({params:["logs",{address:t,topics:v}],onData(y){var $;if(!g)return;const x=y.result;try{const{eventName:I,args:O}=yr({abi:w??[],data:x.data,topics:x.topics,strict:h}),B=Ze(x,{args:O,eventName:I});c([B])}catch(I){let O,B;if(I instanceof hr||I instanceof oo){if(f)return;O=I.abiItem.name,B=($=I.abiItem.inputs)==null?void 0:$.some(T=>!("name"in T&&T.name))}const C=Ze(x,{args:B?[]:{},eventName:O});c([C])}},onError(y){a==null||a(y)}});P=m,g||P()}catch(E){a==null||a(E)}})(),()=>P()})()}function eb(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=ee(["watchPendingTransactions",e.uid,t,o]);return Ke(u,{onTransactions:r,onError:n},d=>{let f;const l=sn(async()=>{var h;try{if(!f)try{f=await M(e,Bc,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const p=await M(e,Lr,"getFilterChanges")({filter:f});if(p.length===0)return;if(t)d.onTransactions(p);else for(const b of p)d.onTransactions([b])}catch(p){(h=d.onError)==null||h.call(d,p)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await M(e,Gr,"uninstallFilter")({filter:f}),l()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n==null||n(l)}});d=f,u||d()}catch(f){n==null||n(f)}})(),()=>d()})()}async function tb(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:R(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}class ut extends S{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class gt extends S{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function Qo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const ms=new en(128);async function Hr(e,t){var v,m,y,x,$;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(v=e.dataSuffix)==null?void 0:v.value,gas:d,gasPrice:f,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,type:g,value:P,...E}=t;if(typeof n>"u")throw new ut({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Z(n):null;try{Je(t);const I=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await zr({authorization:i[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let O;s!==null&&(O=await M(e,ct,"getChainId")({}),r&&Do({currentChainId:O,chain:s}));const B=(x=(y=(m=e.chain)==null?void 0:m.formatters)==null?void 0:y.transactionRequest)==null?void 0:x.format,T=(B||at)({...rn(E,{format:B}),accessList:o,account:w,authorizationList:i,blobs:a,chainId:O,data:c&&oe([c,u??"0x"]),gas:d,gasPrice:f,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:I,type:g,value:P},"sendTransaction"),j=ms.get(e.uid),A=j?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:A,params:[T]},{retryCount:0})}catch(N){if(j===!1)throw N;const F=N;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[T]},{retryCount:0}).then(k=>(ms.set(e.uid,!0),k)).catch(k=>{const z=k;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(ms.set(e.uid,!1),F):z});throw F}}if((w==null?void 0:w.type)==="local"){const O=await M(e,Jn,"prepareTransactionRequest")({account:w,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&oe([c,u??"0x"]),gas:d,gasPrice:f,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:w.nonceManager,parameters:[...zo,"sidecars"],type:g,value:P,...E,to:I}),B=($=s==null?void 0:s.serializers)==null?void 0:$.transaction,C=await w.signTransaction(O,{serializer:B});return await M(e,Qo,"sendRawTransaction")({serializedTransaction:C})}throw(w==null?void 0:w.type)==="smart"?new gt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new gt({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(I){throw I instanceof gt?I:Mr(I,{...t,account:w,chain:t.chain||void 0})}}function nb(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Nr({abi:n,args:r,bytecode:s});return Hr(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function rb(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>jn(r))}const ku="0x5792579257925792579257925792579257925792579257925792579257925792",_u=R(0,{size:32});async function Nu(e,t){var l;const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,u=n?Z(n):null;let d=t.capabilities;e.dataSuffix&&!((l=t.capabilities)!=null&&l.dataSuffix)&&(typeof e.dataSuffix=="string"?d={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:d={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const f=t.calls.map(h=>{const p=h,b=p.abi?me({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&b?oe([b,p.dataSuffix]):b,to:p.to,value:p.value?R(p.value):void 0}});try{const h=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:f,capabilities:d,chainId:R(r.id),from:u==null?void 0:u.address,id:a,version:c}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const p=h;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(d&&Object.values(d).some(w=>!w.optional)){const w="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Zt(new S(w,{details:w}))}if(i&&f.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Kt(new S(E,{details:E}))}const b=[];for(const E of f){const w=Hr(e,{account:u,chain:r,data:E.data,to:E.to,value:E.value?re(E.value):void 0});b.push(w),o>0&&await new Promise(v=>setTimeout(v,o))}const g=await Promise.allSettled(b);if(g.every(E=>E.status==="rejected"))throw g[0].reason;const P=g.map(E=>E.status==="fulfilled"?E.value:_u);return{id:oe([...P,R(r.id,{size:32}),ku])}}throw Mr(h,{...t,account:u,chain:t.chain})}}async function Ou(e,t){async function n(d){if(d.endsWith(ku.slice(2))){const l=Ee(Es(d,-64,-32)),h=Es(d,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(g=>_u.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),b=p.some(g=>g===null)?100:p.every(g=>(g==null?void 0:g.status)==="0x1")?200:p.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:$e(l),receipts:p.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:r,chainId:s?$e(s):void 0,receipts:(o==null?void 0:o.map(d=>({...d,blockNumber:re(d.blockNumber),gasUsed:re(d.gasUsed),status:Vc[d.status]})))??[],statusCode:u,status:c,version:i}}async function sb(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?Z(n):void 0,o=r?[s==null?void 0:s.address,[R(r)]]:[s==null?void 0:s.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[d,f]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),a[Number(c)][d]=f}return typeof r=="number"?a[r]:a}async function ob(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Ru(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new ut({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Z(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:Z(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await M(e,ct,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await M(e,_o,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&Qn(i.address,o.address))&&(a.nonce+=1)),a}async function ib(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>tt(n))}async function ab(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class cb extends S{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function Fu(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:i=({count:b})=>~~(1<<b)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=ee(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:f,reject:l}=Io();let h;const p=Ke(u,{resolve:f,reject:l},b=>{const g=sn(async()=>{const P=E=>{clearTimeout(h),g(),E(),p()};try{const E=await Fn(async()=>{const w=await M(e,Ou,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new cb(w);return w},{retryCount:o,delay:i});if(!s(E))return;P(()=>b.resolve(E))}catch(E){P(()=>b.reject(E))}},{interval:r,emitOnBegin:!0});return g});return h=a?setTimeout(()=>{p(),clearTimeout(h),l(new ub({id:n}))},a):void 0,await d}class ub extends S{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function db(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await M(e,Nu,"sendCalls")(t);return await M(e,Fu,"waitForCallsStatus")({...t,id:s.id,timeout:r})}async function ei(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,R(r)]:[t]},{retryCount:0}),i=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Go)(s);if(i.status==="reverted"&&n)throw new Xa({receipt:i});return i}const ys=new en(128);async function zu(e,t){var x,$,I,O,B;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(x=e.dataSuffix)==null?void 0:x.value,gas:d,gasPrice:f,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,pollingInterval:g,throwOnReceiptRevert:P,type:E,value:w,...v}=t,m=t.timeout??Math.max(((s==null?void 0:s.blockTime)??0)*3,5e3);if(typeof n>"u")throw new ut({docsPath:"/docs/actions/wallet/sendTransactionSync"});const y=n?Z(n):null;try{Je(t);const C=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await zr({authorization:i[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let T;s!==null&&(T=await M(e,ct,"getChainId")({}),r&&Do({currentChainId:T,chain:s}));const j=(O=(I=($=e.chain)==null?void 0:$.formatters)==null?void 0:I.transactionRequest)==null?void 0:O.format,N=(j||at)({...rn(v,{format:j}),accessList:o,account:y,authorizationList:i,blobs:a,chainId:T,data:c&&oe([c,u??"0x"]),gas:d,gasPrice:f,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:C,type:E,value:w},"sendTransaction"),F=ys.get(e.uid),k=F?"wallet_sendTransaction":"eth_sendTransaction",z=await(async()=>{try{return await e.request({method:k,params:[N]},{retryCount:0})}catch(U){if(F===!1)throw U;const V=U;if(V.name==="InvalidInputRpcError"||V.name==="InvalidParamsRpcError"||V.name==="MethodNotFoundRpcError"||V.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then(X=>(ys.set(e.uid,!0),X)).catch(X=>{const Y=X;throw Y.name==="MethodNotFoundRpcError"||Y.name==="MethodNotSupportedRpcError"?(ys.set(e.uid,!1),V):Y});throw V}})(),L=await M(e,Tu,"waitForTransactionReceipt")({checkReplacement:!1,hash:z,pollingInterval:g,timeout:m});if(P&&L.status==="reverted")throw new Xa({receipt:L});return L}if((y==null?void 0:y.type)==="local"){const T=await M(e,Jn,"prepareTransactionRequest")({account:y,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&oe([c,u??"0x"]),gas:d,gasPrice:f,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:y.nonceManager,parameters:[...zo,"sidecars"],type:E,value:w,...v,to:C}),j=(B=s==null?void 0:s.serializers)==null?void 0:B.transaction,A=await y.signTransaction(T,{serializer:j});return await M(e,ei,"sendRawTransactionSync")({serializedTransaction:A,throwOnReceiptRevert:P,timeout:t.timeout})}throw(y==null?void 0:y.type)==="smart"?new gt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new gt({docsPath:"/docs/actions/wallet/sendTransactionSync",type:y==null?void 0:y.type})}catch(C){throw C instanceof gt?C:Mr(C,{...t,account:y,chain:t.chain||void 0})}}async function fb(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function lb(e,t){const{account:n=e.account}=t;if(!n)throw new ut({docsPath:"/docs/eip7702/signAuthorization"});const r=Z(n);if(!r.signAuthorization)throw new gt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Ru(e,t);return r.signAuthorization(s)}async function Mu(e,{account:t=e.account,message:n}){if(!t)throw new ut({docsPath:"/docs/actions/wallet/signMessage"});const r=Z(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?qt(n):n.raw instanceof Uint8Array?he(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function hb(e,t){var u,d,f,l;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ut({docsPath:"/docs/actions/wallet/signTransaction"});const o=Z(n);Je({account:o,...t});const i=await M(e,ct,"getChainId")({});r!==null&&Do({currentChainId:i,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||at;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:(l=(f=e.chain)==null?void 0:f.serializers)==null?void 0:l.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:R(i),from:o.address}]},{retryCount:0})}async function pb(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new ut({docsPath:"/docs/actions/wallet/signTypedData"});const i=Z(n),a={EIP712Domain:Yc({domain:r}),...t.types};if(Kc({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=e1({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function bb(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:R(t)}]},{retryCount:0})}async function mb(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Yt(e,t){return Yt.internal(e,Hr,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:d,...f}=o;if(typeof a>"u")throw new ut({docsPath:"/docs/contract/writeContract"});const l=a?Z(a):null,h=me({abi:i,args:u,functionName:d});try{return await M(n,r,s)({data:h,to:c,account:l,...f})}catch(p){throw Et(p,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:l==null?void 0:l.address})}}e.internal=t})(Yt||(Yt={}));async function yb(e,t){return Yt.internal(e,zu,"sendTransactionSync",t)}function Lu(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const fr="2.22.1",gb=()=>`@wagmi/core@${fr}`;var ju=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},wr,Uu;class Me extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return gb()}constructor(t,n={}){var o;super(),wr.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Me?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Me&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return ju(this,wr,"m",Uu).call(this,this,t)}}wr=new WeakSet,Uu=function e(t,n){return n!=null&&n(t)?t:t.cause?ju(this,wr,"m",e).call(this,t.cause,n):t};class to extends Me{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class wb extends Me{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class vb extends Me{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class xb extends Me{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Pb extends Me{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Eb extends Me{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function $b(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new wb;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=t,i=await n.connect(o);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:o.withCapabilities?i.accounts.map(c=>typeof c=="object"?c.address:c):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o.withCapabilities?i.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(s){throw e.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const no=256;let ir=no,ar;function Du(e=11){if(!ar||ir+e>no*2){ar="",ir=0;for(let t=0;t<no;t++)ar+=(256+Math.random()*256|0).toString(16).substring(1)}return ar.substring(ir,ir+++e)}function ti(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),u=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),f=e.pollingInterval??d,l=e.cacheTime??f,h=e.account?Z(e.account):void 0,{config:p,request:b,value:g}=e.transport({account:h,chain:n,pollingInterval:f}),P={...p,...g},E={account:h,batch:t,cacheTime:l,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:f,request:b,transport:P,type:a,uid:Du(),...c?{experimental_blockTag:c}:{}};function w(v){return m=>{const y=m(v);for(const $ in E)delete y[$];const x={...v,...y};return Object.assign(x,{extend:w(x)})}}return Object.assign(E,{extend:w(E)})}function Ib(e){var f,l,h;const{scheme:t,statement:n,...r}=((f=e.match(Ab))==null?void 0:f.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((l=e.match(Sb))==null?void 0:l.groups)??{},d=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Ab=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Sb=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Bb(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!te(r.address,{strict:!1})||t&&!Qn(r.address,t))return!1}catch{return!1}return!0}async function Cb(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,d=Ib(s);if(!d.address||!Bb({address:n,domain:r,message:d,nonce:o,scheme:i,time:c}))return!1;const l=Zc(s);return qr(e,{address:d.address,hash:l,signature:a,...u})}function Tb(e){return{call:t=>Zn(e,t),createAccessList:t=>Ic(e,t),createBlockFilter:()=>Ll(e),createContractEventFilter:t=>Ac(e,t),createEventFilter:t=>Sc(e,t),createPendingTransactionFilter:()=>Bc(e),estimateContractGas:t=>hh(e,t),estimateGas:t=>Mo(e,t),getBalance:t=>ph(e,t),getBlobBaseFee:()=>bh(e),getBlock:t=>Ae(e,t),getBlockNumber:t=>Xn(e,t),getBlockTransactionCount:t=>xh(e,t),getBytecode:t=>Gs(e,t),getChainId:()=>ct(e),getCode:t=>Gs(e,t),getContractEvents:t=>qc(e,t),getEip712Domain:t=>Ih(e,t),getEnsAddress:t=>El(e,t),getEnsAvatar:t=>Fl(e,t),getEnsName:t=>zl(e,t),getEnsResolver:t=>Ml(e,t),getEnsText:t=>$c(e,t),getFeeHistory:t=>Bh(e,t),estimateFeesPerGas:t=>Ql(e,t),getFilterChanges:t=>Lr(e,t),getFilterLogs:t=>Ch(e,t),getGasPrice:()=>ko(e),getLogs:t=>jo(e,t),getProof:t=>Ip(e,t),estimateMaxPriorityFeePerGas:t=>Xl(e,t),fillTransaction:t=>Fo(e,t),getStorageAt:t=>Ap(e,t),getTransaction:t=>Xo(e,t),getTransactionConfirmations:t=>Sp(e,t),getTransactionCount:t=>_o(e,t),getTransactionReceipt:t=>dr(e,t),multicall:t=>Bp(e,t),prepareTransactionRequest:t=>Jn(e,t),readContract:t=>Te(e,t),sendRawTransaction:t=>Qo(e,t),sendRawTransactionSync:t=>ei(e,t),simulate:t=>Xs(e,t),simulateBlocks:t=>Xs(e,t),simulateCalls:t=>Mp(e,t),simulateContract:t=>Lp(e,t),verifyHash:t=>qr(e,t),verifyMessage:t=>Zp(e,t),verifySiweMessage:t=>Cb(e,t),verifyTypedData:t=>Kp(e,t),uninstallFilter:t=>Gr(e,t),waitForTransactionReceipt:t=>Tu(e,t),watchBlocks:t=>Jp(e,t),watchBlockNumber:t=>Cu(e,t),watchContractEvent:t=>Xp(e,t),watchEvent:t=>Qp(e,t),watchPendingTransactions:t=>eb(e,t)}}function kb(e){const{key:t="public",name:n="Public Client"}=e;return ti({...e,key:t,name:n,type:"publicClient"}).extend(Tb)}function _b(e){return{addChain:t=>tb(e,t),deployContract:t=>nb(e,t),fillTransaction:t=>Fo(e,t),getAddresses:()=>rb(e),getCallsStatus:t=>Ou(e,t),getCapabilities:t=>sb(e,t),getChainId:()=>ct(e),getPermissions:()=>ob(e),prepareAuthorization:t=>Ru(e,t),prepareTransactionRequest:t=>Jn(e,t),requestAddresses:()=>ib(e),requestPermissions:t=>ab(e,t),sendCalls:t=>Nu(e,t),sendCallsSync:t=>db(e,t),sendRawTransaction:t=>Qo(e,t),sendRawTransactionSync:t=>ei(e,t),sendTransaction:t=>Hr(e,t),sendTransactionSync:t=>zu(e,t),showCallsStatus:t=>fb(e,t),signAuthorization:t=>lb(e,t),signMessage:t=>Mu(e,t),signTransaction:t=>hb(e,t),signTypedData:t=>pb(e,t),switchChain:t=>bb(e,t),waitForCallsStatus:t=>Fu(e,t),watchAsset:t=>mb(e,t),writeContract:t=>Yt(e,t),writeContractSync:t=>yb(e,t)}}function Gu({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=Du();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:Gh(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function Nb(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Gu({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}class Ob extends S{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function qu(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:f}=t;return({chain:l,retryCount:h,timeout:p})=>{const{batchSize:b=1e3,wait:g=0}=typeof n=="object"?n:{},P=t.retryCount??h,E=p??t.timeout??1e4,w=l==null?void 0:l.rpcUrls.default.http[0];if(!w)throw new Ob;const v=Wh(w,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:E});return Gu({key:o,methods:i,name:a,async request({method:m,params:y}){const x={method:m,params:y},{schedule:$}=vc({id:w,wait:g,shouldSplitBatch(C){return C.length>b},fn:C=>v.request({body:C}),sort:(C,T)=>C.id-T.id}),I=async C=>n?$(C):[await v.request({body:C})],[{error:O,result:B}]=await I(x);if(f)return{error:O,result:B};if(O)throw new go({body:x,error:O,url:w});return B},retryCount:P,retryDelay:d,timeout:E,type:"http"},{fetchOptions:s,url:w})}}async function ni(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:d}=t;if(e.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new Eb({connector:d});const[f,l]=await Promise.all([d.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),d.getChainId()]);r={accounts:f,chainId:l,connector:d}}else r=e.state.connections.get(e.state.current);if(!r)throw new vb;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new Pb({connectionChainId:s,connectorChainId:o});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const a=Z(t.account??r.accounts[0]);if(a&&(a.address=tt(a.address)),t.account&&!r.accounts.some(d=>d.toLowerCase()===a.address.toLowerCase()))throw new xb({address:a.address,connector:i});const c=e.chains.find(d=>d.id===s),u=await r.connector.getProvider({chainId:s});return ti({account:a,chain:c,name:"Connector Client",transport:d=>Nb(u)({...d,retryCount:0})})}async function Hu(e,t={}){var s,o;let n;if(t.connector)n=t.connector;else{const{connections:i,current:a}=e.state,c=i.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...i,connections:new Map(r),current:a.connector.uid}});{const i=e.state.current;if(!i)return;const a=(s=e.state.connections.get(i))==null?void 0:s.connector;if(!a)return;await((o=e.storage)==null?void 0:o.setItem("recentConnectorId",a.id))}}function Rb(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],o=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function Fb(e,t={}){return(await ni(e,t)).extend(_b)}async function zb(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await ni(e,{account:n,connector:r}),Lu(o,Mu,"signMessage")({...s,...n?{account:n}:{}})}class Ot extends Me{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}async function Mb(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?i=e.getClient({chainId:r}):i=await ni(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await Lu(i,Yt,"writeContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})}tr.type="injected";function tr(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Lb[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:tr.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:f}={}){var p,b,g,P,E,w;const l=await this.getProvider();if(!l)throw new Ot;let h=[];if(d)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(P=(g=(b=(p=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:b[0])==null?void 0:g.value)==null?void 0:P.map(m=>tt(m)),h.length>0&&(h=await this.getAccounts())}catch(v){const m=v;if(m.code===ae.code)throw new ae(m);if(m.code===rt.code)throw m}try{!(h!=null&&h.length)&&!d&&(h=(await l.request({method:"eth_requestAccounts"})).map(y=>tt(y))),i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let v=await this.getChainId();if(u&&v!==u){const m=await this.switchChain({chainId:u}).catch(y=>{if(y.code===ae.code)throw y;return{id:v}});v=(m==null?void 0:m.id)??v}return t&&await((E=c.storage)==null?void 0:E.removeItem(`${this.id}.disconnected`)),e.target||await((w=c.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:f?h.map(m=>({address:m,capabilities:{}})):h,chainId:v}}catch(v){const m=v;throw m.code===ae.code?new ae(m):m.code===rt.code?new rt(m):m}},async disconnect(){var d,f;const u=await this.getProvider();if(!u)throw new Ot;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await Wc(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),e.target||await((f=c.storage)==null?void 0:f.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Ot;return(await u.request({method:"eth_accounts"})).map(f=>tt(f))},async getChainId(){const u=await this.getProvider();if(!u)throw new Ot;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=r();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=lr(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((d=c.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),b=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(P=>window.addEventListener("ethereum#initialized",()=>P(p()),{once:!0}))]:[],new Promise(P=>setTimeout(()=>P(p()),b))]))return!0}throw new Ot}return!!(await Fn(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var p,b,g,P;const f=await this.getProvider();if(!f)throw new Ot;const l=c.chains.find(E=>E.id===d);if(!l)throw new Pt(new to);const h=new Promise(E=>{const w=(v=>{"chainId"in v&&v.chainId===d&&(c.emitter.off("change",w),E())});c.emitter.on("change",w)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:R(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit("change",{chainId:d})}),h]),l}catch(E){const w=E;if(w.code===4902||((b=(p=w==null?void 0:w.data)==null?void 0:p.originalError)==null?void 0:b.code)===4902)try{const{default:v,...m}=l.blockExplorers??{};let y;u!=null&&u.blockExplorerUrls?y=u.blockExplorerUrls:v&&(y=[v.url,...Object.values(m).map(I=>I.url)]);let x;(g=u==null?void 0:u.rpcUrls)!=null&&g.length?x=u.rpcUrls:x=[((P=l.rpcUrls.default)==null?void 0:P.http[0])??""];const $={blockExplorerUrls:y,chainId:R(d),chainName:(u==null?void 0:u.chainName)??l.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??l.nativeCurrency,rpcUrls:x};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[$]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit("change",{chainId:d});else throw new ae(new Error("User rejected switch after adding network."))}),h]),l}catch(v){throw new ae(v)}throw w.code===ae.code?new ae(w):new Pt(w)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(f=>tt(f))})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const f=Number(u.chainId);c.emitter.emit("connect",{accounts:d,chainId:f});const l=await this.getProvider();l&&(i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),a&&(d.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),d.on("connect",i))))}})}const Lb={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:lr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return lr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:lr(e,"isPhantom")}}};function lr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function jb(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Ub(){const e=new Set;let t=[];const n=()=>jb(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const Db=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const d=(c==null?void 0:c.equalityFn)||Object.is;let f=i(r.getState());u=l=>{const h=i(l);if(!d(f,h)){const p=f;a(f=h,p)}},c!=null&&c.fireImmediately&&a(f,f)}return s(u)},e(t,n,r)},Gb=Db;function qb(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const ro=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ro(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ro(r)(n)}}}},Hb=(e,t)=>(n,r,s)=>{let o={storage:qb(()=>localStorage),partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...b)},r,s);const d=()=>{const b=o.partialize({...r()});return u.setItem(o.name,{state:b,version:o.version})},f=s.setState;s.setState=(b,g)=>{f(b,g),d()};const l=e((...b)=>{n(...b),d()},r,s);s.getInitialState=()=>l;let h;const p=()=>{var b,g;if(!u)return;i=!1,a.forEach(E=>{var w;return E((w=r())!=null?w:l)});const P=((g=o.onRehydrateStorage)==null?void 0:g.call(o,(b=r())!=null?b:l))||void 0;return ro(u.getItem.bind(u))(o.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==o.version){if(o.migrate)return[!0,o.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var w;const[v,m]=E;if(h=o.merge(m,(w=r())!=null?w:l),n(h,!0),v)return d()}).then(()=>{P==null||P(h,void 0),h=r(),i=!0,c.forEach(E=>E(h))}).catch(E=>{P==null||P(void 0,E)})};return s.persist={setOptions:b=>{o={...o,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},o.skipHydration||p(),h||l},Vb=Hb,Qi=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const l=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},gs=e=>e?Qi(e):Qi;function Wb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ws={exports:{}},ea;function Zb(){return ea||(ea=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,f,l){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new s(d,f||c,l),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var l=0,h=f.length,p=new Array(h);l<h;l++)p[l]=f[l].fn;return p},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,l,h,p){var b=n?n+u:u;if(!this._events[b])return!1;var g=this._events[b],P=arguments.length,E,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),P){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,l),!0;case 5:return g.fn.call(g.context,d,f,l,h),!0;case 6:return g.fn.call(g.context,d,f,l,h,p),!0}for(w=1,E=new Array(P-1);w<P;w++)E[w-1]=arguments[w];g.fn.apply(g.context,E)}else{var v=g.length,m;for(w=0;w<v;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),P){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,l);break;default:if(!E)for(m=1,E=new Array(P-1);m<P;m++)E[m-1]=arguments[m];g[w].fn.apply(g[w].context,E)}}return!0},a.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,l){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!l||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var b=0,g=[],P=p.length;b<P;b++)(p[b].fn!==d||l&&!p[b].once||f&&p[b].context!==f)&&g.push(p[b]);g.length?this._events[h]=g.length===1?g[0]:g:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(ws)),ws.exports}var Kb=Zb();const Yb=Wb(Kb);class Jb{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Yb})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function Xb(e){return new Jb(e)}function Qb(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function ta(e,t){return e.slice(0,t).join(".")||"."}function na(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function em(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=na(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const d=na(s,c);if(d!==0)return r?t.call(this,a,c,ta(o,d)):`[ref=${ta(o,d)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function tm(e,t,n,r){return JSON.stringify(e,em((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),(t==null?void 0:t(s,i))??i},r),n??void 0)}function nm(e){const{deserialize:t=Qb,key:n="wagmi",serialize:r=tm,storage:s=Vu}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const Vu={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function rm(){const e=typeof window<"u"&&window.localStorage?window.localStorage:Vu;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const so=256;let cr=so,ur;function sm(e=11){if(!ur||cr+e>so*2){ur="",cr=0;for(let t=0;t<so;t++)ur+=(256+Math.random()*256|0).toString(16).substring(1)}return ur.substring(cr,cr+++e)}function om(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=nm({storage:rm()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?Ub():void 0,a=gs(()=>o.chains),c=gs(()=>{const m=[],y=new Set;for(const x of o.connectors??[]){const $=u(x);if(m.push($),!s&&$.rdns){const I=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const O of I)y.add(O)}}if(!s&&i){const x=i.getProviders();for(const $ of x)y.has($.info.rdns)||m.push(u(d($)))}return m});function u(m){var $;const y=Xb(sm()),x={...m({emitter:y,chains:a.getState(),storage:n,transports:o.transports}),emitter:y,uid:y.uid};return y.on("connect",w),($=x.setup)==null||$.call(x),x}function d(m){const{info:y}=m,x=m.provider;return tr({target:{...y,id:y.rdns,provider:x}})}const f=new Map;function l(m={}){const y=m.chainId??g.getState().chainId,x=a.getState().find(I=>I.id===y);if(m.chainId&&!x)throw new to;{const I=f.get(g.getState().chainId);if(I&&!x)return I;if(!x)throw new to}{const I=f.get(y);if(I)return I}let $;if(o.client)$=o.client({chain:x});else{const I=x.id,O=a.getState().map(T=>T.id),B={},C=Object.entries(o);for(const[T,j]of C)if(!(T==="chains"||T==="client"||T==="connectors"||T==="transports"))if(typeof j=="object")if(I in j)B[T]=j[I];else{if(O.some(N=>N in j))continue;B[T]=j}else B[T]=j;$=ti({...B,chain:x,batch:B.batch??{multicall:!0},transport:T=>o.transports[I]({...T,connectors:c})})}return f.set(y,$),$}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const b="0.0.0-canary-";fr.startsWith(b)?p=Number.parseInt(fr.replace(b,""),10):p=Number.parseInt(fr.split(".")[0]??"0",10);const g=gs(Gb(n?Vb(h,{migrate(m,y){if(y===p)return m;const x=h(),$=P(m,x.chainId);return{...x,chainId:$}},name:"store",partialize(m){return{connections:{__type:"Map",value:Array.from(m.connections.entries()).map(([y,x])=>{const{id:$,name:I,type:O,uid:B}=x.connector;return[y,{...x,connector:{id:$,name:I,type:O,uid:B}}]})},chainId:m.chainId,current:m.current}},merge(m,y){typeof m=="object"&&m&&"status"in m&&delete m.status;const x=P(m,y.chainId);return{...y,...m,chainId:x}},skipHydration:s,storage:n,version:p}):h));g.setState(h());function P(m,y){return m&&typeof m=="object"&&"chainId"in m&&typeof m.chainId=="number"&&a.getState().some(x=>x.id===m.chainId)?m.chainId:y}r&&g.subscribe(({connections:m,current:y})=>{var x;return y?(x=m.get(y))==null?void 0:x.chainId:void 0},m=>{if(a.getState().some(x=>x.id===m))return g.setState(x=>({...x,chainId:m??x.chainId}))}),i==null||i.subscribe(m=>{const y=new Set,x=new Set;for(const I of c.getState())if(y.add(I.id),I.rdns){const O=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const B of O)x.add(B)}const $=[];for(const I of m){if(x.has(I.info.rdns))continue;const O=u(d(I));y.has(O.id)||$.push(O)}n&&!g.persist.hasHydrated()||c.setState(I=>[...I,...$],!0)});function E(m){g.setState(y=>{const x=y.connections.get(m.uid);return x?{...y,connections:new Map(y.connections).set(m.uid,{accounts:m.accounts??x.accounts,chainId:m.chainId??x.chainId,connector:x.connector})}:y})}function w(m){g.getState().status==="connecting"||g.getState().status==="reconnecting"||g.setState(y=>{const x=c.getState().find($=>$.uid===m.uid);return x?(x.emitter.listenerCount("connect")&&x.emitter.off("connect",E),x.emitter.listenerCount("change")||x.emitter.on("change",E),x.emitter.listenerCount("disconnect")||x.emitter.on("disconnect",v),{...y,connections:new Map(y.connections).set(m.uid,{accounts:m.accounts,chainId:m.chainId,connector:x}),current:m.uid,status:"connected"}):y})}function v(m){g.setState(y=>{const x=y.connections.get(m.uid);if(x){const I=x.connector;I.emitter.listenerCount("change")&&x.connector.emitter.off("change",E),I.emitter.listenerCount("disconnect")&&x.connector.emitter.off("disconnect",v),I.emitter.listenerCount("connect")||x.connector.emitter.on("connect",w)}if(y.connections.delete(m.uid),y.connections.size===0)return{...y,connections:new Map,current:null,status:"disconnected"};const $=y.connections.values().next().value;return{...y,connections:new Map(y.connections),current:$.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:l,get state(){return g.getState()},setState(m){let y;typeof m=="function"?y=m(g.getState()):y=m;const x=h();typeof y!="object"&&(y=x),Object.keys(x).some(I=>!(I in y))&&(y=x),g.setState(y,!0)},subscribe(m,y,x){return g.subscribe(m,y,x?{...x,fireImmediately:x.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const m=g.getState(),y=m.connections;let x=m.current;for(const[,$]of y){const I=$.connector;I.isAuthorized&&await I.isAuthorized()||(y.delete(I.uid),x===I.uid&&(x=null))}g.setState($=>({...$,connections:y,current:x}))},store:g,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(m){const y=typeof m=="function"?m(a.getState()):m;if(y.length!==0)return a.setState(y,!0)},subscribe(m){return a.subscribe(m)}},connectors:{providerDetailToConnector:d,setup:u,setState(m){return c.setState(typeof m=="function"?m(c.getState()):m,!0)},subscribe(m){return c.subscribe(m)}},events:{change:E,connect:w,disconnect:v}}}}const im={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},am={block:Jl({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Yn(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?re(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:Kl({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?re(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Hh({format(e){return{l1GasPrice:e.l1GasPrice?re(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?re(e.l1GasUsed):null,l1Fee:e.l1Fee?re(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function cm(e,t){return fm(e)?dm(e):Oh(e,t)}const um={transaction:cm};function dm(e){lm(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?he(i):"0x",c?he(c):"0x",s?he(s):"0x",o?"0x1":"0x",n??"0x"];return _e(["0x7e",ot(u)])}function fm(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function lm(e){const{from:t,to:n}=e;if(t&&!te(t))throw new de({address:t});if(n&&!te(n))throw new de({address:n})}const ra={blockTime:2e3,contracts:im,formatters:am,serializers:um},ln=1,vr=Hc({...ra,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ra.contracts,disputeGameFactory:{[ln]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[ln]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[ln]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[ln]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:ln});({...vr});const Wu=tr({target:"metaMask"}),Zu=tr({target:"coinbaseWallet"}),pt=om({chains:[vr],connectors:[Wu,Zu],transports:{[vr.id]:qu()}}),hm="0xA99c4B08201F2913Db8D28e71d020c4298F29dBF",pm=[{type:"function",name:"isPetOperatorForAll",stateMutability:"view",inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"setPetOperatorForAll",stateMutability:"nonpayable",inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],outputs:[]}],bm={class:"wallet-connect"},mm={key:0,class:"space-y-4"},ym={class:"flex flex-col sm:flex-row gap-3"},gm=["disabled"],wm=["disabled"],vm={key:0,class:"text-red-400 text-sm"},xm={key:1,class:"text-slate-400 text-xs mt-1"},Pm={key:1,class:"space-y-4"},Em={class:"bg-emerald-500/20 border border-emerald-500/50 rounded-lg p-4"},$m={class:"text-slate-300 text-sm mt-1 break-all"},Im=["disabled"],Am=Jt({__name:"WalletConnect",setup(e){var h;const n=(((h=Ku().public)==null?void 0:h.allowedAddress)||"0x2127aa7265d573aa467f1d73554d17890b872e76").toLowerCase(),r=W(""),s=W(!1),o=W(!1),i=W(!1),a=W(!1),c=W(""),u=async()=>{try{const p=await $fetch("/api/auth/check");o.value=p.authenticated}catch{o.value=!1}},d=async p=>{var b;i.value=!0,c.value="";try{const P=await $b(pt,{connector:p==="metaMask"?Wu:Zu});(b=P==null?void 0:P.accounts)!=null&&b[0]&&(r.value=P.accounts[0],s.value=!0,P.accounts[0].toLowerCase()!==n?(c.value=`Your address is not whitelisted. Only ${n} is allowed.`,s.value=!1):await u())}catch(g){const P=(g==null?void 0:g.message)||"Failed to connect wallet";P.includes("Provider not found")?c.value="MetaMask/Coinbase not found. Disable Uniswap Wallet and other extensions, or use a private window with only MetaMask or Coinbase.":P.includes("ethereum")&&P.includes("getter")?c.value="Wallet conflict detected. Try disabling other wallet extensions or use a private window with only MetaMask or Coinbase Wallet.":c.value=P,s.value=!1}finally{i.value=!1}},f=async()=>{var p;a.value=!0,c.value="";try{const b=`Sign in to Aavegotchi Petter Bot

Address: ${r.value}

This request will not trigger a blockchain transaction or cost any gas fees.`,g=await zb(pt,{message:b,account:r.value});(await $fetch("/api/auth/verify",{method:"POST",body:{address:r.value,message:b,signature:g}})).success&&(o.value=!0,await vs("/"))}catch(b){c.value=(b==null?void 0:b.message)||((p=b==null?void 0:b.data)==null?void 0:p.message)||"Failed to sign message"}finally{a.value=!1}},l=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await Hu(pt),s.value=!1,o.value=!1,r.value="",await vs("/")}catch(p){console.error("Failed to disconnect:",p)}};return Mn(async()=>{if(typeof window>"u")return;const p=Rb(pt);p.isConnected&&p.address&&(r.value=p.address,s.value=!0,await u())}),(p,b)=>(D(),G("div",bm,[s.value?(D(),G("div",Pm,[_("div",Em,[b[3]||(b[3]=_("p",{class:"text-emerald-400 font-medium"},"Connected",-1)),_("p",$m,H(r.value),1)]),o.value?(D(),G("button",{key:1,onClick:l,class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Disconnect ")):(D(),G("button",{key:0,onClick:f,disabled:a.value,class:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},H(a.value?"Signing...":"Sign Message to Login"),9,Im))])):(D(),G("div",mm,[b[2]||(b[2]=_("p",{class:"text-slate-400"},"Connect with MetaMask or Coinbase Wallet only",-1)),_("div",ym,[_("button",{onClick:b[0]||(b[0]=g=>d("metaMask")),disabled:i.value,class:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},H(i.value?"Connecting...":"MetaMask"),9,gm),_("button",{onClick:b[1]||(b[1]=g=>d("coinbaseWallet")),disabled:i.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},H(i.value?"Connecting...":"Coinbase Wallet"),9,wm)]),c.value?(D(),G("p",vm,H(c.value),1)):Ie("",!0),c.value?(D(),G("p",xm," Have Uniswap or other wallets? Disable them or use a private window with only MetaMask or Coinbase Wallet. ")):Ie("",!0)]))]))}}),xr=window.setInterval,Sm={class:"bot-control"},Bm={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Cm={key:0,class:"text-center py-4"},Tm={key:1,class:"space-y-4"},km={class:"flex items-center justify-between"},_m={key:0},Nm={class:"text-lg font-semibold"},Om={key:0,class:"bg-red-500/20 border border-red-500/50 rounded-lg p-4"},Rm={class:"text-red-300 text-sm mt-1"},Fm={class:"flex gap-4"},zm=["disabled"],Mm=["disabled"],Lm=Jt({__name:"BotControl",setup(e){const t=W({running:!1}),n=W(!0),r=W(!1),s=W(!1),o=async()=>{try{const u=await $fetch("/api/bot/status");t.value=u}catch(u){console.error("Failed to fetch bot status:",u)}finally{n.value=!1}},i=async()=>{r.value=!0;try{const u=t.value.running?"/api/bot/stop":"/api/bot/start";await $fetch(u,{method:"POST"}),await o()}catch(u){console.error("Failed to toggle bot:",u),alert("Failed to toggle bot status")}finally{r.value=!1}},a=async()=>{var u;s.value=!0;try{await $fetch("/api/bot/trigger",{method:"POST"}),alert("Bot triggered successfully!"),await o()}catch(d){console.error("Failed to trigger bot:",d),alert(((u=d==null?void 0:d.data)==null?void 0:u.message)||(d==null?void 0:d.message)||"Failed to trigger bot")}finally{s.value=!1}},c=u=>new Date(u).toLocaleString();return Mn(()=>{o(),xr(o,1e4)}),(u,d)=>(D(),G("div",Sm,[_("div",Bm,[d[4]||(d[4]=_("h2",{class:"text-lg font-semibold mb-4"},"Bot Control",-1)),n.value?(D(),G("div",Cm,[...d[0]||(d[0]=[_("p",{class:"text-slate-400"},"Loading...",-1)])])):(D(),G("div",Tm,[_("div",km,[_("div",null,[d[1]||(d[1]=_("p",{class:"text-sm text-slate-400"},"Status",-1)),_("p",{class:bt(["text-lg font-semibold",t.value.running?"text-emerald-400":"text-red-400"])},H(t.value.running?"Running":"Stopped"),3)]),t.value.lastRun?(D(),G("div",_m,[d[2]||(d[2]=_("p",{class:"text-sm text-slate-400"},"Last Run",-1)),_("p",Nm,H(c(t.value.lastRun)),1)])):Ie("",!0)]),t.value.lastError?(D(),G("div",Om,[d[3]||(d[3]=_("p",{class:"text-red-400 font-medium"},"Last Error",-1)),_("p",Rm,H(t.value.lastError),1)])):Ie("",!0),_("div",Fm,[_("button",{onClick:i,disabled:r.value,class:bt(["px-6 py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",t.value.running?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700"])},H(r.value?"Processing...":t.value.running?"Stop Bot":"Start Bot"),11,zm),_("button",{onClick:a,disabled:s.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},H(s.value?"Running...":"Trigger Now"),9,Mm)])]))])]))}}),jm={class:"delegation-card"},Um={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Dm={key:0,class:"text-center py-4"},Gm={key:1,class:"space-y-4"},qm={class:"bg-white/5 rounded-lg p-4 font-mono text-sm break-all"},Hm={class:"space-y-2"},Vm={class:"flex items-center gap-2"},Wm={class:"flex items-center gap-2"},Zm={key:0,class:"text-sm text-slate-400"},Km={class:"flex flex-col gap-2"},Ym=["disabled"],Jm=["disabled"],Xm={key:2,class:"px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg text-sm border border-emerald-500/50"},Qm=Jt({__name:"DelegationCard",setup(e){const t=W(null),n=W(""),r=W(!0),s=W(!1),o=W(!1),i=async()=>{try{const u=await $fetch("/api/delegation/status");t.value=u,n.value=u.petterAddress||""}catch(u){console.error("Failed to fetch delegation status:",u)}finally{r.value=!1}},a=async()=>{if(!n.value){alert("Petter address not configured");return}s.value=!0;try{if(!await Fb(pt)){alert("Please connect your wallet first");return}await Mb(pt,{address:hm,abi:pm,functionName:"setPetOperatorForAll",args:[n.value,!0]}),await i()}catch(u){console.error("Approve failed:",u),alert((u==null?void 0:u.message)||"Approval failed")}finally{s.value=!1}},c=async()=>{var u;o.value=!0;try{await $fetch("/api/delegation/register",{method:"POST"}),await i()}catch(d){alert(((u=d==null?void 0:d.data)==null?void 0:u.message)||(d==null?void 0:d.message)||"Registration failed")}finally{o.value=!1}};return Mn(()=>{i()}),(u,d)=>{var f,l,h,p,b,g,P,E;return D(),G("div",jm,[_("div",Um,[d[2]||(d[2]=_("h2",{class:"text-lg font-semibold mb-2"},"EIP PetOperator Delegation",-1)),d[3]||(d[3]=_("p",{class:"text-slate-400 text-sm mb-4"}," Keep your Aavegotchis in your wallet. Approve our petter to pet on your behalfno transfer needed. ",-1)),r.value?(D(),G("div",Dm,[...d[0]||(d[0]=[_("p",{class:"text-slate-400"},"Loading...",-1)])])):(D(),G("div",Gm,[_("div",qm,[d[1]||(d[1]=_("span",{class:"text-slate-400"},"Petter address: ",-1)),Yu(" "+H(n.value||""),1)]),_("div",Hm,[_("div",Vm,[_("span",{class:bt(["w-3 h-3 rounded-full",(f=t.value)!=null&&f.approved?"bg-emerald-500":"bg-amber-500"])},null,2),_("span",null,H((l=t.value)!=null&&l.approved?"Approved":"Not approved"),1)]),_("div",Wm,[_("span",{class:bt(["w-3 h-3 rounded-full",(h=t.value)!=null&&h.registered?"bg-emerald-500":"bg-slate-500"])},null,2),_("span",null,H((p=t.value)!=null&&p.registered?"Registered":"Not registered"),1)]),((b=t.value)==null?void 0:b.gotchiCount)!==void 0?(D(),G("div",Zm,H(t.value.gotchiCount)+" Aavegotchi(es) in your wallet ",1)):Ie("",!0)]),_("div",Km,[(g=t.value)!=null&&g.approved?(P=t.value)!=null&&P.canRegister?(D(),G("button",{key:1,onClick:c,disabled:o.value,class:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 font-medium"},H(o.value?"Registering...":"2. Register for Auto-Petting"),9,Jm)):(E=t.value)!=null&&E.registered?(D(),G("div",Xm,"  You're all set! Your Aavegotchis will be petted every 12 hours. ")):Ie("",!0):(D(),G("button",{key:0,onClick:a,disabled:s.value,class:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 font-medium"},H(s.value?"Confirm in wallet...":"1. Approve Petter (sign tx)"),9,Ym))])]))])])}}}),ey={class:"delegation-list"},ty={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},ny={class:"flex items-center justify-between mb-4"},ry=["disabled"],sy={key:0,class:"text-center py-8 text-slate-400"},oy={key:1,class:"text-center py-8 text-slate-400"},iy={key:2,class:"space-y-4"},ay={class:"flex justify-between text-sm text-slate-400 mb-2"},cy={class:"font-semibold text-white"},uy={class:"space-y-2 max-h-64 overflow-y-auto"},dy=["href"],fy={class:"text-emerald-400 font-medium ml-3 shrink-0"},ly=Jt({__name:"DelegationList",setup(e){const t=W([]),n=W(0),r=W(!1),s=async()=>{r.value=!0;try{const o=await $fetch("/api/delegation/owners");t.value=o.owners||[],n.value=o.totalGotchis||0}catch(o){console.error("Failed to fetch delegation owners:",o),t.value=[],n.value=0}finally{r.value=!1}};return Mn(()=>{s(),xr(s,6e4)}),(o,i)=>(D(),G("div",ey,[_("div",ty,[_("div",ny,[i[0]||(i[0]=_("h2",{class:"text-lg font-semibold"},"Delegating Owners",-1)),_("button",{onClick:s,disabled:r.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},H(r.value?"Loading...":"Refresh"),9,ry)]),r.value&&t.value.length===0?(D(),G("div",sy,[...i[1]||(i[1]=[_("p",null,"Loading delegation list...",-1)])])):t.value.length===0?(D(),G("div",oy,[...i[2]||(i[2]=[_("p",null,"No users have delegated petting yet",-1)])])):(D(),G("div",iy,[_("div",ay,[_("span",null,"Total: "+H(t.value.length)+" owner(s)",1),_("span",cy,H(n.value)+" Aavegotchis to pet",1)]),_("div",uy,[(D(!0),G(oa,null,ia(t.value,a=>(D(),G("div",{key:a.address,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[_("a",{href:`https://basescan.org/address/${a.address}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate flex-1 min-w-0"},H(a.address.slice(0,6))+"..."+H(a.address.slice(-4)),9,dy),_("span",fy,H(a.gotchiCount)+" gotchi"+H(a.gotchiCount!==1?"s":""),1)]))),128))])]))])]))}}),hy={class:"home-dashboard min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white p-4 md:p-8"},py={class:"max-w-6xl mx-auto space-y-6"},by={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},my={class:"flex items-center gap-3"},yy={class:"text-sm font-medium"},gy={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},wy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},vy={class:"text-xl font-bold mt-1 font-mono"},xy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Py={class:"text-xl font-bold mt-1"},Ey={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},$y={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Iy={class:"text-xl font-bold mt-1"},Ay={key:0,class:"grid md:grid-cols-2 gap-6"},Sy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},By={class:"space-y-3"},Cy={class:"font-mono text-sm break-all mt-1"},Ty={class:"font-mono text-lg font-bold mt-1"},ky={class:"font-mono text-lg font-bold mt-1"},_y={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Ny={class:"space-y-3"},Oy={class:"mt-1"},Ry={key:0},Fy={class:"text-red-400 text-sm mt-1 truncate"},zy={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},My={class:"flex items-center justify-between mb-4"},Ly=["disabled"],jy={key:0,class:"text-center py-12 text-slate-400"},Uy={key:1,class:"text-center py-12 text-slate-400"},Dy={key:2,class:"text-center py-12 text-slate-400"},Gy={key:3,class:"space-y-3 max-h-64 overflow-y-auto"},qy={class:"flex-1 min-w-0"},Hy=["href"],Vy={class:"text-slate-400 text-xs mt-1"},Wy={key:1,class:"grid md:grid-cols-2 gap-6 mt-6"},Zy={key:2,class:"mt-6"},Ky=Jt({__name:"HomeDashboard",setup(e){const t=W(null),n=W([]),r=W(null),s=W(null),o=W(!0),i=W(!1),a=W(!1),c=nr(()=>{var m,y,x,$,I,O;return{running:((y=(m=t.value)==null?void 0:m.bot)==null?void 0:y.running)??!1,lastRun:(($=(x=t.value)==null?void 0:x.bot)==null?void 0:$.lastRun)??null,lastError:((O=(I=t.value)==null?void 0:I.bot)==null?void 0:O.lastError)??null}}),u=nr(()=>{var m;return((m=t.value)==null?void 0:m.stats)??{successRate:100}}),d=nr(()=>{var C,T;const m=(T=(C=t.value)==null?void 0:C.bot)==null?void 0:T.lastRun;if(!m)return"";const x=new Date(m).getTime()+720*60*1e3,$=Date.now();if($>=x)return"Ready";const I=x-$,O=Math.floor(I/36e5),B=Math.floor(I%36e5/6e4);return`${O}h ${B}m`}),f=W(null),l=nr(()=>{var y;const m=((y=u.value)==null?void 0:y.successRate)??100;return m>=95?"text-emerald-400":m>=80?"text-amber-400":"text-red-400"}),h=async()=>{try{const m=await $fetch("/api/health");t.value=m}catch(m){console.error("Failed to fetch health:",m)}},p=async()=>{if(a.value){i.value=!0;try{const m=await $fetch("/api/transactions",{query:{limit:20}});n.value=m}catch(m){console.error("Failed to fetch history:",m)}finally{i.value=!1}}},b=async()=>{try{const m=await $fetch("/api/delegation/status");r.value=m}catch{r.value=null}},g=async()=>{try{const m=await $fetch("/api/auth/me");f.value=m.address}catch{f.value=null}},P=async()=>{const m=f.value;if(m)try{const x=await kb({chain:vr,transport:qu()}).getBalance({address:m});s.value=parseFloat(Sr(x)).toFixed(4)}catch{s.value=""}},E=async()=>{try{const m=await $fetch("/api/auth/check");a.value=m.authenticated}catch{a.value=!1}},w=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await Hu(pt),await vs("/")}catch(m){console.error("Failed to logout:",m)}},v=m=>{if(!m)return"";const y=typeof m=="string"?new Date(m).getTime():m;return new Date(y).toLocaleString()};return Mn(async()=>{await E(),await h(),a.value&&(await g(),await Promise.all([p(),b(),P()])),o.value=!1,xr(h,3e4),a.value&&xr(()=>Promise.all([g(),p(),P()]),6e4)}),(m,y)=>{var B;const x=Am,$=Lm,I=Qm,O=ly;return D(),G("div",hy,[_("div",py,[_("div",by,[y[0]||(y[0]=_("div",null,[_("h1",{class:"text-3xl md:text-4xl font-bold tracking-tight"},"Aavegotchi Petter"),_("p",{class:"text-slate-400 mt-1"},"Automated petting on Base  Every 12 hours")],-1)),_("div",my,[_("div",{class:bt(["flex items-center gap-2 px-4 py-2 rounded-lg",c.value.running?"bg-emerald-500/20 border border-emerald-500/50":"bg-amber-500/20 border border-amber-500/50"])},[_("div",{class:bt(["w-2 h-2 rounded-full animate-pulse",c.value.running?"bg-emerald-400":"bg-amber-400"])},null,2),_("span",yy,H(c.value.running?"Running":"Stopped"),1)],2),a.value?(D(),G("button",{key:0,onClick:w,class:"px-4 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-sm font-medium transition"}," Logout ")):(D(),aa(x,{key:1}))])]),_("div",gy,[_("div",wy,[y[1]||(y[1]=_("p",{class:"text-slate-400 text-sm"},"Next Pet",-1)),_("p",vy,H(d.value),1)]),_("div",xy,[y[2]||(y[2]=_("p",{class:"text-slate-400 text-sm"},"Total Petted",-1)),_("p",Py,H(u.value.totalAavegotchisPetted??0),1)]),_("div",Ey,[y[3]||(y[3]=_("p",{class:"text-slate-400 text-sm"},"Success Rate",-1)),_("p",{class:bt(["text-xl font-bold mt-1",l.value])},H(u.value.successRate??100)+"%",3)]),_("div",$y,[y[4]||(y[4]=_("p",{class:"text-slate-400 text-sm"},"Last 24h",-1)),_("p",Iy,H(u.value.transactionsLast24h??0),1)])]),a.value?(D(),G("div",Ay,[_("div",Sy,[y[8]||(y[8]=_("h2",{class:"text-lg font-semibold mb-4"},"Wallet",-1)),_("div",By,[_("div",null,[y[5]||(y[5]=_("p",{class:"text-slate-400 text-sm"},"Address",-1)),_("p",Cy,H(f.value||""),1)]),_("div",null,[y[6]||(y[6]=_("p",{class:"text-slate-400 text-sm"},"Balance (ETH)",-1)),_("p",Ty,H(s.value??""),1)]),_("div",null,[y[7]||(y[7]=_("p",{class:"text-slate-400 text-sm"},"Gotchis Delegated",-1)),_("p",ky,H(((B=r.value)==null?void 0:B.gotchiCount)??""),1)])])]),_("div",_y,[y[11]||(y[11]=_("h2",{class:"text-lg font-semibold mb-4"},"Bot Status",-1)),_("div",Ny,[_("div",null,[y[9]||(y[9]=_("p",{class:"text-slate-400 text-sm"},"Last Run",-1)),_("p",Oy,H(v(c.value.lastRun)),1)]),c.value.lastError?(D(),G("div",Ry,[y[10]||(y[10]=_("p",{class:"text-slate-400 text-sm"},"Last Error",-1)),_("p",Fy,H(c.value.lastError),1)])):Ie("",!0)])])])):Ie("",!0),_("div",zy,[_("div",My,[y[12]||(y[12]=_("h2",{class:"text-lg font-semibold"},"Execution History",-1)),a.value?(D(),G("button",{key:0,onClick:p,disabled:i.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"}," Refresh ",8,Ly)):Ie("",!0)]),a.value?i.value?(D(),G("div",Uy,[...y[14]||(y[14]=[_("p",null,"Loading...",-1)])])):n.value.length===0?(D(),G("div",Dy,[...y[15]||(y[15]=[_("p",null,"No executions yet",-1)])])):(D(),G("div",Gy,[(D(!0),G(oa,null,ia(n.value,C=>(D(),G("div",{key:C.hash,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[_("div",qy,[_("a",{href:`https://basescan.org/tx/${C.hash}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate block"},H(C.hash.slice(0,10))+"..."+H(C.hash.slice(-8)),9,Hy),_("p",Vy,H(v(C.timestamp))+"  "+H(C.tokenIds.length)+" petted",1)]),y[16]||(y[16]=_("span",{class:"text-emerald-400 text-xs font-medium ml-2"},"Success",-1))]))),128))])):(D(),G("div",jy,[...y[13]||(y[13]=[_("p",null,"Connect wallet to view execution history",-1)])]))]),a.value?(D(),G("div",Wy,[Zr($),Zr(I)])):Ie("",!0),a.value?(D(),G("div",Zy,[Zr(O)])):Ie("",!0)])])}}}),Yy=Jt({__name:"index",setup(e){return(t,n)=>{const r=Ky;return D(),aa(r)}}}),hg=Object.freeze(Object.defineProperty({__proto__:null,default:Yy},Symbol.toStringTag,{value:"Module"}));export{S as B,hn as H,Bf as a,oe as b,Zn as c,lf as d,Bt as e,Fe as f,bo as g,hg as h,Qn as i,Cr as l,ee as s};
