const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cz1q_b56.js","./BuNm8C4v.js","./COZhajwa.js"])))=>i.map(i=>d[i]);
import{F as ws,d as dt,o as Ht,y as k,z as B,A as g,B as F,G as U,q as cr,g as L,n as vs,H as be,I as X,E as xs,J as ke,K as si,L as oi,M as rn,N as ii,O as jn,C as Gr,k as Je}from"./BuNm8C4v.js";const Dr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Jf=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];function nt(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new wi(e.type);return`${e.name}(${ur(e.inputs,{includeName:t})})`}function ur(e,{includeName:t=!1}={}){return e?e.map(n=>ai(n,{includeName:t})).join(t?", ":","):""}function ai(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ur(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Me(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function q(e){return Me(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ps="2.46.1";let pt={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ps}`},E=class Nn extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof Nn?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Nn&&n.cause.docsPath||n.docsPath,o=(a=pt.getDocsUrl)==null?void 0:a.call(pt,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...pt.version?[`Version: ${pt.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ps}walk(t){return $s(this,t)}};function $s(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?$s(e.cause,t):t?null:e}class ci extends E{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ur extends E{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ui extends E{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ur(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class dr extends E{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class di extends E{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class li extends E{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${q(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class fi extends E{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Yf extends E{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Xf extends E{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Es extends E{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class an extends E{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class hi extends E{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Qf extends E{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class bi extends E{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${nt(t.abiItem)}\`, and`,`\`${n.type}\` in \`${nt(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class pi extends E{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class mi extends E{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class yi extends E{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class gi extends E{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class wi extends E{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class te extends E{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Is extends E{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let Cs=class extends E{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Hr extends E{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function lt(e,{dir:t,size:n=32}={}){return typeof e=="string"?Fe(e,{dir:t,size:n}):vi(e,{dir:t,size:n})}function Fe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Cs({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function vi(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Cs({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let lr=class extends E{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class xi extends E{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Pi extends E{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Re(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ye(e,{size:t}){if(q(e)>t)throw new Pi({givenSize:q(e),maxSize:t})}function re(e,t={}){const{signed:n}=t;t.size&&ye(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function pe(e,t={}){const n=re(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new lr({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}const $i=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $e(e,t={}){return typeof e=="number"||typeof e=="bigint"?T(e,t):typeof e=="string"?bn(e,t):typeof e=="boolean"?As(e,t):ne(e,t)}function As(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ye(n,{size:t.size}),lt(n,{size:t.size})):n}function ne(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=$i[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ye(r,{size:t.size}),lt(r,{dir:"right",size:t.size})):r}function T(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new lr({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?lt(a,{size:r}):a}const Ei=new TextEncoder;function bn(e,t={}){const n=Ei.encode(e);return ne(n,t)}const Ii=new TextEncoder;function fr(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ai(e,t):typeof e=="boolean"?Ci(e,t):Me(e)?Ie(e,t):_s(e,t)}function Ci(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ye(n,{size:t.size}),lt(n,{size:t.size})):n}const ve={zero:48,nine:57,A:65,F:70,a:97,f:102};function qr(e){if(e>=ve.zero&&e<=ve.nine)return e-ve.zero;if(e>=ve.A&&e<=ve.F)return e-(ve.A-10);if(e>=ve.a&&e<=ve.f)return e-(ve.a-10)}function Ie(e,t={}){let n=e;t.size&&(ye(n,{size:t.size}),n=lt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=qr(r.charCodeAt(a++)),u=qr(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new E(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Ai(e,t){const n=T(e,t);return Ie(n)}function _s(e,t={}){const n=Ii.encode(e);return typeof t.size=="number"?(ye(n,{size:t.size}),lt(n,{dir:"right",size:t.size})):n}const Yt=BigInt(2**32-1),Vr=BigInt(32);function _i(e,t=!1){return t?{h:Number(e&Yt),l:Number(e>>Vr&Yt)}:{h:Number(e>>Vr&Yt)|0,l:Number(e&Yt)|0}}function Ti(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=_i(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Si=(e,t,n)=>e<<n|t>>>32-n,ki=(e,t,n)=>t<<n|e>>>32-n,Fi=(e,t,n)=>t<<n-32|e>>>64-n,Bi=(e,t,n)=>e<<n-32|t>>>64-n,Ye=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Mi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function cn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function rt(e,...t){if(!Mi(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function nh(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");cn(e.outputLen),cn(e.blockLen)}function un(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ts(e,t){rt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ri(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function xt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function En(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function he(e,t){return e<<32-t|e>>>t}const Oi=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function zi(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ji(e){for(let t=0;t<e.length;t++)e[t]=zi(e[t]);return e}const Wr=Oi?e=>e:ji;function Ni(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function hr(e){return typeof e=="string"&&(e=Ni(e)),rt(e),e}function rh(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];rt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class Ss{}function ks(e){const t=r=>e().update(hr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function sh(e=32){if(Ye&&typeof Ye.getRandomValues=="function")return Ye.getRandomValues(new Uint8Array(e));if(Ye&&typeof Ye.randomBytes=="function")return Uint8Array.from(Ye.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Li=BigInt(0),mt=BigInt(1),Gi=BigInt(2),Di=BigInt(7),Ui=BigInt(256),Hi=BigInt(113),Fs=[],Bs=[],Ms=[];for(let e=0,t=mt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Fs.push(2*(5*r+n)),Bs.push((e+1)*(e+2)/2%64);let s=Li;for(let o=0;o<7;o++)t=(t<<mt^(t>>Di)*Hi)%Ui,t&Gi&&(s^=mt<<(mt<<BigInt(o))-mt);Ms.push(s)}const Rs=Ti(Ms,!0),qi=Rs[0],Vi=Rs[1],Kr=(e,t,n)=>n>32?Fi(e,t,n):Si(e,t,n),Zr=(e,t,n)=>n>32?Bi(e,t,n):ki(e,t,n);function Wi(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],l=Kr(u,d,1)^n[a],h=Zr(u,d,1)^n[a+1];for(let f=0;f<50;f+=10)e[i+f]^=l,e[i+f+1]^=h}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Bs[i],c=Kr(s,o,a),u=Zr(s,o,a),d=Fs[i];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=qi[r],e[1]^=Vi[r]}xt(n)}class br extends Ss{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,cn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ri(this.state)}clone(){return this._cloneInto()}keccak(){Wr(this.state32),Wi(this.state32,this.rounds),Wr(this.state32),this.posOut=0,this.pos=0}update(t){un(this),t=hr(t),rt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){un(this,!1),rt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return cn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ts(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,xt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new br(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Ki=(e,t,n)=>ks(()=>new br(t,e,n)),Zi=Ki(1,136,256/8);function pn(e,t){const n=t||"hex",r=Zi(Me(e,{strict:!1})?fr(e):e);return n==="bytes"?r:$e(r)}class ft extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ji=/^0x[a-fA-F0-9]{40}$/,In=new ft(8192);function J(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(In.has(r))return In.get(r);const s=Ji.test(e)?e.toLowerCase()===e?!0:n?qt(e)===e:!0:!1;return In.set(r,s),s}const Cn=new ft(8192);function qt(e,t){if(Cn.has(`${e}.${t}`))return Cn.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=pn(_s(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Cn.set(`${e}.${t}`,o),o}function Qe(e,t){if(!J(e,{strict:!1}))throw new te({address:e});return qt(e,t)}class Jr extends E{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Yi extends E{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Xi extends E{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Qi={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Xi({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Yi({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Jr({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Jr({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function pr(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Qi);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Pt(e,t,n,{strict:r}={}){return Me(e,{strict:!1})?Ln(e,t,n,{strict:r}):js(e,t,n,{strict:r})}function Os(e,t){if(typeof t=="number"&&t>0&&t>q(e)-1)throw new Is({offset:t,position:"start",size:q(e)})}function zs(e,t,n){if(typeof t=="number"&&typeof n=="number"&&q(e)!==n-t)throw new Is({offset:n,position:"end",size:q(e)})}function js(e,t,n,{strict:r}={}){Os(e,t);const s=e.slice(t,n);return r&&zs(s,t,n),s}function Ln(e,t,n,{strict:r}={}){Os(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&zs(s,t,n),s}function ea(e,t={}){typeof t.size<"u"&&ye(e,{size:t.size});const n=ne(e,t);return re(n,t)}function ta(e,t={}){let n=e;if(typeof t.size<"u"&&(ye(n,{size:t.size}),n=Re(n)),n.length>1||n[0]>1)throw new xi(n);return!!n[0]}function Ee(e,t={}){typeof t.size<"u"&&ye(e,{size:t.size});const n=ne(e,t);return pe(n,t)}function na(e,t={}){let n=e;return typeof t.size<"u"&&(ye(n,{size:t.size}),n=Re(n,{dir:"right"})),new TextDecoder().decode(n)}function de(e){return typeof e[0]=="string"?Ce(e):ra(e)}function ra(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ce(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const sa=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ns=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ls(e,t){if(e.length!==t.length)throw new fi({expectedLength:e.length,givenLength:t.length});const n=oa({params:e,values:t}),r=yr(n);return r.length===0?"0x":r}function oa({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(mr({param:e[r],value:t[r]}));return n}function mr({param:e,value:t}){const n=gr(e.type);if(n){const[r,s]=n;return aa(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return fa(t,{param:e});if(e.type==="address")return ia(t);if(e.type==="bool")return ua(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ns.exec(e.type)??[];return da(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return ca(t,{param:e});if(e.type==="string")return la(t);throw new mi(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function yr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=q(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(T(t+s,{size:32})),r.push(a),s+=q(a)):n.push(a)}return de([...n,...r])}function ia(e){if(!J(e))throw new te({address:e});return{dynamic:!1,encoded:Fe(e.toLowerCase())}}function aa(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new gi(e);if(!r&&e.length!==t)throw new di({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=mr({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=yr(o);if(r){const a=T(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?de([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:de(o.map(({encoded:i})=>i))}}function ca(e,{param:t}){const[,n]=t.type.split("bytes"),r=q(e);if(!n){let s=e;return r%32!==0&&(s=Fe(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:de([Fe(T(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new li({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Fe(e,{dir:"right"})}}function ua(e){if(typeof e!="boolean")throw new E(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Fe(As(e))}}function da(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new lr({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:T(e,{size:32,signed:t})}}function la(e){const t=bn(e),n=Math.ceil(q(t)/32),r=[];for(let s=0;s<n;s++)r.push(Fe(Pt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:de([Fe(T(q(t),{size:32})),...r])}}function fa(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=mr({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?yr(r):de(r.map(({encoded:s})=>s))}}function gr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Gs(e,t){const n=typeof t=="string"?Ie(t):t,r=pr(n);if(q(n)===0&&e.length>0)throw new dr;if(q(t)&&q(t)<32)throw new ui({data:typeof t=="string"?t:ne(t),params:e,size:q(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=tt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function tt(e,t,{staticPosition:n}){const r=gr(t.type);if(r){const[s,o]=r;return ba(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return ga(e,t,{staticPosition:n});if(t.type==="address")return ha(e);if(t.type==="bool")return pa(e);if(t.type.startsWith("bytes"))return ma(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ya(e,t);if(t.type==="string")return wa(e,{staticPosition:n});throw new yi(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Yr=32,Gn=32;function ha(e){const t=e.readBytes(32);return[qt(ne(js(t,-20))),32]}function ba(e,t,{length:n,staticPosition:r}){if(!n){const i=Ee(e.readBytes(Gn)),a=r+i,c=a+Yr;e.setPosition(a);const u=Ee(e.readBytes(Yr)),d=$t(t);let l=0;const h=[];for(let f=0;f<u;++f){e.setPosition(c+(d?f*32:l));const[b,m]=tt(e,t,{staticPosition:c});l+=m,h.push(b)}return e.setPosition(r+32),[h,32]}if($t(t)){const i=Ee(e.readBytes(Gn)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[d]=tt(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=tt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function pa(e){return[ta(e.readBytes(32),{size:32}),32]}function ma(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ee(e.readBytes(32));e.setPosition(n+i);const a=Ee(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ne(c),32]}return[ne(e.readBytes(Number.parseInt(s,10),32)),32]}function ya(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ea(s,{signed:n}):Ee(s,{signed:n}),32]}function ga(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if($t(t)){const i=Ee(e.readBytes(Gn)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[d,l]=tt(e,u,{staticPosition:a});o+=l,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=tt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function wa(e,{staticPosition:t}){const n=Ee(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ee(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=na(Re(o));return e.setPosition(t+32),[i,32]}function $t(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some($t);const n=gr(e.type);return!!(n&&$t({...e,type:n[1]}))}const va=e=>pn(fr(e));function xa(e){return va(e)}const Pa="1.2.3";let le=class Dn extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Dn?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Dn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Pa}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ae(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Ds=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Us=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Hs=/^\(.+?\).*?$/,Xr=/^tuple(?<array>(\[(\d*)\])*)$/;function Un(e){let t=e.type;if(Xr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Un(o),s<n-1&&(t+=", ")}const r=Ae(Xr,e.type);return t+=`)${(r==null?void 0:r.array)||""}`,Un({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function yt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Un(s),r!==n-1&&(t+=", ")}return t}function $a(e){var t;return e.type==="function"?`function ${e.name}(${yt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${yt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${yt(e.inputs)})`:e.type==="error"?`error ${e.name}(${yt(e.inputs)})`:e.type==="constructor"?`constructor(${yt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const qs=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ea(e){return qs.test(e)}function Ia(e){return Ae(qs,e)}const Vs=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ca(e){return Vs.test(e)}function Aa(e){return Ae(Vs,e)}const Ws=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function _a(e){return Ws.test(e)}function Ta(e){return Ae(Ws,e)}const Ks=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Zs(e){return Ks.test(e)}function Sa(e){return Ae(Ks,e)}const Js=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ka(e){return Js.test(e)}function Fa(e){return Ae(Js,e)}const Ys=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ba(e){return Ys.test(e)}function Ma(e){return Ae(Ys,e)}const Ra=/^receive\(\) external payable$/;function Oa(e){return Ra.test(e)}const za=new Set(["indexed"]),Hn=new Set(["calldata","memory","storage"]);class ja extends le{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Na extends le{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class La extends le{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ga extends le{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Da extends le{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Ua extends le{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ha extends le{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ht extends le{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qa extends le{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Va extends le{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Wa extends le{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Ka extends le{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Za(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const An=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ja(e,t={}){if(_a(e))return Ya(e,t);if(Ca(e))return Xa(e,t);if(Ea(e))return Qa(e,t);if(ka(e))return ec(e,t);if(Ba(e))return tc(e);if(Oa(e))return{type:"receive",stateMutability:"payable"};throw new qa({signature:e})}function Ya(e,t={}){const n=Ta(e);if(!n)throw new ht({signature:e,type:"function"});const r=fe(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Ue(r[a],{modifiers:Hn,structs:t,type:"function"}));const i=[];if(n.returns){const a=fe(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Ue(a[u],{modifiers:Hn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Xa(e,t={}){const n=Aa(e);if(!n)throw new ht({signature:e,type:"event"});const r=fe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ue(r[i],{modifiers:za,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Qa(e,t={}){const n=Ia(e);if(!n)throw new ht({signature:e,type:"error"});const r=fe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ue(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function ec(e,t={}){const n=Fa(e);if(!n)throw new ht({signature:e,type:"constructor"});const r=fe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ue(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function tc(e){const t=Ma(e);if(!t)throw new ht({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const nc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sc=/^u?int$/;function Ue(e,t){var l,h;const n=Za(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(An.has(n))return An.get(n);const r=Hs.test(e),s=Ae(r?rc:nc,e);if(!s)throw new La({param:e});if(s.name&&ic(s.name))throw new Ga({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const f=fe(s.type),b=[],m=f.length;for(let p=0;p<m;p++)b.push(Ue(f[p],{structs:a}));u={components:b}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(sc.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Xs(c))throw new Na({type:c});if(s.modifier){if(!((h=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&h.call(l,s.modifier)))throw new Da({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Hn.has(s.modifier)&&!ac(c,!!s.array))throw new Ua({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...i,...u};return An.set(n,d),d}function fe(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?fe(a,[...t,n.trim()]):fe(a,t,`${n}${i}`,r);case"(":return fe(a,t,`${n}${i}`,r+1);case")":return fe(a,t,`${n}${i}`,r-1);default:return fe(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Ka({current:n,depth:r});return t.push(n.trim()),t}function Xs(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ds.test(e)||Us.test(e)}const oc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function ic(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ds.test(e)||Us.test(e)||oc.test(e)}function ac(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function cc(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Zs(a))continue;const c=Sa(a);if(!c)throw new ht({signature:a,type:"struct"});const u=c.properties.split(";"),d=[],l=u.length;for(let h=0;h<l;h++){const b=u[h].trim();if(!b)continue;const m=Ue(b,{type:"struct"});d.push(m)}if(!d.length)throw new Va({signature:a});t[c.name]=d}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Qs(c,t)}return r}const uc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Qs(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Hs.test(i.type))r.push(i);else{const c=Ae(uc,i.type);if(!(c!=null&&c.type))throw new Ha({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new Wa({type:d});r.push({...i,type:`tuple${u??""}`,components:Qs(t[d],t,new Set([...n,d]))})}else if(Xs(d))r.push(i);else throw new ja({type:d})}}return r}function eo(e){const t=cc(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Zs(o)||n.push(Ja(o,t))}return n}function dc(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new E("Unable to normalize signature.");return s}const lc=e=>{const t=typeof e=="string"?e:$a(e);return dc(t)};function to(e){return xa(lc(e))}const fc=to,wr=e=>Pt(to(e),0,4);function vr(e){const{abi:t,args:n=[],name:r}=e,s=Me(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?wr(a)===r:a.type==="event"?fc(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in a&&a.inputs[d];return l?qn(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=no(a.inputs,i.inputs,n);if(u)throw new bi({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function qn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return J(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&qn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>qn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function no(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return no(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?J(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?J(n[r],{strict:!1}):!1)return i}}const _n="/docs/contract/decodeFunctionResult";function ro(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=vr({abi:t,args:n,name:r});if(!a)throw new an(r,{docsPath:_n});o=a}if(o.type!=="function")throw new an(void 0,{docsPath:_n});if(!o.outputs)throw new hi(o.name,{docsPath:_n});const i=Gs(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Qr="/docs/contract/encodeFunctionData";function hc(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=vr({abi:t,args:n,name:r});if(!o)throw new an(r,{docsPath:Qr});s=o}if(s.type!=="function")throw new an(void 0,{docsPath:Qr});return{abi:[s],functionName:wr(nt(s))}}function mn(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:hc(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?Ls(s.inputs,t??[]):void 0;return Ce([o,i??"0x"])}class Vn extends E{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class bc extends E{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class pc extends E{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class so extends E{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class yn extends E{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function mc({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Vn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Vn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function K(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const yc={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},gc={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},wc={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function vc(e){const{abi:t,data:n}=e,r=Pt(n,0,4);if(r==="0x")throw new dr;const o=[...t||[],gc,wc].find(i=>i.type==="error"&&r===wr(nt(i)));if(!o)throw new Es(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Gs(o.inputs,Pt(n,4)):void 0,errorName:o.name}}const se=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function oo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?se(t[o]):t[o]}`).join(", ")})`}const xc={gwei:9,wei:18},Pc={ether:-9,wei:9};function io(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function xr(e,t="wei"){return io(e,xc[t])}function oe(e,t="wei"){return io(e,Pc[t])}class $c extends E{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Ec extends E{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function es(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Ic(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=es(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=es(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Vt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Cc extends E{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Ac extends E{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Vt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class _c extends E{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Tc extends E{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:h}){var b;const f=Vt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof h<"u"&&`${xr(h)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${oe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${oe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ao extends E{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class co extends E{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class uo extends E{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Sc extends E{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const kc=e=>e,Pr=e=>e;class Fc extends E{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:h,stateOverride:f}){var p;const b=n?K(n):void 0;let m=Vt({from:b==null?void 0:b.address,to:l,value:typeof h<"u"&&`${xr(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${oe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${oe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:d});f&&(m+=`
${Ic(f)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Bc extends E{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=vr({abi:n,args:r,name:i}),u=c?oo({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?nt(c,{includeName:!0}):void 0,l=Vt({address:s&&kc(s),function:d,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Mc extends E{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=vc({abi:t,data:n});const{abiItem:d,errorName:l,args:h}=i;if(l==="Error")c=h[0];else if(l==="Panic"){const[f]=h;c=yc[f]}else{const f=d?nt(d,{includeName:!0}):void 0,b=d&&h?oo({abiItem:d,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",b&&b!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof Es&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Rc extends E{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Oc extends E{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class lo extends E{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function G(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class wt extends E{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Pr(i)}`,t&&`Request body: ${se(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class $r extends E{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Pr(r)}`,`Request body: ${se(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class ts extends E{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Pr(n)}`,`Request body: ${se(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const zc=-1;class ie extends E{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof $r?t.code:n??zc}}class ae extends ie{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Et extends ie{constructor(t){super(t,{code:Et.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class It extends ie{constructor(t){super(t,{code:It.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ct extends ie{constructor(t,{method:n}={}){super(t,{code:Ct.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class At extends ie{constructor(t){super(t,{code:At.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class He extends ie{constructor(t){super(t,{code:He.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(He,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class st extends ie{constructor(t){super(t,{code:st.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(st,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class _t extends ie{constructor(t){super(t,{code:_t.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(_t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Be extends ie{constructor(t){super(t,{code:Be.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Be,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Tt extends ie{constructor(t){super(t,{code:Tt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ge extends ie{constructor(t,{method:n}={}){super(t,{code:Ge.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ge,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ot extends ie{constructor(t){super(t,{code:ot.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class St extends ie{constructor(t){super(t,{code:St.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ee extends ae{constructor(t){super(t,{code:ee.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class kt extends ae{constructor(t){super(t,{code:kt.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ft extends ae{constructor(t,{method:n}={}){super(t,{code:Ft.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Bt extends ae{constructor(t){super(t,{code:Bt.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Mt extends ae{constructor(t){super(t,{code:Mt.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class qe extends ae{constructor(t){super(t,{code:qe.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class it extends ae{constructor(t){super(t,{code:it.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Rt extends ae{constructor(t){super(t,{code:Rt.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Ot extends ae{constructor(t){super(t,{code:Ot.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class zt extends ae{constructor(t){super(t,{code:zt.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class jt extends ae{constructor(t){super(t,{code:jt.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Nt extends ae{constructor(t){super(t,{code:Nt.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class at extends ae{constructor(t){super(t,{code:at.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(at,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Lt extends ae{constructor(t){super(t,{code:Lt.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(Lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class jc extends ie{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Nc=3;function fo(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof lo?e:e instanceof E?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:d,message:l,shortMessage:h}=a,f=e instanceof dr?new Rc({functionName:o}):[Nc,He.code].includes(c)&&(u||d||l||h)||c===st.code&&d==="execution reverted"&&u?new Mc({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof $r?d:h??l}):e;return new Bc(f,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}const Lc="0.1.1";function Gc(){return Lc}let Gt=class xe extends Error{static setStaticOptions(t){xe.prototype.docsOrigin=t.docsOrigin,xe.prototype.showVersion=t.showVersion,xe.prototype.version=t.version}constructor(t,n={}){const r=(()=>{var d;if(n.cause instanceof xe){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof xe&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??xe.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??xe.prototype.showVersion),c=n.version??xe.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return ho(this,t)}};Object.defineProperty(Gt,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Gc()}`}});Gt.setStaticOptions(Gt.defaultStaticOptions);function ho(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ho(e.cause,t):t?null:e}function Dc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new qc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Pe(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Hc({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?Uc(c,r):c}function Uc(e,t){return Dc(e,{dir:"left",size:t})}class Hc extends Gt{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class qc extends Gt{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Vc(e){return{address:e.address,amount:Pe(e.amount),index:Pe(e.index),validatorIndex:Pe(e.validatorIndex)}}function Wc(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Pe(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Pe(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Pe(e.gasLimit)},...typeof e.number=="bigint"&&{number:Pe(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Pe(e.prevRandao)},...typeof e.time=="bigint"&&{time:Pe(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Vc)}}}const Kc="0x82ad56cb",Zc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Jc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Yc="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",Tn="/docs/contract/encodeDeployData";function Er(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ci({docsPath:Tn});if(!("inputs"in s))throw new Ur({docsPath:Tn});if(!s.inputs||s.inputs.length===0)throw new Ur({docsPath:Tn});const o=Ls(s.inputs,n);return Ce([r,o])}class et extends E{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(et,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Ve extends E{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${oe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Ve,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Wn extends E{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${oe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Wn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Kn extends E{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Kn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Zn extends E{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Zn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Jn extends E{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Jn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Yn extends E{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Xn extends E{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Xn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Qn extends E{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Qn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class er extends E{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(er,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Dt extends E{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${oe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${oe(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Dt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class gn extends E{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Ir(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof E?e.walk(s=>(s==null?void 0:s.code)===et.code):e;return r instanceof E?new et({cause:e,message:r.details}):et.nodeMessage.test(n)?new et({cause:e,message:e.details}):Ve.nodeMessage.test(n)?new Ve({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Wn.nodeMessage.test(n)?new Wn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Kn.nodeMessage.test(n)?new Kn({cause:e,nonce:t==null?void 0:t.nonce}):Zn.nodeMessage.test(n)?new Zn({cause:e,nonce:t==null?void 0:t.nonce}):Jn.nodeMessage.test(n)?new Jn({cause:e,nonce:t==null?void 0:t.nonce}):Yn.nodeMessage.test(n)?new Yn({cause:e}):Xn.nodeMessage.test(n)?new Xn({cause:e,gas:t==null?void 0:t.gas}):Qn.nodeMessage.test(n)?new Qn({cause:e,gas:t==null?void 0:t.gas}):er.nodeMessage.test(n)?new er({cause:e}):Dt.nodeMessage.test(n)?new Dt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new gn({cause:e})}function Xc(e,{docsPath:t,...n}){const r=(()=>{const s=Ir(e,n);return s instanceof gn?e:s})();return new Fc(r,{docsPath:t,...n})}function Wt(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Cr(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const a of n)delete i[a];return{...i,...r(s,o)}},type:e})}const Qc={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function bt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=eu(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ne(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=T(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=T(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=T(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=T(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=T(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=T(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Qc[e.type]),typeof e.value<"u"&&(n.value=T(e.value)),n}function eu(e){return e.map(t=>({address:t.address,r:t.r?T(BigInt(t.r)):t.r,s:t.s?T(BigInt(t.s)):t.s,chainId:T(t.chainId),nonce:T(t.nonce),...typeof t.yParity<"u"?{yParity:T(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:T(t.v)}:{}}))}function Ar(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Sn=new Map;function bo({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();i();const l=d.map(({args:h})=>h);l.length!==0&&e(l).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<d.length;f++){const{resolve:b}=d[f];b==null||b([h[f],h])}}).catch(h=>{for(let f=0;f<d.length;f++){const{reject:b}=d[f];b==null||b(h)}})},i=()=>Sn.delete(t),a=()=>c().map(({args:d})=>d),c=()=>Sn.get(t)||[],u=d=>Sn.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:l,resolve:h,reject:f}=Ar();return(n==null?void 0:n([...a(),d]))&&o(),c().length>0?(u({args:d,resolve:h,reject:f}),l):(u({args:d,resolve:h,reject:f}),setTimeout(o,r),l)}}}function ns(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Hr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Hr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function tu(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=T(t)),n!==void 0&&(i.nonce=T(n)),r!==void 0&&(i.state=ns(r)),s!==void 0){if(i.state)throw new Ec;i.stateDiff=ns(s)}return i}function po(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!J(n,{strict:!1}))throw new te({address:n});if(t[n])throw new $c({address:n});t[n]=tu(r)}return t}const wn=2n**256n-1n;function We(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?K(t):void 0;if(o&&!J(o.address))throw new te({address:o.address});if(s&&!J(s))throw new te({address:s});if(n&&n>wn)throw new Ve({maxFeePerGas:n});if(r&&n&&r>n)throw new Dt({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function nu(e,t){var O,D,M,V;const{account:n=e.account,authorizationList:r,batch:s=!!((O=e.batch)!=null&&O.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:d,data:l,factory:h,factoryData:f,gas:b,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:I,maxPriorityFeePerGas:w,nonce:v,to:$,value:y,stateOverride:x,...P}=t,C=n?K(n):void 0;if(d&&(h||f))throw new E("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&$)throw new E("Cannot provide both `code` & `to` as parameters.");const A=d&&l,j=h&&f&&$&&l,R=A||j,z=A?mo({code:d,data:l}):j?ou({data:l,factory:h,factoryData:f,to:$}):l;try{We(t);const H=(typeof o=="bigint"?T(o):void 0)||i,Z=u?Wc(u):void 0,Y=po(x),ce=(V=(M=(D=e.chain)==null?void 0:D.formatters)==null?void 0:M.transactionRequest)==null?void 0:V.format,ge=(ce||bt)({...Wt(P,{format:ce}),accessList:a,account:C,authorizationList:r,blobs:c,data:z,gas:b,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:I,maxPriorityFeePerGas:w,nonce:v,to:R?void 0:$,value:y},"call");if(s&&ru({request:ge})&&!Y&&!Z)try{return await su(e,{...ge,blockNumber:o,blockTag:i})}catch(_){if(!(_ instanceof so)&&!(_ instanceof Vn))throw _}const we=(()=>{const _=[ge,H];return Y&&Z?[..._,Y,Z]:Y?[..._,Y]:Z?[..._,{},Z]:_})(),S=await e.request({method:"eth_call",params:we});return S==="0x"?{data:void 0}:{data:S}}catch(W){const H=iu(W),{offchainLookup:Z,offchainLookupSignature:Y}=await ws(async()=>{const{offchainLookup:ce,offchainLookupSignature:Q}=await import("./Cz1q_b56.js");return{offchainLookup:ce,offchainLookupSignature:Q}},__vite__mapDeps([0,1]),import.meta.url);if(e.ccipRead!==!1&&(H==null?void 0:H.slice(0,10))===Y&&$)return{data:await Z(e,{data:H,to:$})};throw R&&(H==null?void 0:H.slice(0,10))==="0x101bb98d"?new Oc({factory:h}):Xc(W,{...t,account:C,chain:e.chain})}}function ru({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Kc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function su(e,t){var m;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return mc({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new so})(),l=(typeof o=="bigint"?T(o):void 0)||i,{schedule:h}=bo({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(p){return p.reduce((w,{data:v})=>w+(v.length-2),0)>n*2},fn:async p=>{const I=p.map($=>({allowFailure:!0,callData:$.data,target:$.to})),w=mn({abi:Dr,args:[I],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{...u===null?{data:mo({code:Yc,data:w})}:{to:u,data:w}},l]});return ro({abi:Dr,args:[I],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:b}]=await h({data:a,to:c});if(!b)throw new lo({data:f});return f==="0x"?{data:void 0}:{data:f}}function mo(e){const{code:t,data:n}=e;return Er({abi:eo(["constructor(bytes, bytes)"]),bytecode:Zc,args:[t,n]})}function ou(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Er({abi:eo(["constructor(address, bytes, address, bytes)"]),bytecode:Jc,args:[s,t,n,r]})}function iu(e){var n;if(!(e instanceof E))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function au(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=mn({abi:n,args:s,functionName:o});try{const{data:c}=await G(e,nu,"call")({...i,data:a,to:r});return ro({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw fo(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}function cu(e){const t=pn(`0x${e.substring(4)}`).substring(26);return qt(`0x${t}`)}async function uu({hash:e,signature:t}){const n=Me(e)?e:$e(e),{secp256k1:r}=await ws(async()=>{const{secp256k1:i}=await import("./COZhajwa.js");return{secp256k1:i}},__vite__mapDeps([2,1]),import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:h}=t,f=Number(h??l),b=rs(f);return new r.Signature(re(u),re(d)).addRecoveryBit(b)}const i=Me(t)?t:$e(t);if(q(i)!==65)throw new Error("invalid signature length");const a=pe(`0x${i.slice(130)}`),c=rs(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function rs(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function du({hash:e,signature:t}){return cu(await uu({hash:e,signature:t}))}function Oe(e,t="hex"){const n=yo(e),r=pr(new Uint8Array(n.length));return n.encode(r),t==="hex"?ne(r.bytes):r.bytes}function yo(e){return Array.isArray(e)?lu(e.map(t=>yo(t))):fu(e)}function lu(e){const t=e.reduce((s,o)=>s+o.length,0),n=go(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function fu(e){const t=typeof e=="string"?Ie(e):e,n=go(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function go(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new E("Length is too large.")}function hu(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=pn(Ce(["0x05",Oe([t?T(t):"0x",s,n?T(n):"0x"])]));return r==="bytes"?Ie(o):o}async function _r(e){const{authorization:t,signature:n}=e;return du({hash:hu(t),signature:n??t})}class bu extends E{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:h}){var b;const f=Vt({from:n==null?void 0:n.address,to:l,value:typeof h<"u"&&`${xr(h)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${oe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${oe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function pu(e,{docsPath:t,...n}){const r=(()=>{const s=Ir(e,n);return s instanceof gn?e:s})();return new bu(r,{docsPath:t,...n})}class wo extends E{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Tr extends E{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class mu extends E{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${oe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class vo extends E{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const xo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Kt(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?pe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?pe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?xo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=gu(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const yu=Cr("transaction",Kt);function gu(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Po(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Kt(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const wu=Cr("block",Po);async function ct(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,d,l;const o=s??!1,i=n!==void 0?T(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new vo({blockHash:t,blockNumber:n});return(((l=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:l.format)||Po)(a,"getBlock")}async function $o(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function vu(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await G(e,ct,"getBlock")({}),d=await a({block:u,client:e,request:s});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return re(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):G(e,ct,"getBlock")({}),G(e,$o,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Tr;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function ss(e,t){var h,f;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var b,m;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(i<1)throw new wo;const c=10**(((h=i.toString().split(".")[1])==null?void 0:h.length)??0),u=b=>b*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await G(e,ct,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(b!==null)return b}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Tr;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await vu(e,{block:d,chain:r,request:s}),m=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await G(e,$o,"getGasPrice")({}))}}async function Eo(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?T(r):n]},{dedupe:!!r});return pe(s)}function Sr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ie(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>ne(o))}function kr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ie(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ie(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>ne(i))}function xu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Pu(e,t,n){return e&t^~e&n}function $u(e,t,n){return e&t^e&n^t&n}class Eu extends Ss{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=En(this.buffer)}update(t){un(this),t=hr(t),rt(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=En(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){un(this),Ts(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,xt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;xu(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=En(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,d[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Te=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Iu=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Se=new Uint32Array(64);class Cu extends Eu{constructor(t=32){super(64,t,8,!1),this.A=Te[0]|0,this.B=Te[1]|0,this.C=Te[2]|0,this.D=Te[3]|0,this.E=Te[4]|0,this.F=Te[5]|0,this.G=Te[6]|0,this.H=Te[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)Se[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const h=Se[l-15],f=Se[l-2],b=he(h,7)^he(h,18)^h>>>3,m=he(f,17)^he(f,19)^f>>>10;Se[l]=m+Se[l-7]+b+Se[l-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:d}=this;for(let l=0;l<64;l++){const h=he(a,6)^he(a,11)^he(a,25),f=d+h+Pu(a,c,u)+Iu[l]+Se[l]|0,m=(he(r,2)^he(r,13)^he(r,22))+$u(r,s,o)|0;d=u,u=c,c=a,a=i+f|0,i=o,o=s,s=r,r=f+m|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,c,u,d)}roundClean(){xt(Se)}destroy(){this.set(0,0,0,0,0,0,0,0),xt(this.buffer)}}const Au=ks(()=>new Cu),_u=Au;function Tu(e,t){return _u(Me(e,{strict:!1})?fr(e):e)}function Su(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Tu(t);return s.set([n],0),r==="bytes"?s:ne(s)}function Io(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Su({commitment:o,to:r,version:n}));return s}const os=6,Co=32,Fr=4096,Ao=Co*Fr,is=Ao*os-1-1*Fr*os,_o=1;class ku extends E{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class To extends E{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Fu extends E{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Bu extends E{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${_o}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Mu(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ie(e.data):e.data,r=q(n);if(!r)throw new To;if(r>is)throw new ku({maxSize:is,size:r});const s=[];let o=!0,i=0;for(;o;){const a=pr(new Uint8Array(Ao));let c=0;for(;c<Fr;){const u=n.slice(i,i+(Co-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>ne(a.bytes))}function So(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Mu({data:t,to:r}),o=e.commitments??Sr({blobs:s,kzg:n,to:r}),i=e.proofs??kr({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function ko(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ac({transaction:e})}function vn(e,{docsPath:t,...n}){const r=(()=>{const s=Ir(e,n);return s instanceof gn?e:s})();return new Tc(r,{docsPath:t,...n})}async function Ke(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return pe(t)}async function Fo(e,t){var C,A,j,R,z;const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:b,nonceManager:m,to:p,type:I,value:w,...v}=t,$=await(async()=>{if(!n||!m||typeof b<"u")return b;const O=K(n),D=o?o.id:await G(e,Ke,"getChainId")({});return await m.consume({address:O.address,chainId:D,client:e})})();We(t);const y=(A=(C=o==null?void 0:o.formatters)==null?void 0:C.transactionRequest)==null?void 0:A.format,P=(y||bt)({...Wt(v,{format:y}),account:n?K(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:$,to:p,type:I,value:w},"fillTransaction");try{const O=await e.request({method:"eth_fillTransaction",params:[P]}),M=(((R=(j=o==null?void 0:o.formatters)==null?void 0:j.transaction)==null?void 0:R.format)||Kt)(O.tx);delete M.blockHash,delete M.blockNumber,delete M.r,delete M.s,delete M.transactionIndex,delete M.v,delete M.yParity,M.data=M.input,M.gas&&(M.gas=t.gas??M.gas),M.gasPrice&&(M.gasPrice=t.gasPrice??M.gasPrice),M.maxFeePerBlobGas&&(M.maxFeePerBlobGas=t.maxFeePerBlobGas??M.maxFeePerBlobGas),M.maxFeePerGas&&(M.maxFeePerGas=t.maxFeePerGas??M.maxFeePerGas),M.maxPriorityFeePerGas&&(M.maxPriorityFeePerGas=t.maxPriorityFeePerGas??M.maxPriorityFeePerGas),M.nonce&&(M.nonce=t.nonce??M.nonce);const V=await(async()=>{var Y,ce;if(typeof((Y=o==null?void 0:o.fees)==null?void 0:Y.baseFeeMultiplier)=="function"){const Q=await G(e,ct,"getBlock")({});return o.fees.baseFeeMultiplier({block:Q,client:e,request:t})}return((ce=o==null?void 0:o.fees)==null?void 0:ce.baseFeeMultiplier)??1.2})();if(V<1)throw new wo;const H=10**(((z=V.toString().split(".")[1])==null?void 0:z.length)??0),Z=Y=>Y*BigInt(Math.ceil(V*H))/BigInt(H);return M.maxFeePerGas&&!t.maxFeePerGas&&(M.maxFeePerGas=Z(M.maxFeePerGas)),M.gasPrice&&!t.gasPrice&&(M.gasPrice=Z(M.gasPrice)),{raw:O.raw,transaction:{from:P.from,...M}}}catch(O){throw vn(O,{...t,chain:e.chain})}}const Br=["blobVersionedHashes","chainId","fees","gas","nonce","type"],as=new Map,kn=new ft(128);async function xn(e,t){var $,y,x;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=Br);const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await G(e,Ke,"getChainId")({}),c))}const d=r&&K(r);let l=n.nonce;if(i.includes("nonce")&&typeof l>"u"&&d&&o){const P=await u();l=await o.consume({address:d.address,chainId:P,client:e})}a!=null&&a.fn&&(($=a.runAt)!=null&&$.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),l??(l=n.nonce));const f=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||kn.get(e.uid)===!1||!["fees","gas"].some(C=>i.includes(C))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof l!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await G(e,Fo,"fillTransaction")({...n,nonce:l}).then(P=>{const{chainId:C,from:A,gas:j,gasPrice:R,nonce:z,maxFeePerBlobGas:O,maxFeePerGas:D,maxPriorityFeePerGas:M,type:V,...W}=P.transaction;return kn.set(e.uid,!0),{...n,...A?{from:A}:{},...V?{type:V}:{},...typeof C<"u"?{chainId:C}:{},...typeof j<"u"?{gas:j}:{},...typeof R<"u"?{gasPrice:R}:{},...typeof z<"u"?{nonce:z}:{},...typeof O<"u"?{maxFeePerBlobGas:O}:{},...typeof D<"u"?{maxFeePerGas:D}:{},...typeof M<"u"?{maxPriorityFeePerGas:M}:{},..."nonceKey"in W&&typeof W.nonceKey<"u"?{nonceKey:W.nonceKey}:{}}}).catch(P=>{var j;const C=P;return C.name!=="TransactionExecutionError"||((j=C.walk)==null?void 0:j.call(C,R=>{const z=R;return z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"}))&&kn.set(e.uid,!1),n}):n;l??(l=f.nonce),n={...f,...d?{from:d==null?void 0:d.address}:{},...l?{nonce:l}:{}};const{blobs:b,gas:m,kzg:p,type:I}=n;a!=null&&a.fn&&((y=a.runAt)!=null&&y.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let w;async function v(){return w||(w=await G(e,ct,"getBlock")({blockTag:"latest"}),w)}if(i.includes("nonce")&&typeof l>"u"&&d&&!o&&(n.nonce=await G(e,Eo,"getTransactionCount")({address:d.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&b&&p){const P=Sr({blobs:b,kzg:p});if(i.includes("blobVersionedHashes")){const C=Io({commitments:P,to:"hex"});n.blobVersionedHashes=C}if(i.includes("sidecars")){const C=kr({blobs:b,commitments:P,kzg:p}),A=So({blobs:b,commitments:P,proofs:C,to:"hex"});n.sidecars=A}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof I>"u")try{n.type=ko(n)}catch{let P=as.get(e.uid);if(typeof P>"u"){const C=await v();P=typeof(C==null?void 0:C.baseFeePerGas)=="bigint",as.set(e.uid,P)}n.type=P?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const P=await v(),{maxFeePerGas:C,maxPriorityFeePerGas:A}=await ss(e,{block:P,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<A)throw new mu({maxPriorityFeePerGas:A});n.maxPriorityFeePerGas=A,n.maxFeePerGas=C}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Tr;if(typeof n.gasPrice>"u"){const P=await v(),{gasPrice:C}=await ss(e,{block:P,chain:s,request:n,type:"legacy"});n.gasPrice=C}}return i.includes("gas")&&typeof m>"u"&&(n.gas=await G(e,Ru,"estimateGas")({...n,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((x=a.runAt)!=null&&x.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),We(n),delete n.parameters,n}async function Ru(e,t){var i,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?K(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await _r({authorization:t.authorizationList[0]}).catch(()=>{throw new E("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:d,authorizationList:l,blobs:h,blobVersionedHashes:f,blockNumber:b,blockTag:m,data:p,gas:I,gasPrice:w,maxFeePerBlobGas:v,maxFeePerGas:$,maxPriorityFeePerGas:y,nonce:x,value:P,stateOverride:C,...A}=r?await xn(e,{...t,parameters:o,to:u}):t;if(I&&t.gas!==I)return I;const R=(typeof b=="bigint"?T(b):void 0)||m,z=po(C);We(t);const O=(c=(a=(i=e.chain)==null?void 0:i.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,M=(O||bt)({...Wt(A,{format:O}),account:s,accessList:d,authorizationList:l,blobs:h,blobVersionedHashes:f,data:p,gasPrice:w,maxFeePerBlobGas:v,maxFeePerGas:$,maxPriorityFeePerGas:y,nonce:x,to:u,value:P},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:z?[M,R??e.experimental_blockTag??"latest",z]:R?[M,R]:[M]}))}catch(u){throw pu(u,{...t,account:s,chain:e.chain})}}const Ou=new Map,zu=new Map;function ju(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Ou),r=t(e,zu);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Nu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=ju(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Lu=e=>`blockNumber.${e}`;async function Gu(e,{cacheTime:t=e.cacheTime}={}){const n=await Nu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Lu(e.uid),cacheTime:t});return BigInt(n)}function Du(e,t){if(!J(e,{strict:!1}))throw new te({address:e});if(!J(t,{strict:!1}))throw new te({address:t});return e.toLowerCase()===t.toLowerCase()}function Uu(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}function Hu(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!J(s))throw new te({address:s});if(r<0)throw new yn({chainId:r})}Mr(e)}function qu(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new To;for(const n of t){const r=q(n),s=pe(Pt(n,0,1));if(r!==32)throw new Fu({hash:n,size:r});if(s!==_o)throw new Bu({hash:n,version:s})}}Mr(e)}function Mr(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new yn({chainId:t});if(s&&!J(s))throw new te({address:s});if(r&&r>wn)throw new Ve({maxFeePerGas:r});if(n&&r&&n>r)throw new Dt({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Vu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new yn({chainId:t});if(o&&!J(o))throw new te({address:o});if(n||s)throw new E("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>wn)throw new Ve({maxFeePerGas:r})}function Wu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!J(o))throw new te({address:o});if(typeof t<"u"&&t<=0)throw new yn({chainId:t});if(n||s)throw new E("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>wn)throw new Ve({maxFeePerGas:r})}function Pn(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new _c({storageKey:s[o]});if(!J(r,{strict:!1}))throw new te({address:r});t.push([r,s])}return t}function Ku(e,t){const n=ko(e);return n==="eip1559"?Yu(e,t):n==="eip2930"?Xu(e,t):n==="eip4844"?Ju(e,t):n==="eip7702"?Zu(e,t):Qu(e,t)}function Zu(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;Hu(e);const h=Pn(d),f=e0(n);return Ce(["0x04",Oe([T(r),o?T(o):"0x",u?T(u):"0x",c?T(c):"0x",s?T(s):"0x",i??"0x",a?T(a):"0x",l??"0x",h,f,...Zt(e,t)])])}function Ju(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:l}=e;qu(e);let h=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof f>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(x=>ne(x)),$=e.kzg,y=Sr({blobs:v,kzg:$});if(typeof h>"u"&&(h=Io({commitments:y})),typeof f>"u"){const x=kr({blobs:v,commitments:y,kzg:$});f=So({blobs:v,commitments:y,proofs:x})}}const b=Pn(d),m=[T(n),s?T(s):"0x",u?T(u):"0x",c?T(c):"0x",r?T(r):"0x",o??"0x",i?T(i):"0x",l??"0x",b,a?T(a):"0x",h??[],...Zt(e,t)],p=[],I=[],w=[];if(f)for(let v=0;v<f.length;v++){const{blob:$,commitment:y,proof:x}=f[v];p.push($),I.push(y),w.push(x)}return Ce(["0x03",Oe(f?[m,p,I,w]:m)])}function Yu(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:d}=e;Mr(e);const l=Pn(u),h=[T(n),s?T(s):"0x",c?T(c):"0x",a?T(a):"0x",r?T(r):"0x",o??"0x",i?T(i):"0x",d??"0x",l,...Zt(e,t)];return Ce(["0x02",Oe(h)])}function Xu(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;Vu(e);const d=Pn(c),l=[T(n),o?T(o):"0x",u?T(u):"0x",r?T(r):"0x",i??"0x",a?T(a):"0x",s??"0x",d,...Zt(e,t)];return Ce(["0x01",Oe(l)])}function Qu(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;Wu(e);let u=[o?T(o):"0x",c?T(c):"0x",r?T(r):"0x",i??"0x",a?T(a):"0x",s??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const f=27n+(t.v===27n?0n:1n);if(t.v!==f)throw new Cc({v:t.v});return f})(),l=Re(t.r),h=Re(t.s);u=[...u,T(d),l==="0x00"?"0x":l,h==="0x00"?"0x":h]}else n>0&&(u=[...u,T(n),"0x","0x"]);return Oe(u)}function Zt(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Re(n.r),i=Re(n.s);return[typeof s=="number"?s?T(1):"0x":r===0n?"0x":r===1n?T(1):r===27n?"0x":T(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function e0(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?$e(r):"0x",i,s?$e(s):"0x",...Zt({},o)])}return t}const Xt=new ft(8192);function t0(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Xt.get(n))return Xt.get(n);const r=e().finally(()=>Xt.delete(n));return Xt.set(n,r),r}async function tr(e){return new Promise(t=>setTimeout(t,e))}function Ut(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await tr(d),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function n0(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((l=o==null?void 0:o.exclude)!=null&&l.includes(u))throw new Ge(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new Ge(new Error("method not supported"),{method:u});const d=s?bn(`${c}.${se(n)}`):void 0;return t0(()=>Ut(async()=>{try{return await e(n)}catch(h){const f=h;switch(f.code){case Et.code:throw new Et(f);case It.code:throw new It(f);case Ct.code:throw new Ct(f,{method:n.method});case At.code:throw new At(f);case He.code:throw new He(f);case st.code:throw new st(f);case _t.code:throw new _t(f);case Be.code:throw new Be(f);case Tt.code:throw new Tt(f);case Ge.code:throw new Ge(f,{method:n.method});case ot.code:throw new ot(f);case St.code:throw new St(f);case ee.code:throw new ee(f);case kt.code:throw new kt(f);case Ft.code:throw new Ft(f);case Bt.code:throw new Bt(f);case Mt.code:throw new Mt(f);case qe.code:throw new qe(f);case it.code:throw new it(f);case Rt.code:throw new Rt(f);case Ot.code:throw new Ot(f);case zt.code:throw new zt(f);case jt.code:throw new jt(f);case Nt.code:throw new Nt(f);case at.code:throw new at(f);case 5e3:throw new ee(f);case Lt.code:throw new Lt(f);default:throw h instanceof E?h:new jc(f)}}},{delay:({count:h,error:f})=>{var b;if(f&&f instanceof wt){const m=(b=f==null?void 0:f.headers)==null?void 0:b.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<h)*i},retryCount:a,shouldRetry:({error:h})=>r0(h)}),{enabled:s,id:d})}}function r0(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===ot.code||e.code===He.code:e instanceof wt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Rr({chain:e,currentChainId:t}){if(!e)throw new pc;if(t!==e.id)throw new bc({chain:e,currentChainId:t})}function Bo(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}const Mo={"0x0":"reverted","0x1":"success"};function Or(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Uu(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?pe(e.transactionIndex):null,status:e.status?Mo[e.status]:null,type:e.type?xo[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const s0=Cr("transactionReceipt",Or);function Ro(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function o0(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const cs=o0();function i0(e,t={}){const{url:n,headers:r}=a0(e);return{async request(s){var b;const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,d={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:l,method:h,signal:f}=d;try{const m=await Ro(async({signal:I})=>{const w={...d,body:Array.isArray(o)?se(o.map(x=>({jsonrpc:"2.0",id:x.id??cs.take(),...x}))):se({jsonrpc:"2.0",id:o.id??cs.take(),...o}),headers:{...r,"Content-Type":"application/json",...l},method:h||"POST",signal:f||(u>0?I:null)},v=new Request(n,w),$=await(a==null?void 0:a(v,w))??{...w,url:n};return await i($.url??n,$)},{errorInstance:new ts({body:o,url:n}),timeout:u,signal:!0});c&&await c(m);let p;if((b=m.headers.get("Content-Type"))!=null&&b.startsWith("application/json"))p=await m.json();else{p=await m.text();try{p=JSON.parse(p||"{}")}catch(I){if(m.ok)throw I;p={error:p}}}if(!m.ok)throw new wt({body:o,details:se(p.error)||m.statusText,headers:m.headers,status:m.status,url:n});return p}catch(m){throw m instanceof wt||m instanceof ts?m:new wt({body:o,cause:m,url:n})}}}}function a0(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}class c0 extends E{constructor({domain:t}){super(`Invalid domain "${se(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class u0 extends E{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class d0 extends E{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function l0(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const d={...u};for(const l of c){const{name:h,type:f}=l;f==="address"&&(d[h]=d[h].toLowerCase())}return d},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return se({domain:i,message:a,primaryType:r,types:s})}function f0(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:d}=c,l=a[u],h=d.match(Ns);if(h&&(typeof l=="number"||typeof l=="bigint")){const[m,p,I]=h;T(l,{signed:p==="int",size:Number.parseInt(I,10)/8})}if(d==="address"&&typeof l=="string"&&!J(l))throw new te({address:l});const f=d.match(sa);if(f){const[m,p]=f;if(p&&q(l)!==Number.parseInt(p,10))throw new pi({expectedSize:Number.parseInt(p,10),givenSize:q(l)})}const b=s[d];b&&(b0(d),o(b,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new c0({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new u0({primaryType:r,types:s})}function h0({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function b0(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new d0({type:e})}async function p0(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){var h,f,b;const c=r||"latest",u=n!==void 0?T(n):void 0;let d=null;if(s?d=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,T(o)]},{dedupe:!0}):typeof o=="number"?d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,T(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(d=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,T(a)]},{dedupe:!0})),!d)throw new ao({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(((b=(f=(h=e.chain)==null?void 0:h.formatters)==null?void 0:f.transaction)==null?void 0:b.format)||Kt)(d,"getTransaction")}async function Fn(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new co({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Or)(n,"getTransactionReceipt")}const Bn=new Map,us=new Map;let m0=0;function dn(e,t,n){const r=++m0,s=()=>Bn.get(e)||[],o=()=>{const d=s();Bn.set(e,d.filter(l=>l.id!==r))},i=()=>{const d=s();if(!d.some(h=>h.id===r))return;const l=us.get(e);if(d.length===1&&l){const h=l();h instanceof Promise&&h.catch(()=>{})}o()},a=s();if(Bn.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const d in t)c[d]=((...l)=>{var f,b;const h=s();if(h.length!==0)for(const m of h)(b=(f=m.fns)[d])==null||b.call(f,...l)});const u=n(c);return typeof u=="function"&&us.set(e,u),i}function Oo(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await tr(c);const u=async()=>{s&&(await e({unpoll:o}),await tr(r),u())};u()})(),o}function y0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=se(["watchBlockNumber",e.uid,t,n,i]);return dn(l,{onBlockNumber:r,onError:s},h=>Oo(async()=>{var f;try{const b=await G(e,Gu,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let m=c+1n;m<b;m++)h.onBlockNumber(m,c),c=m}(c===void 0||b>c)&&(h.onBlockNumber(b,c),c=b)}catch(b){(f=h.onError)==null||f.call(h,b)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=se(["watchBlockNumber",e.uid,t,n]);return dn(l,{onBlockNumber:r,onError:s},h=>{let f=!0,b=()=>f=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),{unsubscribe:p}=await m.subscribe({params:["newHeads"],onData(I){var v;if(!f)return;const w=re((v=I.result)==null?void 0:v.number);h.onBlockNumber(w,c),c=w},onError(I){var w;(w=h.onError)==null||w.call(h,I)}});b=p,f||b()}catch(m){s==null||s(m)}})(),()=>b()})})()}async function g0(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=t,u=se(["waitForTransactionReceipt",e.uid,s]),d=(()=>{var y;return t.pollingInterval?t.pollingInterval:(y=e.chain)!=null&&y.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,h,f,b=!1,m,p;const{promise:I,resolve:w,reject:v}=Ar(),$=c?setTimeout(()=>{p==null||p(),m==null||m(),v(new Sc({hash:s}))},c):void 0;return m=dn(u,{onReplaced:o,resolve:w,reject:v},async y=>{if(f=await G(e,Fn,"getTransactionReceipt")({hash:s}).catch(()=>{}),f&&r<=1){clearTimeout($),y.resolve(f),m==null||m();return}p=G(e,y0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(x){const P=A=>{clearTimeout($),p==null||p(),A(),m==null||m()};let C=x;if(!b)try{if(f){if(r>1&&(!f.blockNumber||C-f.blockNumber+1n<r))return;P(()=>y.resolve(f));return}if(n&&!l&&(b=!0,await Ut(async()=>{l=await G(e,p0,"getTransaction")({hash:s}),l.blockNumber&&(C=l.blockNumber)},{delay:a,retryCount:i}),b=!1),f=await G(e,Fn,"getTransactionReceipt")({hash:s}),r>1&&(!f.blockNumber||C-f.blockNumber+1n<r))return;P(()=>y.resolve(f))}catch(A){if(A instanceof ao||A instanceof co){if(!l){b=!1;return}try{h=l,b=!0;const j=await Ut(()=>G(e,ct,"getBlock")({blockNumber:C,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:O})=>O instanceof vo});b=!1;const R=j.transactions.find(({from:O,nonce:D})=>O===h.from&&D===h.nonce);if(!R||(f=await G(e,Fn,"getTransactionReceipt")({hash:R.hash}),r>1&&(!f.blockNumber||C-f.blockNumber+1n<r)))return;let z="replaced";R.to===h.to&&R.value===h.value&&R.input===h.input?z="repriced":R.from===R.to&&R.value===0n&&(z="cancelled"),P(()=>{var O;(O=y.onReplaced)==null||O.call(y,{reason:z,replacedTransaction:h,transaction:R,transactionReceipt:f}),y.resolve(f)})}catch(j){P(()=>y.reject(j))}}else P(()=>y.reject(A))}}})}),I}async function w0(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:T(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}class ze extends E{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class De extends E{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function zo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Mn=new ft(128);async function $n(e,t){var $,y,x,P,C;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:($=e.dataSuffix)==null?void 0:$.value,gas:d,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:m,type:p,value:I,...w}=t;if(typeof n>"u")throw new ze({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?K(n):null;try{We(t);const A=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await _r({authorization:i[0]}).catch(()=>{throw new E("`to` is required. Could not infer from `authorizationList`.")})})();if((v==null?void 0:v.type)==="json-rpc"||v===null){let j;s!==null&&(j=await G(e,Ke,"getChainId")({}),r&&Rr({currentChainId:j,chain:s}));const R=(P=(x=(y=e.chain)==null?void 0:y.formatters)==null?void 0:x.transactionRequest)==null?void 0:P.format,O=(R||bt)({...Wt(w,{format:R}),accessList:o,account:v,authorizationList:i,blobs:a,chainId:j,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:m,to:A,type:p,value:I},"sendTransaction"),D=Mn.get(e.uid),M=D?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:M,params:[O]},{retryCount:0})}catch(V){if(D===!1)throw V;const W=V;if(W.name==="InvalidInputRpcError"||W.name==="InvalidParamsRpcError"||W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(H=>(Mn.set(e.uid,!0),H)).catch(H=>{const Z=H;throw Z.name==="MethodNotFoundRpcError"||Z.name==="MethodNotSupportedRpcError"?(Mn.set(e.uid,!1),W):Z});throw W}}if((v==null?void 0:v.type)==="local"){const j=await G(e,xn,"prepareTransactionRequest")({account:v,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:m,nonceManager:v.nonceManager,parameters:[...Br,"sidecars"],type:p,value:I,...w,to:A}),R=(C=s==null?void 0:s.serializers)==null?void 0:C.transaction,z=await v.signTransaction(j,{serializer:R});return await G(e,zo,"sendRawTransaction")({serializedTransaction:z})}throw(v==null?void 0:v.type)==="smart"?new De({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new De({docsPath:"/docs/actions/wallet/sendTransaction",type:v==null?void 0:v.type})}catch(A){throw A instanceof De?A:vn(A,{...t,account:v,chain:t.chain||void 0})}}function v0(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Er({abi:n,args:r,bytecode:s});return $n(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function x0(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>qt(r))}const jo="0x5792579257925792579257925792579257925792579257925792579257925792",No=T(0,{size:32});async function Lo(e,t){var h;const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,u=n?K(n):null;let d=t.capabilities;e.dataSuffix&&!((h=t.capabilities)!=null&&h.dataSuffix)&&(typeof e.dataSuffix=="string"?d={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:d={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const l=t.calls.map(f=>{const b=f,m=b.abi?mn({abi:b.abi,functionName:b.functionName,args:b.args}):b.data;return{data:b.dataSuffix&&m?de([m,b.dataSuffix]):m,to:b.to,value:b.value?T(b.value):void 0}});try{const f=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:l,capabilities:d,chainId:T(r.id),from:u==null?void 0:u.address,id:a,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const b=f;if(s&&(b.name==="MethodNotFoundRpcError"||b.name==="MethodNotSupportedRpcError"||b.name==="UnknownRpcError"||b.details.toLowerCase().includes("does not exist / is not available")||b.details.toLowerCase().includes("missing or invalid. request()")||b.details.toLowerCase().includes("did not match any variant of untagged enum")||b.details.toLowerCase().includes("account upgraded to unsupported contract")||b.details.toLowerCase().includes("eip-7702 not supported")||b.details.toLowerCase().includes("unsupported wc_ method")||b.details.toLowerCase().includes("feature toggled misconfigured")||b.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(d&&Object.values(d).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new it(new E(v,{details:v}))}if(i&&l.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new at(new E(w,{details:w}))}const m=[];for(const w of l){const v=$n(e,{account:u,chain:r,data:w.data,to:w.to,value:w.value?re(w.value):void 0});m.push(v),o>0&&await new Promise($=>setTimeout($,o))}const p=await Promise.allSettled(m);if(p.every(w=>w.status==="rejected"))throw p[0].reason;const I=p.map(w=>w.status==="fulfilled"?w.value:No);return{id:de([...I,T(r.id,{size:32}),jo])}}throw vn(f,{...t,account:u,chain:t.chain})}}async function Go(e,t){async function n(d){if(d.endsWith(jo.slice(2))){const h=Re(Ln(d,-64,-32)),f=Ln(d,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(f.map(p=>No.slice(2)!==p?e.request({method:"eth_getTransactionReceipt",params:[`0x${p}`]},{dedupe:!0}):void 0)),m=b.some(p=>p===null)?100:b.every(p=>(p==null?void 0:p.status)==="0x1")?200:b.every(p=>(p==null?void 0:p.status)==="0x0")?500:600;return{atomic:!1,chainId:pe(h),receipts:b.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:r,chainId:s?pe(s):void 0,receipts:(o==null?void 0:o.map(d=>({...d,blockNumber:re(d.blockNumber),gasUsed:re(d.gasUsed),status:Mo[d.status]})))??[],statusCode:u,status:c,version:i}}async function P0(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?K(n):void 0,o=r?[s==null?void 0:s.address,[T(r)]]:[s==null?void 0:s.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[d,l]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),a[Number(c)][d]=l}return typeof r=="number"?a[r]:a}async function $0(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Do(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new ze({docsPath:"/docs/eip7702/prepareAuthorization"});const o=K(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:K(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await G(e,Ke,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await G(e,Eo,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&Du(i.address,o.address))&&(a.nonce+=1)),a}async function E0(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Qe(n))}async function I0(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class C0 extends E{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function Uo(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:o=4,retryDelay:i=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=se(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:l,reject:h}=Ar();let f;const b=dn(u,{resolve:l,reject:h},m=>{const p=Oo(async()=>{const I=w=>{clearTimeout(f),p(),w(),b()};try{const w=await Ut(async()=>{const v=await G(e,Go,"getCallsStatus")({id:n});if(c&&v.status==="failure")throw new C0(v);return v},{retryCount:o,delay:i});if(!s(w))return;I(()=>m.resolve(w))}catch(w){I(()=>m.reject(w))}},{interval:r,emitOnBegin:!0});return p});return f=a?setTimeout(()=>{b(),clearTimeout(f),h(new A0({id:n}))},a):void 0,await d}class A0 extends E{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function _0(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await G(e,Lo,"sendCalls")(t);return await G(e,Uo,"waitForCallsStatus")({...t,id:s.id,timeout:r})}async function Ho(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,T(r)]:[t]},{retryCount:0}),i=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Or)(s);if(i.status==="reverted"&&n)throw new uo({receipt:i});return i}const Rn=new ft(128);async function qo(e,t){var P,C,A,j,R;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(P=e.dataSuffix)==null?void 0:P.value,gas:d,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:m,pollingInterval:p,throwOnReceiptRevert:I,type:w,value:v,...$}=t,y=t.timeout??Math.max(((s==null?void 0:s.blockTime)??0)*3,5e3);if(typeof n>"u")throw new ze({docsPath:"/docs/actions/wallet/sendTransactionSync"});const x=n?K(n):null;try{We(t);const z=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await _r({authorization:i[0]}).catch(()=>{throw new E("`to` is required. Could not infer from `authorizationList`.")})})();if((x==null?void 0:x.type)==="json-rpc"||x===null){let O;s!==null&&(O=await G(e,Ke,"getChainId")({}),r&&Rr({currentChainId:O,chain:s}));const D=(j=(A=(C=e.chain)==null?void 0:C.formatters)==null?void 0:A.transactionRequest)==null?void 0:j.format,V=(D||bt)({...Wt($,{format:D}),accessList:o,account:x,authorizationList:i,blobs:a,chainId:O,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:m,to:z,type:w,value:v},"sendTransaction"),W=Rn.get(e.uid),H=W?"wallet_sendTransaction":"eth_sendTransaction",Z=await(async()=>{try{return await e.request({method:H,params:[V]},{retryCount:0})}catch(ce){if(W===!1)throw ce;const Q=ce;if(Q.name==="InvalidInputRpcError"||Q.name==="InvalidParamsRpcError"||Q.name==="MethodNotFoundRpcError"||Q.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[V]},{retryCount:0}).then(ge=>(Rn.set(e.uid,!0),ge)).catch(ge=>{const we=ge;throw we.name==="MethodNotFoundRpcError"||we.name==="MethodNotSupportedRpcError"?(Rn.set(e.uid,!1),Q):we});throw Q}})(),Y=await G(e,g0,"waitForTransactionReceipt")({checkReplacement:!1,hash:Z,pollingInterval:p,timeout:y});if(I&&Y.status==="reverted")throw new uo({receipt:Y});return Y}if((x==null?void 0:x.type)==="local"){const O=await G(e,xn,"prepareTransactionRequest")({account:x,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&de([c,u??"0x"]),gas:d,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:m,nonceManager:x.nonceManager,parameters:[...Br,"sidecars"],type:w,value:v,...$,to:z}),D=(R=s==null?void 0:s.serializers)==null?void 0:R.transaction,M=await x.signTransaction(O,{serializer:D});return await G(e,Ho,"sendRawTransactionSync")({serializedTransaction:M,throwOnReceiptRevert:I,timeout:t.timeout})}throw(x==null?void 0:x.type)==="smart"?new De({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new De({docsPath:"/docs/actions/wallet/sendTransactionSync",type:x==null?void 0:x.type})}catch(z){throw z instanceof De?z:vn(z,{...t,account:x,chain:t.chain||void 0})}}async function T0(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function S0(e,t){const{account:n=e.account}=t;if(!n)throw new ze({docsPath:"/docs/eip7702/signAuthorization"});const r=K(n);if(!r.signAuthorization)throw new De({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Do(e,t);return r.signAuthorization(s)}async function Vo(e,{account:t=e.account,message:n}){if(!t)throw new ze({docsPath:"/docs/actions/wallet/signMessage"});const r=K(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?bn(n):n.raw instanceof Uint8Array?$e(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function k0(e,t){var u,d,l,h;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ze({docsPath:"/docs/actions/wallet/signTransaction"});const o=K(n);We({account:o,...t});const i=await G(e,Ke,"getChainId")({});r!==null&&Rr({currentChainId:i,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||bt;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:(h=(l=e.chain)==null?void 0:l.serializers)==null?void 0:h.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:T(i),from:o.address}]},{retryCount:0})}async function F0(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new ze({docsPath:"/docs/actions/wallet/signTypedData"});const i=K(n),a={EIP712Domain:h0({domain:r}),...t.types};if(f0({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=l0({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function B0(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:T(t)}]},{retryCount:0})}async function M0(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function ut(e,t){return ut.internal(e,$n,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:d,...l}=o;if(typeof a>"u")throw new ze({docsPath:"/docs/contract/writeContract"});const h=a?K(a):null,f=mn({abi:i,args:u,functionName:d});try{return await G(n,r,s)({data:f,to:c,account:h,...l})}catch(b){throw fo(b,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:h==null?void 0:h.address})}}e.internal=t})(ut||(ut={}));async function R0(e,t){return ut.internal(e,qo,"sendTransactionSync",t)}function zr(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const sn="3.4.0",O0=()=>`@wagmi/core@${sn}`;var Wo=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ln,Ko;class me extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return O0()}constructor(t,n={}){var o;super(),ln.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof me?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof me&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Wo(this,ln,"m",Ko).call(this,this,t)}}ln=new WeakSet,Ko=function e(t,n){return n!=null&&n(t)?t:t.cause?Wo(this,ln,"m",e).call(this,t.cause,n):t};class nr extends me{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class z0 extends me{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class j0 extends me{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class N0 extends me{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class L0 extends me{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class G0 extends me{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function D0(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new z0;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=t,i=await n.connect(o);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:o.withCapabilities?i.accounts.map(c=>typeof c=="object"?c.address:c):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o.withCapabilities?i.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(s){throw e.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const rr=256;let Qt=rr,en;function Zo(e=11){if(!en||Qt+e>rr*2){en="",Qt=0;for(let t=0;t<rr;t++)en+=(256+Math.random()*256|0).toString(16).substring(1)}return en.substring(Qt,Qt+++e)}function Jo(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),u=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),l=e.pollingInterval??d,h=e.cacheTime??l,f=e.account?K(e.account):void 0,{config:b,request:m,value:p}=e.transport({account:f,chain:n,pollingInterval:l}),I={...b,...p},w={account:f,batch:t,cacheTime:h,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:l,request:m,transport:I,type:a,uid:Zo(),...c?{experimental_blockTag:c}:{}};function v($){return y=>{const x=y($);for(const C in w)delete x[C];const P={...$,...x};return Object.assign(P,{extend:v(P)})}}return Object.assign(w,{extend:v(w)})}function U0(e){return{addChain:t=>w0(e,t),deployContract:t=>v0(e,t),fillTransaction:t=>Fo(e,t),getAddresses:()=>x0(e),getCallsStatus:t=>Go(e,t),getCapabilities:t=>P0(e,t),getChainId:()=>Ke(e),getPermissions:()=>$0(e),prepareAuthorization:t=>Do(e,t),prepareTransactionRequest:t=>xn(e,t),requestAddresses:()=>E0(e),requestPermissions:t=>I0(e,t),sendCalls:t=>Lo(e,t),sendCallsSync:t=>_0(e,t),sendRawTransaction:t=>zo(e,t),sendRawTransactionSync:t=>Ho(e,t),sendTransaction:t=>$n(e,t),sendTransactionSync:t=>qo(e,t),showCallsStatus:t=>T0(e,t),signAuthorization:t=>S0(e,t),signMessage:t=>Vo(e,t),signTransaction:t=>k0(e,t),signTypedData:t=>F0(e,t),switchChain:t=>B0(e,t),waitForCallsStatus:t=>Uo(e,t),watchAsset:t=>M0(e,t),writeContract:t=>ut(e,t),writeContractSync:t=>R0(e,t)}}function Yo({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=Zo();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:n0(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function H0(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Yo({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}class q0 extends E{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function V0(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:d,raw:l}=t;return({chain:h,retryCount:f,timeout:b})=>{const{batchSize:m=1e3,wait:p=0}=typeof n=="object"?n:{},I=t.retryCount??f,w=b??t.timeout??1e4,v=h==null?void 0:h.rpcUrls.default.http[0];if(!v)throw new q0;const $=i0(v,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:w});return Yo({key:o,methods:i,name:a,async request({method:y,params:x}){const P={method:y,params:x},{schedule:C}=bo({id:v,wait:p,shouldSplitBatch(z){return z.length>m},fn:z=>$.request({body:z}),sort:(z,O)=>z.id-O.id}),A=async z=>n?C(z):[await $.request({body:z})],[{error:j,result:R}]=await A(P);if(l)return{error:j,result:R};if(j)throw new $r({body:P,error:j,url:v});return R},retryCount:I,retryDelay:d,timeout:w,type:"http"},{fetchOptions:s,url:v})}}async function jr(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:d}=t;if(e.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new G0({connector:d});const[l,h]=await Promise.all([d.getAccounts().catch(f=>{if(t.account===null)return[];throw f}),d.getChainId()]);r={accounts:l,chainId:h,connector:d}}else r=e.state.connections.get(e.state.current);if(!r)throw new j0;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new L0({connectionChainId:s,connectorChainId:o});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const a=K(t.account??r.accounts[0]);if(a&&(a.address=Qe(a.address)),t.account&&!r.accounts.some(d=>d.toLowerCase()===a.address.toLowerCase()))throw new N0({address:a.address,connector:i});const c=e.chains.find(d=>d.id===s),u=await r.connector.getProvider({chainId:s});return Jo({account:a,chain:c,name:"Connector Client",transport:d=>H0(u)({...d,retryCount:0})})}async function Xo(e,t={}){var s,o;let n;if(t.connector)n=t.connector;else{const{connections:i,current:a}=e.state,c=i.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...i,connections:new Map(r),current:a.connector.uid}});{const i=e.state.current;if(!i)return;const a=(s=e.state.connections.get(i))==null?void 0:s.connector;if(!a)return;await((o=e.storage)==null?void 0:o.setItem("recentConnectorId",a.id))}}function Qo(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],o=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function ds(e,t={}){return(await jr(e,t)).extend(U0)}function ls(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return zr(s,au,"readContract")(r)}async function W0(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await jr(e,{account:n,connector:r}),zr(o,Vo,"signMessage")({...s,...n?{account:n}:{}})}class Xe extends me{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}async function fs(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;typeof n=="object"&&(n==null?void 0:n.type)==="local"?i=e.getClient({chainId:r}):i=await jr(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s});const a=(()=>{var d;return!r||((d=i.chain)==null?void 0:d.id)===r?i.chain:{id:r}})();return await zr(i,ut,"writeContract")({...o,...n?{account:n}:{},assertChainId:!!r,chain:a})}Jt.type="injected";function Jt(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...K0[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:Jt.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:d,withCapabilities:l}={}){var b,m,p,I,w,v;const h=await this.getProvider();if(!h)throw new Xe;let f=[];if(d)f=await this.getAccounts().catch(()=>[]);else if(t)try{f=(I=(p=(m=(b=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:m[0])==null?void 0:p.value)==null?void 0:I.map(y=>Qe(y)),f.length>0&&(f=await this.getAccounts())}catch($){const y=$;if(y.code===ee.code)throw new ee(y);if(y.code===Be.code)throw y}try{!(f!=null&&f.length)&&!d&&(f=(await h.request({method:"eth_requestAccounts"})).map(x=>Qe(x))),i&&(h.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a));let $=await this.getChainId();if(u&&$!==u){const y=await this.switchChain({chainId:u}).catch(x=>{if(x.code===ee.code)throw x;return{id:$}});$=(y==null?void 0:y.id)??$}return t&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),e.target||await((v=c.storage)==null?void 0:v.setItem("injected.connected",!0)),{accounts:l?f.map(y=>({address:y,capabilities:{}})):f,chainId:$}}catch($){const y=$;throw y.code===ee.code?new ee(y):y.code===Be.code?new Be(y):y}},async disconnect(){var d,l;const u=await this.getProvider();if(!u)throw new Xe;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await Ro(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),e.target||await((l=c.storage)==null?void 0:l.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Xe;return(await u.request({method:"eth_accounts"})).map(l=>Qe(l))},async getChainId(){const u=await this.getProvider();if(!u)throw new Xe;const d=await u.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let u;const d=r();return typeof d.provider=="function"?u=d.provider(window):typeof d.provider=="string"?u=on(window,d.provider):u=d.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,d;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((d=c.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const b=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",b),!!await this.getProvider()),m=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(I=>window.addEventListener("ethereum#initialized",()=>I(b()),{once:!0}))]:[],new Promise(I=>setTimeout(()=>I(b()),m))]))return!0}throw new Xe}return!!(await Ut(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:d}){var b,m,p,I;const l=await this.getProvider();if(!l)throw new Xe;const h=c.chains.find(w=>w.id===d);if(!h)throw new qe(new nr);const f=new Promise(w=>{const v=($=>{"chainId"in $&&$.chainId===d&&(c.emitter.off("change",v),w())});c.emitter.on("change",v)});try{return await Promise.all([l.request({method:"wallet_switchEthereumChain",params:[{chainId:T(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit("change",{chainId:d})}),f]),h}catch(w){const v=w;if(v.code===4902||((m=(b=v==null?void 0:v.data)==null?void 0:b.originalError)==null?void 0:m.code)===4902)try{const{default:$,...y}=h.blockExplorers??{};let x;u!=null&&u.blockExplorerUrls?x=u.blockExplorerUrls:$&&(x=[$.url,...Object.values(y).map(A=>A.url)]);let P;(p=u==null?void 0:u.rpcUrls)!=null&&p.length?P=u.rpcUrls:P=[((I=h.rpcUrls.default)==null?void 0:I.http[0])??""];const C={blockExplorerUrls:x,chainId:T(d),chainName:(u==null?void 0:u.chainName)??h.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??h.nativeCurrency,rpcUrls:P};return await Promise.all([l.request({method:"wallet_addEthereumChain",params:[C]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit("change",{chainId:d});else throw new ee(new Error("User rejected switch after adding network."))}),f]),h}catch($){throw new ee($)}throw v.code===ee.code?new ee(v):new qe(v)}},async onAccountsChanged(u){var d;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l}),t&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(l=>Qe(l))})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onConnect(u){const d=await this.getAccounts();if(d.length===0)return;const l=Number(u.chainId);c.emitter.emit("connect",{accounts:d,chainId:l});const h=await this.getProvider();h&&(i&&(h.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(u){const d=await this.getProvider();u&&u.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),a&&(d.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),d.on("connect",i))))}})}const K0={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:on(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return on(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:on(e,"isPhantom")}}};function on(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Z0(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function J0(){const e=new Set;let t=[];const n=()=>Z0(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const Y0=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const d=(c==null?void 0:c.equalityFn)||Object.is;let l=i(r.getState());u=h=>{const f=i(h);if(!d(l,f)){const b=l;a(l=f,b)}},c!=null&&c.fireImmediately&&a(l,l)}return s(u)},e(t,n,r)},X0=Y0;function Q0(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const sr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return sr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return sr(r)(n)}}}},ed=(e,t)=>(n,r,s)=>{let o={storage:Q0(()=>localStorage),partialize:m=>m,version:0,merge:(m,p)=>({...p,...m}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,s);const d=()=>{const m=o.partialize({...r()});return u.setItem(o.name,{state:m,version:o.version})},l=s.setState;s.setState=(m,p)=>{l(m,p),d()};const h=e((...m)=>{n(...m),d()},r,s);s.getInitialState=()=>h;let f;const b=()=>{var m,p;if(!u)return;i=!1,a.forEach(w=>{var v;return w((v=r())!=null?v:h)});const I=((p=o.onRehydrateStorage)==null?void 0:p.call(o,(m=r())!=null?m:h))||void 0;return sr(u.getItem.bind(u))(o.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==o.version){if(o.migrate)return[!0,o.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var v;const[$,y]=w;if(f=o.merge(y,(v=r())!=null?v:h),n(f,!0),$)return d()}).then(()=>{I==null||I(f,void 0),f=r(),i=!0,c.forEach(w=>w(f))}).catch(w=>{I==null||I(void 0,w)})};return s.persist={setOptions:m=>{o={...o,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},o.skipHydration||b(),f||h},td=ed,hs=e=>{let t;const n=new Set,r=(u,d)=>{const l=typeof u=="function"?u(t):u;if(!Object.is(l,t)){const h=t;t=d??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(f=>f(t,h))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},On=e=>e?hs(e):hs;function nd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zn={exports:{}},bs;function rd(){return bs||(bs=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,l,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new s(d,l||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],f]:c._events[b].push(f):(c._events[b]=f,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,l;if(this._eventsCount===0)return u;for(l in d=this._events)t.call(d,l)&&u.push(n?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,l=this._events[d];if(!l)return[];if(l.fn)return[l.fn];for(var h=0,f=l.length,b=new Array(f);h<f;h++)b[h]=l[h].fn;return b},a.prototype.listenerCount=function(u){var d=n?n+u:u,l=this._events[d];return l?l.fn?1:l.length:0},a.prototype.emit=function(u,d,l,h,f,b){var m=n?n+u:u;if(!this._events[m])return!1;var p=this._events[m],I=arguments.length,w,v;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),I){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,l),!0;case 4:return p.fn.call(p.context,d,l,h),!0;case 5:return p.fn.call(p.context,d,l,h,f),!0;case 6:return p.fn.call(p.context,d,l,h,f,b),!0}for(v=1,w=new Array(I-1);v<I;v++)w[v-1]=arguments[v];p.fn.apply(p.context,w)}else{var $=p.length,y;for(v=0;v<$;v++)switch(p[v].once&&this.removeListener(u,p[v].fn,void 0,!0),I){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,d);break;case 3:p[v].fn.call(p[v].context,d,l);break;case 4:p[v].fn.call(p[v].context,d,l,h);break;default:if(!w)for(y=1,w=new Array(I-1);y<I;y++)w[y-1]=arguments[y];p[v].fn.apply(p[v].context,w)}}return!0},a.prototype.on=function(u,d,l){return o(this,u,d,l,!1)},a.prototype.once=function(u,d,l){return o(this,u,d,l,!0)},a.prototype.removeListener=function(u,d,l,h){var f=n?n+u:u;if(!this._events[f])return this;if(!d)return i(this,f),this;var b=this._events[f];if(b.fn)b.fn===d&&(!h||b.once)&&(!l||b.context===l)&&i(this,f);else{for(var m=0,p=[],I=b.length;m<I;m++)(b[m].fn!==d||h&&!b[m].once||l&&b[m].context!==l)&&p.push(b[m]);p.length?this._events[f]=p.length===1?p[0]:p:i(this,f)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(zn)),zn.exports}var sd=rd();const od=nd(sd);class id{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new od})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function ad(e){return new id(e)}function cd(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function ps(e,t){return e.slice(0,t).join(".")||"."}function ms(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function ud(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=ms(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const d=ms(s,c);if(d!==0)return r?t.call(this,a,c,ps(o,d)):`[ref=${ps(o,d)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function dd(e,t,n,r){return JSON.stringify(e,ud((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),(t==null?void 0:t(s,i))??i},r),n??void 0)}function ld(e){const{deserialize:t=cd,key:n="wagmi",serialize:r=dd,storage:s=ei}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const ei={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function fd(){const e=typeof window<"u"&&window.localStorage?window.localStorage:ei;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const or=256;let tn=or,nn;function hd(e=11){if(!nn||tn+e>or*2){nn="",tn=0;for(let t=0;t<or;t++)nn+=(256+Math.random()*256|0).toString(16).substring(1)}return nn.substring(tn,tn+++e)}function bd(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=ld({storage:fd()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?J0():void 0,a=On(()=>o.chains),c=On(()=>{const y=[],x=new Set;for(const P of o.connectors??[]){const C=u(P);if(y.push(C),!s&&C.rdns){const A=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const j of A)x.add(j)}}if(!s&&i){const P=i.getProviders();for(const C of P)x.has(C.info.rdns)||y.push(u(d(C)))}return y});function u(y){var C;const x=ad(hd()),P={...y({emitter:x,chains:a.getState(),storage:n,transports:o.transports}),emitter:x,uid:x.uid};return x.on("connect",v),(C=P.setup)==null||C.call(P),P}function d(y){const{info:x}=y,P=y.provider;return Jt({target:{...x,id:x.rdns,provider:P}})}const l=new Map;function h(y={}){const x=y.chainId??p.getState().chainId,P=a.getState().find(A=>A.id===x);if(y.chainId&&!P)throw new nr;{const A=l.get(p.getState().chainId);if(A&&!P)return A;if(!P)throw new nr}{const A=l.get(x);if(A)return A}let C;if(o.client)C=o.client({chain:P});else{const A=P.id,j=a.getState().map(O=>O.id),R={},z=Object.entries(o);for(const[O,D]of z)if(!(O==="chains"||O==="client"||O==="connectors"||O==="transports"))if(typeof D=="object")if(A in D)R[O]=D[A];else{if(j.some(V=>V in D))continue;R[O]=D}else R[O]=D;C=Jo({...R,chain:P,batch:R.batch??{multicall:!0},transport:O=>o.transports[A]({...O,connectors:c})})}return l.set(x,C),C}function f(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const m="0.0.0-canary-";sn.startsWith(m)?b=Number.parseInt(sn.replace(m,""),10):b=Number.parseInt(sn.split(".")[0]??"0",10);const p=On(X0(n?td(f,{migrate(y,x){if(x===b)return y;const P=f(),C=I(y,P.chainId);return{...P,chainId:C}},name:"store",partialize(y){return{connections:{__type:"Map",value:Array.from(y.connections.entries()).map(([x,P])=>{const{id:C,name:A,type:j,uid:R}=P.connector;return[x,{...P,connector:{id:C,name:A,type:j,uid:R}}]})},chainId:y.chainId,current:y.current}},merge(y,x){typeof y=="object"&&y&&"status"in y&&delete y.status;const P=I(y,x.chainId);return{...x,...y,chainId:P}},skipHydration:s,storage:n,version:b}):f));p.setState(f());function I(y,x){return y&&typeof y=="object"&&"chainId"in y&&typeof y.chainId=="number"&&a.getState().some(P=>P.id===y.chainId)?y.chainId:x}r&&p.subscribe(({connections:y,current:x})=>{var P;return x?(P=y.get(x))==null?void 0:P.chainId:void 0},y=>{if(a.getState().some(P=>P.id===y))return p.setState(P=>({...P,chainId:y??P.chainId}))}),i==null||i.subscribe(y=>{const x=new Set,P=new Set;for(const A of c.getState())if(x.add(A.id),A.rdns){const j=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const R of j)P.add(R)}const C=[];for(const A of y){if(P.has(A.info.rdns))continue;const j=u(d(A));x.has(j.id)||C.push(j)}n&&!p.persist.hasHydrated()||c.setState(A=>[...A,...C],!0)});function w(y){p.setState(x=>{const P=x.connections.get(y.uid);return P?{...x,connections:new Map(x.connections).set(y.uid,{accounts:y.accounts??P.accounts,chainId:y.chainId??P.chainId,connector:P.connector})}:x})}function v(y){p.getState().status==="connecting"||p.getState().status==="reconnecting"||p.setState(x=>{const P=c.getState().find(C=>C.uid===y.uid);return P?(P.emitter.listenerCount("connect")&&P.emitter.off("connect",w),P.emitter.listenerCount("change")||P.emitter.on("change",w),P.emitter.listenerCount("disconnect")||P.emitter.on("disconnect",$),{...x,connections:new Map(x.connections).set(y.uid,{accounts:y.accounts,chainId:y.chainId,connector:P}),current:y.uid,status:"connected"}):x})}function $(y){p.setState(x=>{const P=x.connections.get(y.uid);if(P){const A=P.connector;A.emitter.listenerCount("change")&&P.connector.emitter.off("change",w),A.emitter.listenerCount("disconnect")&&P.connector.emitter.off("disconnect",$),A.emitter.listenerCount("connect")||P.connector.emitter.on("connect",v)}if(x.connections.delete(y.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const C=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:C.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return p.getState()},setState(y){let x;typeof y=="function"?x=y(p.getState()):x=y;const P=f();typeof x!="object"&&(x=P),Object.keys(P).some(A=>!(A in x))&&(x=P),p.setState(x,!0)},subscribe(y,x,P){return p.subscribe(y,x,P?{...P,fireImmediately:P.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const y=p.getState(),x=y.connections;let P=y.current;for(const[,C]of x){const A=C.connector;A.isAuthorized&&await A.isAuthorized()||(x.delete(A.uid),P===A.uid&&(P=null))}p.setState(C=>({...C,connections:x,current:P}))},store:p,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(y){const x=typeof y=="function"?y(a.getState()):y;if(x.length!==0)return a.setState(x,!0)},subscribe(y){return a.subscribe(y)}},connectors:{providerDetailToConnector:d,setup:u,setState(y){return c.setState(typeof y=="function"?y(c.getState()):y,!0)},subscribe(y){return c.subscribe(y)}},events:{change:w,connect:v,disconnect:$}}}}const pd={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},md={block:wu({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Kt(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?re(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:yu({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?re(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:s0({format(e){return{l1GasPrice:e.l1GasPrice?re(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?re(e.l1GasUsed):null,l1Fee:e.l1Fee?re(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function yd(e,t){return vd(e)?wd(e):Ku(e,t)}const gd={transaction:yd};function wd(e){xd(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?$e(i):"0x",c?$e(c):"0x",s?$e(s):"0x",o?"0x1":"0x",n??"0x"];return Ce(["0x7e",Oe(u)])}function vd(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function xd(e){const{from:t,to:n}=e;if(t&&!J(t))throw new te({address:t});if(n&&!J(n))throw new te({address:n})}const ys={blockTime:2e3,contracts:pd,formatters:md,serializers:gd},gt=1,ir=Bo({...ys,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ys.contracts,disputeGameFactory:{[gt]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[gt]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[gt]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[gt]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:gt});({...ir});function Pd(e){const t=(e??"").trim();if(!t)throw new Error("Address is required");if(t.includes("."))throw new Error("Please use a raw wallet address (0x...). ENS names are not supported on Base.");if(!J(t))throw new Error("Invalid address format. Use a raw wallet address (0x...).");return t}const ar=Pd;function $d(e){return!e||e.length<10?e:`${e.slice(0,6)}...${e.slice(-4)}`}const ti=Jt({target:"metaMask"}),ni=Jt({target:"coinbaseWallet"}),ue=bd({chains:[ir],connectors:[ti,ni],transports:{[ir.id]:V0()},ssr:!0}),fn="0xA99c4B08201F2913Db8D28e71d020c4298F29dBF",hn=[{type:"function",name:"isPetOperatorForAll",stateMutability:"view",inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"tokenIdsOfOwner",stateMutability:"view",inputs:[{name:"_owner",type:"address"}],outputs:[{type:"uint32[]"}]},{type:"function",name:"setPetOperatorForAll",stateMutability:"nonpayable",inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],outputs:[]}],Ed={class:"wallet-connect"},Id={key:0,class:"space-y-4"},Cd={class:"flex flex-col sm:flex-row gap-3"},Ad=["disabled"],_d=["disabled"],Td={key:0,class:"text-red-400 text-sm"},Sd={key:1,class:"text-slate-400 text-xs mt-1"},kd={key:1,class:"space-y-4"},Fd={class:"bg-emerald-500/20 border border-emerald-500/50 rounded-lg p-4"},Bd={class:"text-slate-300 text-sm mt-1 break-all"},Md={key:0,class:"text-amber-400/90 text-sm"},Rd=["disabled"],Od=dt({__name:"WalletConnect",setup(e){var m,p;const t=cr(),n=(((m=t.public)==null?void 0:m.allowedAddress)||"0x2127aa7265d573aa467f1d73554d17890b872e76").toLowerCase(),r=(p=t.public)==null?void 0:p.allowedAddresses,s=r?r.split(",").map(I=>I.trim().toLowerCase()).filter(Boolean):[n],o=L(""),i=L(!1),a=L(!1),c=L(!1),u=L(!1),d=L(""),l=async()=>{try{const I=await $fetch("/api/auth/check");a.value=I.authenticated}catch{a.value=!1}},h=async I=>{var w;c.value=!0,d.value="";try{const $=await D0(ue,{connector:I==="metaMask"?ti:ni});if((w=$==null?void 0:$.accounts)!=null&&w[0]){o.value=$.accounts[0],i.value=!0;const y=$.accounts[0].toLowerCase();s.includes(y)?await l():(d.value=s.length===1?`Your address is not whitelisted. Only ${n} is allowed.`:"Your address is not whitelisted.",i.value=!1)}}catch(v){const $=(v==null?void 0:v.message)||"Failed to connect wallet";$.includes("Provider not found")?d.value="MetaMask/Coinbase not found. Disable Uniswap Wallet and other extensions, or use a private window with only MetaMask or Coinbase.":$.includes("ethereum")&&$.includes("getter")?d.value="Wallet conflict detected. Try disabling other wallet extensions or use a private window with only MetaMask or Coinbase Wallet.":d.value=$,i.value=!1}finally{c.value=!1}},f=async()=>{var I;u.value=!0,d.value="";try{const w=`Sign in to Aavegotchi Petter Bot

Address: ${o.value}

This request will not trigger a blockchain transaction or cost any gas fees.`,v=await W0(ue,{message:w,account:o.value});(await $fetch("/api/auth/verify",{method:"POST",body:{address:o.value,message:w,signature:v}})).success&&(a.value=!0,window.location.href="/")}catch(w){d.value=(w==null?void 0:w.message)||((I=w==null?void 0:w.data)==null?void 0:I.message)||"Failed to sign message"}finally{u.value=!1}},b=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await Xo(ue),i.value=!1,a.value=!1,o.value="",await vs("/")}catch(I){console.error("Failed to disconnect:",I)}};return Ht(async()=>{if(typeof window>"u")return;const I=Qo(ue);I.isConnected&&I.address&&(o.value=I.address,i.value=!0,await l())}),(I,w)=>(k(),B("div",Ed,[i.value?(k(),B("div",kd,[g("div",Fd,[w[3]||(w[3]=g("p",{class:"text-emerald-400 font-medium"},"Connected",-1)),g("p",Bd,F(o.value),1)]),a.value?U("",!0):(k(),B("p",Md," Sign in below to access Bot Control, Delegation List, and full dashboard. ")),a.value?(k(),B("button",{key:2,onClick:b,class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Disconnect ")):(k(),B("button",{key:1,onClick:f,disabled:u.value,class:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},F(u.value?"Signing...":"Sign Message to Login"),9,Rd))])):(k(),B("div",Id,[w[2]||(w[2]=g("p",{class:"text-slate-400"},"Connect with MetaMask or Coinbase Wallet only",-1)),g("div",Cd,[g("button",{onClick:w[0]||(w[0]=v=>h("metaMask")),disabled:c.value,class:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},F(c.value?"Connecting...":"MetaMask"),9,Ad),g("button",{onClick:w[1]||(w[1]=v=>h("coinbaseWallet")),disabled:c.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},F(c.value?"Connecting...":"Coinbase Wallet"),9,_d)]),d.value?(k(),B("p",Td,F(d.value),1)):U("",!0),d.value?(k(),B("p",Sd," Have Uniswap or other wallets? Disable them or use a private window with only MetaMask or Coinbase Wallet. ")):U("",!0)]))]))}}),vt=window.setInterval,zd={class:"bot-control"},jd={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Nd={key:0,class:"text-center py-4"},Ld={key:1,class:"space-y-4"},Gd={class:"flex items-center justify-between"},Dd={key:0},Ud={class:"text-lg font-semibold"},Hd={key:0,class:"bg-white/5 border border-white/10 rounded-lg p-4"},qd={class:"text-slate-300 text-sm mt-1"},Vd={key:1,class:"bg-red-500/20 border border-red-500/50 rounded-lg p-4"},Wd={class:"text-red-300 text-sm mt-1"},Kd={class:"flex gap-4"},Zd=["disabled"],Jd=["disabled"],Yd=dt({__name:"BotControl",emits:["triggered"],setup(e,{emit:t}){const n=t,r=L({running:!1}),s=L(!0),o=L(!1),i=L(!1),a=async()=>{try{const l=await $fetch("/api/bot/status");r.value=l}catch(l){console.error("Failed to fetch bot status:",l)}finally{s.value=!1}},c=async()=>{o.value=!0;try{const l=r.value.running?"/api/bot/stop":"/api/bot/start";await $fetch(l,{method:"POST"}),await a()}catch(l){console.error("Failed to toggle bot:",l),alert("Failed to toggle bot status")}finally{o.value=!1}},u=async()=>{var l,h,f;i.value=!0;try{const b=await $fetch("/api/bot/trigger",{method:"POST",body:{force:!0}}),m=(l=b==null?void 0:b.result)==null?void 0:l.message;alert(m||"Bot triggered successfully!"),n("triggered"),await a()}catch(b){console.error("Failed to trigger bot:",b);const m=((h=b==null?void 0:b.data)==null?void 0:h.message)||((f=b==null?void 0:b.data)==null?void 0:f.error)||(b==null?void 0:b.message)||(typeof(b==null?void 0:b.data)=="string"?b.data:null)||"Failed to trigger bot";alert(m)}finally{i.value=!1}},d=l=>new Date(l).toLocaleString();return Ht(()=>{a(),vt(a,1e4)}),(l,h)=>(k(),B("div",zd,[g("div",jd,[h[5]||(h[5]=g("h2",{class:"text-lg font-semibold mb-4"},"Bot Control",-1)),s.value?(k(),B("div",Nd,[...h[0]||(h[0]=[g("p",{class:"text-slate-400"},"Loading...",-1)])])):(k(),B("div",Ld,[g("div",Gd,[g("div",null,[h[1]||(h[1]=g("p",{class:"text-sm text-slate-400"},"Status",-1)),g("p",{class:be(["text-lg font-semibold",r.value.running?"text-emerald-400":"text-red-400"])},F(r.value.running?"Running":"Stopped"),3)]),r.value.lastRun?(k(),B("div",Dd,[h[2]||(h[2]=g("p",{class:"text-sm text-slate-400"},"Last Run",-1)),g("p",Ud,F(d(r.value.lastRun)),1)])):U("",!0)]),r.value.lastRunMessage&&!r.value.lastError?(k(),B("div",Hd,[h[3]||(h[3]=g("p",{class:"text-slate-400 text-sm font-medium"},"Last Outcome",-1)),g("p",qd,F(r.value.lastRunMessage),1)])):U("",!0),r.value.lastError?(k(),B("div",Vd,[h[4]||(h[4]=g("p",{class:"text-red-400 font-medium"},"Last Error",-1)),g("p",Wd,F(r.value.lastError),1)])):U("",!0),g("div",Kd,[g("button",{onClick:c,disabled:o.value,class:be(["px-6 py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",r.value.running?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700"])},F(o.value?"Processing...":r.value.running?"Stop Bot":"Start Bot"),11,Zd),g("button",{onClick:u,disabled:i.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},F(i.value?"Running...":"Trigger Now"),9,Jd)])]))])]))}}),gs="0xb5E8181aE736E022E806e3aAE40F4E34dC49455D",Xd=["0xb4c123857ea7d2f1343d749818c19af439c65e15","0x6c5fc27f465ac73466d3a10508d2ed8a68364bbf"];function ri(){var o;let t=((o=cr().public)==null?void 0:o.petterAddress)||gs;Xd.includes(t.toLowerCase())&&(t=gs);const n=L(null),r=L(!0);return{status:n,loading:r,petterAddress:t,fetchStatus:async()=>{if(typeof window>"u")return;const i=Qo(ue).address;if(!i||!t){n.value=null,r.value=!1;return}try{const a=ar(t),[c,u]=await Promise.all([ls(ue,{address:fn,abi:hn,functionName:"isPetOperatorForAll",args:[i,a]}),$fetch("/api/delegation/registered").catch(()=>({registered:!1}))]);let d=0;if(c){const l=await ls(ue,{address:fn,abi:hn,functionName:"tokenIdsOfOwner",args:[i]});d=Array.isArray(l)?l.length:0}n.value={approved:c,registered:u.registered,gotchiCount:d,petterAddress:t,canRegister:c&&!u.registered}}catch(a){console.error("Failed to fetch delegation status:",a),n.value=null}finally{r.value=!1}}}}const Qd={class:"delegation-card"},el={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},tl={key:0,class:"text-center py-4"},nl={key:1,class:"text-center py-4"},rl={key:2,class:"space-y-4"},sl={class:"bg-white/5 rounded-lg p-4 font-mono text-sm break-all"},ol={class:"space-y-2"},il={class:"flex items-center gap-2"},al={class:"flex items-center gap-2"},cl={key:0,class:"text-sm text-slate-400"},ul={class:"flex flex-col gap-2"},dl=["disabled"],ll=["disabled"],fl=["disabled"],hl=["disabled"],bl={class:"mt-2 pt-2 border-t border-white/10"},pl={class:"flex flex-wrap gap-2 items-center"},ml=["disabled"],yl=["disabled"],gl=dt({__name:"DelegationCard",setup(e){const{status:t,loading:n,petterAddress:r,fetchStatus:s}=ri(),o=L(""),i=L(!1),a=L(!1),c=L(!1),u=async()=>{if(!r){alert("Petter address not configured");return}i.value=!0;try{const m=ar(r);if(!await ds(ue)){alert("Please connect your wallet first");return}await fs(ue,{address:fn,abi:hn,functionName:"setPetOperatorForAll",args:[m,!0]}),await s()}catch(m){console.error("Approve failed:",m),alert((m==null?void 0:m.message)||"Approval failed")}finally{i.value=!1}},d=async()=>{var m;a.value=!0;try{await $fetch("/api/delegation/register",{method:"POST"}),await s()}catch(p){alert(((m=p==null?void 0:p.data)==null?void 0:m.message)||(p==null?void 0:p.message)||"Registration failed")}finally{a.value=!1}},l=async()=>{r&&confirm("Revoke the current petter? You will need to approve again after updating the petter address.")&&await b(r.value)},h=m=>{confirm(`Revoke ${m} as petter for your gotchis?`)&&b(m)},f=async()=>{var p;const m=(p=o.value)==null?void 0:p.trim();if(!m||!m.startsWith("0x")){alert("Enter a valid address (0x...)");return}h(m),o.value=""},b=async m=>{c.value=!0;try{const p=ar(m);if(!await ds(ue)){alert("Please connect your wallet first");return}await fs(ue,{address:fn,abi:hn,functionName:"setPetOperatorForAll",args:[p,!1]}),m.toLowerCase()===(r==null?void 0:r.toLowerCase())&&await $fetch("/api/delegation/unregister",{method:"POST"}),await s(),alert("Revoked successfully.")}catch(p){console.error("Revoke failed:",p),alert((p==null?void 0:p.message)||"Revoke failed")}finally{c.value=!1}};return Ht(()=>{s()}),(m,p)=>{var I,w,v,$,y,x,P,C;return k(),B("div",Qd,[g("div",el,[p[7]||(p[7]=g("h2",{class:"text-lg font-semibold mb-2"},"EIP PetOperator Delegation",-1)),p[8]||(p[8]=g("p",{class:"text-slate-400 text-sm mb-4"}," Keep your Aavegotchis in your wallet. Approve our petter to pet on your behalf—no transfer needed. ",-1)),X(n)?(k(),B("div",tl,[...p[2]||(p[2]=[g("p",{class:"text-slate-400"},"Loading...",-1)])])):X(t)?(k(),B("div",rl,[g("div",sl,[p[4]||(p[4]=g("span",{class:"text-slate-400"},"Petter address: ",-1)),xs(" "+F(X(r)||"—"),1)]),g("div",ol,[g("div",il,[g("span",{class:be(["w-3 h-3 rounded-full",(I=X(t))!=null&&I.approved?"bg-emerald-500":"bg-amber-500"])},null,2),g("span",null,F((w=X(t))!=null&&w.approved?"Approved":"Not approved"),1)]),g("div",al,[g("span",{class:be(["w-3 h-3 rounded-full",(v=X(t))!=null&&v.registered?"bg-emerald-500":"bg-slate-500"])},null,2),g("span",null,F(($=X(t))!=null&&$.registered?"Registered":"Not registered"),1)]),((y=X(t))==null?void 0:y.gotchiCount)!==void 0?(k(),B("div",cl,F(X(t).gotchiCount)+" Aavegotchi(es) in your wallet ",1)):U("",!0)]),g("div",ul,[(x=X(t))!=null&&x.approved?(P=X(t))!=null&&P.canRegister?(k(),B(ke,{key:1},[g("button",{onClick:d,disabled:a.value,class:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 font-medium"},F(a.value?"Registering...":"2. Register for Auto-Petting"),9,ll),g("button",{onClick:l,disabled:c.value,class:"px-4 py-2 text-slate-400 hover:text-white text-sm"},F(c.value?"Revoking...":"Revoke approval"),9,fl)],64)):(C=X(t))!=null&&C.registered?(k(),B(ke,{key:2},[p[6]||(p[6]=g("div",{class:"px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg text-sm border border-emerald-500/50"}," ✓ You're all set! Your Aavegotchis will be petted every 12 hours. ",-1)),g("button",{onClick:l,disabled:c.value,class:"px-4 py-2 bg-red-600/80 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 text-sm font-medium"},F(c.value?"Revoking...":"Revoke & Change Petter"),9,hl),g("div",bl,[p[5]||(p[5]=g("p",{class:"text-slate-400 text-xs mb-1"},"Revoke a different petter address:",-1)),g("div",pl,[X(r)?(k(),B("button",{key:0,type:"button",onClick:p[0]||(p[0]=A=>h(X(r))),disabled:c.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke "+F(X($d)(X(r))),9,ml)):U("",!0),si(g("input",{"onUpdate:modelValue":p[1]||(p[1]=A=>o.value=A),type:"text",placeholder:"0x...",class:"flex-1 min-w-[140px] bg-white/10 border border-white/20 rounded px-3 py-1.5 text-sm font-mono placeholder-slate-500"},null,512),[[oi,o.value]]),g("button",{type:"button",onClick:f,disabled:c.value||!o.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke ",8,yl)])])],64)):U("",!0):(k(),B("button",{key:0,onClick:u,disabled:i.value,class:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 font-medium"},F(i.value?"Confirm in wallet...":"1. Approve Petter (sign tx)"),9,dl))])])):(k(),B("div",nl,[...p[3]||(p[3]=[g("p",{class:"text-slate-400"},"Connect your wallet to view delegation status. If already connected, refresh the page.",-1)])]))])])}}}),wl={class:"delegation-list"},vl={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},xl={class:"flex items-center justify-between mb-4"},Pl=["disabled"],$l={key:0,class:"text-center py-8 text-slate-400"},El={key:1,class:"text-center py-8 text-slate-400"},Il={key:2,class:"space-y-4"},Cl={class:"flex flex-wrap items-center justify-between gap-2 text-sm text-slate-400 mb-2"},Al={class:"font-semibold text-white"},_l=["disabled"],Tl={class:"space-y-2 max-h-64 overflow-y-auto"},Sl=["href"],kl={class:"text-emerald-400 font-medium ml-3 shrink-0"},Fl=dt({__name:"DelegationList",setup(e){const t=L([]),n=L(0),r=L(!1),s=L(!1),o=async()=>{var a;if(confirm("Unregister all delegates? The worker will stop petting for them. Each owner should revoke on-chain.")){s.value=!0;try{const c=await $fetch("/api/delegation/clear-all",{method:"POST"});alert(c.message),await i()}catch(c){alert(((a=c==null?void 0:c.data)==null?void 0:a.message)||(c==null?void 0:c.message)||"Failed to unregister all")}finally{s.value=!1}}},i=async()=>{r.value=!0;try{const a=await $fetch("/api/delegation/owners");t.value=a.owners||[],n.value=a.totalGotchis||0}catch(a){console.error("Failed to fetch delegation owners:",a),t.value=[],n.value=0}finally{r.value=!1}};return Ht(()=>{i(),vt(i,6e4)}),(a,c)=>(k(),B("div",wl,[g("div",vl,[g("div",xl,[c[0]||(c[0]=g("h2",{class:"text-lg font-semibold"},"Delegating Owners",-1)),g("button",{onClick:i,disabled:r.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},F(r.value?"Loading...":"Refresh"),9,Pl)]),r.value&&t.value.length===0?(k(),B("div",$l,[...c[1]||(c[1]=[g("p",null,"Loading delegation list...",-1)])])):t.value.length===0?(k(),B("div",El,[...c[2]||(c[2]=[g("p",null,"No users have delegated petting yet",-1)])])):(k(),B("div",Il,[g("div",Cl,[g("span",null,"Total: "+F(t.value.length)+" owner(s)",1),g("span",Al,F(n.value)+" Aavegotchis to pet",1),t.value.length>0?(k(),B("button",{key:0,type:"button",onClick:o,disabled:s.value,class:"px-3 py-1.5 text-sm bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition disabled:opacity-50"},F(s.value?"Clearing...":"Unregister all"),9,_l)):U("",!0)]),g("div",Tl,[(k(!0),B(ke,null,rn(t.value,u=>(k(),B("div",{key:u.address,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[g("a",{href:`https://basescan.org/address/${u.address}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate flex-1 min-w-0"},F(u.address.slice(0,6))+"..."+F(u.address.slice(-4)),9,Sl),g("span",kl,F(u.gotchiCount)+" gotchi"+F(u.gotchiCount!==1?"s":""),1)]))),128))])]))])]))}}),Bl={class:"home-dashboard min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white p-4 md:p-8"},Ml={class:"max-w-6xl mx-auto space-y-6"},Rl={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Ol={class:"text-slate-400 mt-1"},zl={class:"flex items-center gap-3"},jl={class:"text-sm font-medium"},Nl={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},Ll={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Gl={class:"text-xl font-bold mt-1 font-mono"},Dl={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Ul={class:"text-xl font-bold mt-1"},Hl={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},ql={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Vl={class:"text-xl font-bold mt-1"},Wl={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Kl={class:"flex items-center justify-between gap-2"},Zl={class:"text-xl font-bold mt-1 font-mono"},Jl=["disabled"],Yl={key:0,class:"grid md:grid-cols-2 gap-6"},Xl={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Ql={class:"flex items-center justify-between mb-4"},ef=["disabled"],tf={class:"space-y-3"},nf={class:"font-mono text-sm break-all mt-1"},rf={class:"font-mono text-lg font-bold mt-1"},sf={key:0,class:"text-slate-500 text-xs mt-0.5"},of={class:"font-mono text-lg font-bold mt-1"},af={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},cf={class:"space-y-3"},uf={class:"mt-1"},df={key:0},lf={class:"text-slate-300 text-sm mt-1"},ff={key:1},hf={class:"text-red-400 text-sm mt-1 truncate"},bf={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},pf={class:"flex items-center justify-between mb-4"},mf=["disabled"],yf={key:0,class:"text-center py-12 text-slate-400"},gf={key:1,class:"text-center py-12 text-slate-400"},wf={key:2,class:"text-center py-12 text-slate-400"},vf={key:3,class:"space-y-3 max-h-64 overflow-y-auto"},xf={class:"flex-1 min-w-0"},Pf=["href"],$f={class:"text-slate-400 text-xs mt-1"},Ef={key:0,class:"text-slate-500"},If={class:"text-slate-200 text-sm font-medium truncate"},Cf={class:"text-slate-400 text-xs mt-1"},Af={key:1,class:"grid md:grid-cols-2 gap-6 mt-6"},_f={key:2,class:"mt-6"},Tf={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Sf={class:"flex flex-wrap items-center gap-4"},kf={class:"flex items-center gap-2"},Ff=["value","disabled"],Bf=["value"],Mf={key:0,class:"text-slate-400 text-sm"},Rf=["disabled"],Of={key:2,class:"text-amber-400 text-sm font-medium"},zf={key:3,class:"mt-6"},jf={key:4,class:"mt-6"},Nf={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Lf={class:"flex items-center justify-between mb-4"},Gf=["disabled"],Df={key:0,class:"text-center py-8 text-slate-400"},Uf={key:1,class:"text-center py-8 text-slate-400"},Hf={key:2,class:"space-y-1.5 max-h-80 overflow-y-auto font-mono text-xs"},qf={class:"text-slate-500 shrink-0"},Vf={class:"break-all"},Wf=dt({__name:"HomeDashboard",setup(e){const t=cr(),n=Je(()=>t.public.workerEnabled===!0),r=L(null),s=L([]),{fetchStatus:o,petterAddress:i}=ri(),a=L(null),c=L(null),u=L(!1),d=L(null),l=L([]),h=L(12),f=L(!1),b=L(null);let m=null;const p=L(!0),I=L(!1),w=L(!1),v=L(!1),$=L(!1),y=Je(()=>{var S,_,_e,je,Ne,Le,N,Ze;return{running:((_=(S=r.value)==null?void 0:S.bot)==null?void 0:_.running)??!1,lastRun:((je=(_e=r.value)==null?void 0:_e.bot)==null?void 0:je.lastRun)??null,lastError:((Le=(Ne=r.value)==null?void 0:Ne.bot)==null?void 0:Le.lastError)??null,lastRunMessage:((Ze=(N=r.value)==null?void 0:N.bot)==null?void 0:Ze.lastRunMessage)??null}}),x=Je(()=>{var S;return((S=r.value)==null?void 0:S.stats)??{successRate:100}}),P=Je(()=>{var Nr,Lr;const S=(Lr=(Nr=r.value)==null?void 0:Nr.bot)==null?void 0:Lr.lastRun;if(!S)return"—";const _=new Date(S).getTime(),_e=h.value*60*60*1e3,je=_+_e,Ne=Date.now();if(Ne>=je)return"Ready";const Le=je-Ne,N=Math.floor(Le/36e5),Ze=Math.floor(Le%36e5/6e4);return`${N}h ${Ze}m`}),C=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],A=Je(()=>{const S=h.value;return S<1/60?`Every ${Math.round(S*3600)} sec (test)`:S<1?`Every ${Math.round(S*60)} min`:`Every ${S} ${S===1?"hour":"hours"}`}),j=Je(()=>{var _;const S=((_=x.value)==null?void 0:_.successRate)??100;return S>=95?"text-emerald-400":S>=80?"text-amber-400":"text-red-400"}),R=async()=>{try{const S=await $fetch("/api/health");r.value=S}catch(S){console.error("Failed to fetch health:",S)}},z=async()=>{if($.value){I.value=!0;try{const S=await $fetch("/api/transactions",{query:{limit:20}});s.value=S}catch(S){console.error("Failed to fetch history:",S)}finally{I.value=!1}}},O=async()=>{if($.value){v.value=!0;try{const S=await $fetch("/api/transactions/backfill-gas",{method:"POST"});S.ok&&S.updated>0&&(await R(),await z())}catch(S){console.error("Backfill gas failed:",S)}finally{v.value=!1}}},D=async()=>{if($.value){w.value=!0;try{const S=await $fetch("/api/bot/logs",{query:{limit:100}});l.value=S}catch(S){console.error("Failed to fetch worker logs:",S),l.value=[]}finally{w.value=!1}}},M=async()=>{if($.value)try{const S=await $fetch("/api/bot/frequency");h.value=S.pettingIntervalHours}catch{h.value=12}},V=async S=>{if($.value&&!(S<30/3600||S>24)){f.value=!0;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:S}}),h.value=S}catch(_){console.error("Failed to set frequency:",_),alert("Failed to update petting frequency")}finally{f.value=!1}}},W=async S=>{if(!$.value||f.value||b.value!=null)return;f.value=!0;const _=S/3600;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:_}}),h.value=_,b.value=S,m&&clearInterval(m),m=vt(()=>{b.value!=null&&(b.value-=1,b.value<=0&&(m&&clearInterval(m),m=null,b.value=null,V(12)))},1e3)}catch(_e){console.error("Failed to start test mode:",_e),alert("Failed to start test mode")}finally{f.value=!1}},H=async()=>{u.value=!0;try{const S=await $fetch("/api/petter-balance");a.value=S.balance,c.value=S.balanceAddress}catch{a.value="—",c.value=null}finally{u.value=!1}},Z=async()=>{try{const S=await $fetch("/api/delegation/owners");d.value=S.totalGotchis??0}catch{d.value=null}},Y=async()=>{try{const S=await $fetch("/api/auth/check");$.value=S.authenticated}catch{$.value=!1}},ce=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await Xo(ue),await vs("/")}catch(S){console.error("Failed to logout:",S)}},Q=S=>{if(!S)return"—";const _=typeof S=="string"?new Date(S).getTime():S;return new Date(_).toLocaleString()},ge=S=>new Date(S).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),we=S=>S==null||S===0?"—":S<1e-4?"<0.0001 ETH":`${S.toFixed(4)} ETH`;return ii(()=>{m&&clearInterval(m)}),Ht(async()=>{if(await Y(),await R(),$.value){const S=[z(),o(),H(),Z()];n.value&&S.push(D(),M()),await Promise.all(S)}p.value=!1,vt(R,3e4),$.value&&vt(()=>{const S=[z(),H(),Z()];return n.value&&S.push(D(),M()),Promise.all(S)},6e4)}),(S,_)=>{const _e=Od,je=Yd,Ne=gl,Le=Fl;return k(),B("div",Bl,[g("div",Ml,[g("div",Rl,[g("div",null,[_[3]||(_[3]=g("h1",{class:"text-3xl md:text-4xl font-bold tracking-tight"},"Aavegotchi Petter",-1)),g("p",Ol,"Automated petting on Base • "+F(A.value),1)]),g("div",zl,[g("div",{class:be(["flex items-center gap-2 px-4 py-2 rounded-lg",y.value.running?"bg-emerald-500/20 border border-emerald-500/50":"bg-amber-500/20 border border-amber-500/50"])},[g("div",{class:be(["w-2 h-2 rounded-full animate-pulse",y.value.running?"bg-emerald-400":"bg-amber-400"])},null,2),g("span",jl,F(y.value.running?"Running":"Stopped"),1)],2),$.value?(k(),B("button",{key:0,onClick:ce,class:"px-4 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-sm font-medium transition"}," Logout ")):(k(),jn(_e,{key:1}))])]),g("div",Nl,[g("div",Ll,[_[4]||(_[4]=g("p",{class:"text-slate-400 text-sm"},"Next Pet",-1)),g("p",Gl,F(P.value),1)]),g("div",Dl,[_[5]||(_[5]=g("p",{class:"text-slate-400 text-sm"},"Total Petted",-1)),g("p",Ul,F(x.value.totalAavegotchisPetted??0),1)]),g("div",Hl,[_[6]||(_[6]=g("p",{class:"text-slate-400 text-sm"},"Success Rate",-1)),g("p",{class:be(["text-xl font-bold mt-1",j.value])},F(x.value.successRate??100)+"%",3)]),g("div",ql,[_[7]||(_[7]=g("p",{class:"text-slate-400 text-sm"},"Last 24h",-1)),g("p",Vl,F(x.value.transactionsLast24h??0),1)]),g("div",Wl,[g("div",Kl,[g("div",null,[_[8]||(_[8]=g("p",{class:"text-slate-400 text-sm"},"Gas Cost",-1)),g("p",Zl,F(we(x.value.totalGasCostEth)),1)]),$.value&&we(x.value.totalGasCostEth)==="—"?(k(),B("button",{key:0,onClick:O,disabled:v.value,class:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 rounded transition disabled:opacity-50 shrink-0"},F(v.value?"...":"Look up"),9,Jl)):U("",!0)])])]),$.value?(k(),B("div",Yl,[g("div",Xl,[g("div",Ql,[_[9]||(_[9]=g("h2",{class:"text-lg font-semibold"},"Petter Wallet",-1)),g("button",{onClick:H,disabled:u.value,class:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 rounded transition disabled:opacity-50"},F(u.value?"...":"Refresh"),9,ef)]),g("div",tf,[g("div",null,[_[10]||(_[10]=g("p",{class:"text-slate-400 text-sm"},"Address",-1)),g("p",nf,F(X(i)||"—"),1)]),g("div",null,[_[11]||(_[11]=g("p",{class:"text-slate-400 text-sm"},"Balance (ETH)",-1)),g("p",rf,F(a.value??"—"),1),c.value?(k(),B("p",sf," from "+F(c.value.slice(0,10))+"..."+F(c.value.slice(-8)),1)):U("",!0)]),g("div",null,[_[12]||(_[12]=g("p",{class:"text-slate-400 text-sm"},"Gotchis Delegated",-1)),g("p",of,F(d.value??"—"),1)])])]),g("div",af,[_[16]||(_[16]=g("h2",{class:"text-lg font-semibold mb-4"},"Bot Status",-1)),g("div",cf,[g("div",null,[_[13]||(_[13]=g("p",{class:"text-slate-400 text-sm"},"Last Run",-1)),g("p",uf,F(Q(y.value.lastRun)),1)]),y.value.lastRunMessage&&!y.value.lastError?(k(),B("div",df,[_[14]||(_[14]=g("p",{class:"text-slate-400 text-sm"},"Last Outcome",-1)),g("p",lf,F(y.value.lastRunMessage),1)])):U("",!0),y.value.lastError?(k(),B("div",ff,[_[15]||(_[15]=g("p",{class:"text-slate-400 text-sm"},"Last Error",-1)),g("p",hf,F(y.value.lastError),1)])):U("",!0)])])])):U("",!0),g("div",bf,[g("div",pf,[_[17]||(_[17]=g("h2",{class:"text-lg font-semibold"},"Execution History",-1)),$.value?(k(),B("button",{key:0,onClick:z,disabled:I.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"}," Refresh ",8,mf)):U("",!0)]),$.value?I.value?(k(),B("div",gf,[..._[19]||(_[19]=[g("p",null,"Loading...",-1)])])):s.value.length===0?(k(),B("div",wf,[..._[20]||(_[20]=[g("p",null,"No executions yet",-1)])])):(k(),B("div",vf,[(k(!0),B(ke,null,rn(s.value,N=>(k(),B("div",{key:N.type==="transaction"?N.hash:N.id,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[g("div",xf,[N.type==="transaction"?(k(),B(ke,{key:0},[g("a",{href:`https://basescan.org/tx/${N.hash}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate block"},F(N.hash.slice(0,10))+"..."+F(N.hash.slice(-8)),9,Pf),g("p",$f,[xs(F(Q(N.timestamp))+" • "+F(N.tokenIds.length)+" petted ",1),N.gasCostWei?(k(),B("span",Ef," • "+F(we(Number(BigInt(N.gasCostWei))/1e18)),1)):U("",!0)])],64)):(k(),B(ke,{key:1},[g("p",If,F(N.message),1),g("p",Cf,F(Q(N.timestamp))+F(N.petted!=null?` • ${N.petted} petted`:""),1)],64))]),g("span",{class:be(["text-xs font-medium ml-2",N.type==="manual"?"text-amber-400":"text-emerald-400"])},F(N.type==="manual"?"Manual":"Success"),3)]))),128))])):(k(),B("div",yf,[..._[18]||(_[18]=[g("p",null,"Connect wallet to view execution history",-1)])]))]),$.value?(k(),B("div",Af,[n.value?(k(),jn(je,{key:0,onTriggered:_[0]||(_[0]=()=>{z(),D()})})):U("",!0),Gr(Ne)])):U("",!0),$.value&&n.value?(k(),B("div",_f,[g("div",Tf,[_[22]||(_[22]=g("h2",{class:"text-lg font-semibold mb-4"},"Petting Frequency",-1)),_[23]||(_[23]=g("p",{class:"text-slate-400 text-sm mb-4"}," How often the bot checks and pets your Aavegotchis. Gotchis need petting at least every 12 hours for kinship. ",-1)),g("div",Sf,[g("label",kf,[_[21]||(_[21]=g("span",{class:"text-slate-300 text-sm"},"Interval:",-1)),g("select",{value:h.value,disabled:f.value,onChange:_[1]||(_[1]=N=>V(Number(N.target.value))),class:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50"},[(k(),B(ke,null,rn(C,N=>g("option",{key:N,value:N}," Every "+F(N)+" "+F(N===1?"hour":"hours"),9,Bf)),64))],40,Ff)]),f.value?(k(),B("span",Mf,"Saving...")):U("",!0),b.value?(k(),B("span",Of," Reverting in "+F(b.value)+"s... ",1)):(k(),B("button",{key:1,type:"button",onClick:_[2]||(_[2]=N=>W(60)),disabled:f.value,class:"px-4 py-2 text-sm bg-amber-600/80 hover:bg-amber-600 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"}," Test (1 min) ",8,Rf))])])])):U("",!0),$.value?(k(),B("div",zf,[Gr(Le)])):U("",!0),$.value&&n.value?(k(),B("div",jf,[g("div",Nf,[g("div",Lf,[_[24]||(_[24]=g("h2",{class:"text-lg font-semibold"},"Worker Logs",-1)),g("button",{onClick:D,disabled:w.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},F(w.value?"Loading...":"Refresh"),9,Gf)]),w.value&&l.value.length===0?(k(),B("div",Df,[..._[25]||(_[25]=[g("p",null,"Loading worker logs...",-1)])])):l.value.length===0?(k(),B("div",Uf,[..._[26]||(_[26]=[g("p",null,"No worker logs yet. Trigger a run to see logs.",-1)])])):(k(),B("div",Hf,[(k(!0),B(ke,null,rn(l.value,(N,Ze)=>(k(),B("div",{key:`${N.timestamp}-${Ze}`,class:be(["flex items-start gap-2 py-1.5 px-2 rounded hover:bg-white/5",{"text-slate-300":N.level==="info","text-amber-400":N.level==="warn","text-red-400":N.level==="error"}])},[g("span",qf,F(ge(N.timestamp)),1),g("span",{class:be(["shrink-0 w-10",{"text-amber-400":N.level==="warn","text-red-400":N.level==="error"}])}," ["+F(N.level.toUpperCase())+"] ",3),g("span",Vf,F(N.message),1)],2))),128))]))])])):U("",!0)])])}}}),Kf=dt({__name:"index",setup(e){return(t,n)=>{const r=Wf;return k(),jn(r)}}}),oh=Object.freeze(Object.defineProperty({__proto__:null,default:Kf},Symbol.toStringTag,{value:"Module"}));export{Qf as A,E as B,cn as C,sh as D,rh as E,Au as F,oh as G,wt as H,gi as I,Xf as a,Yf as b,Ce as c,Gs as d,Ls as e,nt as f,vr as g,an as h,hi as i,Jf as j,gc as k,Pr as l,se as m,vc as n,Du as o,nu as p,de as q,Me as r,Pt as s,wr as t,Ss as u,nh as v,hr as w,xt as x,un as y,rt as z};
