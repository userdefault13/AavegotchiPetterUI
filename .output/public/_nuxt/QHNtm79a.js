const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cs5VIxZr.js","./Cq24avcm.js","./CaTB3BL6.js"])))=>i.map(i=>d[i]);
import{F as $s,d as dt,o as Vt,y as F,z as B,A as w,B as S,G as V,q as fr,g as L,n as la,H as we,I as te,E as Cs,J as Re,K as da,L as fa,M as on,N as ha,O as Es,C as An,k as Ye}from"./Cq24avcm.js";const Vr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],uh=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];function rt(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ia(e.type);return`${e.name}(${hr(e.inputs,{includeName:t})})`}function hr(e,{includeName:t=!1}={}){return e?e.map(n=>ba(n,{includeName:t})).join(t?", ":","):""}function ba(e,{includeName:t}){return e.type.startsWith("tuple")?`(${hr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function je(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function K(e){return je(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Is="2.46.1";let gt={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Is}`},$=class Un extends Error{constructor(t,n={}){var i;const r=(()=>{var c;return n.cause instanceof Un?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Un&&n.cause.docsPath||n.docsPath,o=(i=gt.getDocsUrl)==null?void 0:i.call(gt,{...n,docsPath:s}),a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...gt.version?[`Version: ${gt.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Is}walk(t){return _s(this,t)}};function _s(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?_s(e.cause,t):t?null:e}class pa extends ${constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Wr extends ${constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ma extends ${constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${hr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class br extends ${constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class ga extends ${constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ya extends ${constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${K(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class wa extends ${constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class lh extends ${constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class dh extends ${constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class As extends ${constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class un extends ${constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class va extends ${constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class fh extends ${constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class xa extends ${constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${rt(t.abiItem)}\`, and`,`\`${n.type}\` in \`${rt(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Pa extends ${constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class $a extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Ca extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Ea extends ${constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class Ia extends ${constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class re extends ${constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Ts extends ${constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let ks=class extends ${constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Kr extends ${constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function ft(e,{dir:t,size:n=32}={}){return typeof e=="string"?Oe(e,{dir:t,size:n}):_a(e,{dir:t,size:n})}function Oe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ks({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function _a(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ks({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let pr=class extends ${constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Aa extends ${constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Ta extends ${constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Ne(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Pe(e,{size:t}){if(K(e)>t)throw new Ta({givenSize:K(e),maxSize:t})}function ae(e,t={}){const{signed:n}=t;t.size&&Pe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ve(e,t={}){const n=ae(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new pr({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}const ka=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ae(e,t={}){return typeof e=="number"||typeof e=="bigint"?k(e,t):typeof e=="string"?mn(e,t):typeof e=="boolean"?Ss(e,t):se(e,t)}function Ss(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Pe(n,{size:t.size}),ft(n,{size:t.size})):n}function se(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ka[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Pe(r,{size:t.size}),ft(r,{dir:"right",size:t.size})):r}function k(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<a){const c=typeof e=="bigint"?"n":"";throw new pr({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:n,size:r,value:`${e}${c}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ft(i,{size:r}):i}const Sa=new TextEncoder;function mn(e,t={}){const n=Sa.encode(e);return se(n,t)}const Fa=new TextEncoder;function mr(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ma(e,t):typeof e=="boolean"?Ba(e,t):je(e)?ke(e,t):Fs(e,t)}function Ba(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Pe(n,{size:t.size}),ft(n,{size:t.size})):n}const Ee={zero:48,nine:57,A:65,F:70,a:97,f:102};function Zr(e){if(e>=Ee.zero&&e<=Ee.nine)return e-Ee.zero;if(e>=Ee.A&&e<=Ee.F)return e-(Ee.A-10);if(e>=Ee.a&&e<=Ee.f)return e-(Ee.a-10)}function ke(e,t={}){let n=e;t.size&&(Pe(n,{size:t.size}),n=ft(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let a=0,i=0;a<s;a++){const c=Zr(r.charCodeAt(i++)),u=Zr(r.charCodeAt(i++));if(c===void 0||u===void 0)throw new $(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);o[a]=c*16+u}return o}function Ma(e,t){const n=k(e,t);return ke(n)}function Fs(e,t={}){const n=Fa.encode(e);return typeof t.size=="number"?(Pe(n,{size:t.size}),ft(n,{dir:"right",size:t.size})):n}const Qt=BigInt(2**32-1),Jr=BigInt(32);function Ra(e,t=!1){return t?{h:Number(e&Qt),l:Number(e>>Jr&Qt)}:{h:Number(e>>Jr&Qt)|0,l:Number(e&Qt)|0}}function Oa(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:a,l:i}=Ra(e[o],t);[r[o],s[o]]=[a,i]}return[r,s]}const za=(e,t,n)=>e<<n|t>>>32-n,ja=(e,t,n)=>t<<n|e>>>32-n,Na=(e,t,n)=>t<<n-32|e>>>64-n,La=(e,t,n)=>e<<n-32|t>>>64-n,Xe=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ga(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ln(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function st(e,...t){if(!Ga(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ph(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ln(e.outputLen),ln(e.blockLen)}function dn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Bs(e,t){st(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Da(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function $t(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Tn(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ye(e,t){return e<<32-t|e>>>t}const Ua=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ha(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function qa(e){for(let t=0;t<e.length;t++)e[t]=Ha(e[t]);return e}const Yr=Ua?e=>e:qa;function Va(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function gr(e){return typeof e=="string"&&(e=Va(e)),st(e),e}function mh(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];st(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class Ms{}function Rs(e){const t=r=>e().update(gr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function gh(e=32){if(Xe&&typeof Xe.getRandomValues=="function")return Xe.getRandomValues(new Uint8Array(e));if(Xe&&typeof Xe.randomBytes=="function")return Uint8Array.from(Xe.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Wa=BigInt(0),yt=BigInt(1),Ka=BigInt(2),Za=BigInt(7),Ja=BigInt(256),Ya=BigInt(113),Os=[],zs=[],js=[];for(let e=0,t=yt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Os.push(2*(5*r+n)),zs.push((e+1)*(e+2)/2%64);let s=Wa;for(let o=0;o<7;o++)t=(t<<yt^(t>>Za)*Ya)%Ja,t&Ka&&(s^=yt<<(yt<<BigInt(o))-yt);js.push(s)}const Ns=Oa(js,!0),Xa=Ns[0],Qa=Ns[1],Xr=(e,t,n)=>n>32?Na(e,t,n):za(e,t,n),Qr=(e,t,n)=>n>32?La(e,t,n):ja(e,t,n);function ei(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const i=(a+8)%10,c=(a+2)%10,u=n[c],l=n[c+1],d=Xr(u,l,1)^n[i],h=Qr(u,l,1)^n[i+1];for(let f=0;f<50;f+=10)e[a+f]^=d,e[a+f+1]^=h}let s=e[2],o=e[3];for(let a=0;a<24;a++){const i=zs[a],c=Xr(s,o,i),u=Qr(s,o,i),l=Os[a];s=e[l],o=e[l+1],e[l]=c,e[l+1]=u}for(let a=0;a<50;a+=10){for(let i=0;i<10;i++)n[i]=e[a+i];for(let i=0;i<10;i++)e[a+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=Xa[r],e[1]^=Qa[r]}$t(n)}class yr extends Ms{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,ln(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Da(this.state)}clone(){return this._cloneInto()}keccak(){Yr(this.state32),ei(this.state32,this.rounds),Yr(this.state32),this.posOut=0,this.pos=0}update(t){dn(this),t=gr(t),st(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);for(let i=0;i<a;i++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){dn(this,!1),st(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ln(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Bs(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,$t(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:a}=this;return t||(t=new yr(n,r,s,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}}const ti=(e,t,n)=>Rs(()=>new yr(t,e,n)),ni=ti(1,136,256/8);function gn(e,t){const n=t||"hex",r=ni(je(e,{strict:!1})?mr(e):e);return n==="bytes"?r:Ae(r)}class ht extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const ri=/^0x[a-fA-F0-9]{40}$/,kn=new ht(8192);function Q(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(kn.has(r))return kn.get(r);const s=ri.test(e)?e.toLowerCase()===e?!0:n?Wt(e)===e:!0:!1;return kn.set(r,s),s}const Sn=new ht(8192);function Wt(e,t){if(Sn.has(`${e}.${t}`))return Sn.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=gn(Fs(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const o=`0x${s.join("")}`;return Sn.set(`${e}.${t}`,o),o}function et(e,t){if(!Q(e,{strict:!1}))throw new re({address:e});return Wt(e,t)}class es extends ${constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class si extends ${constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class oi extends ${constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const ai={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new oi({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new si({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new es({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new es({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function wr(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(ai);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Ct(e,t,n,{strict:r}={}){return je(e,{strict:!1})?Hn(e,t,n,{strict:r}):Ds(e,t,n,{strict:r})}function Ls(e,t){if(typeof t=="number"&&t>0&&t>K(e)-1)throw new Ts({offset:t,position:"start",size:K(e)})}function Gs(e,t,n){if(typeof t=="number"&&typeof n=="number"&&K(e)!==n-t)throw new Ts({offset:n,position:"end",size:K(e)})}function Ds(e,t,n,{strict:r}={}){Ls(e,t);const s=e.slice(t,n);return r&&Gs(s,t,n),s}function Hn(e,t,n,{strict:r}={}){Ls(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Gs(s,t,n),s}function ii(e,t={}){typeof t.size<"u"&&Pe(e,{size:t.size});const n=se(e,t);return ae(n,t)}function ci(e,t={}){let n=e;if(typeof t.size<"u"&&(Pe(n,{size:t.size}),n=Ne(n)),n.length>1||n[0]>1)throw new Aa(n);return!!n[0]}function Te(e,t={}){typeof t.size<"u"&&Pe(e,{size:t.size});const n=se(e,t);return ve(n,t)}function ui(e,t={}){let n=e;return typeof t.size<"u"&&(Pe(n,{size:t.size}),n=Ne(n,{dir:"right"})),new TextDecoder().decode(n)}function he(e){return typeof e[0]=="string"?Se(e):li(e)}function li(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Se(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const di=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Us=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Hs(e,t){if(e.length!==t.length)throw new wa({expectedLength:e.length,givenLength:t.length});const n=fi({params:e,values:t}),r=xr(n);return r.length===0?"0x":r}function fi({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(vr({param:e[r],value:t[r]}));return n}function vr({param:e,value:t}){const n=Pr(e.type);if(n){const[r,s]=n;return bi(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return wi(t,{param:e});if(e.type==="address")return hi(t);if(e.type==="bool")return mi(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Us.exec(e.type)??[];return gi(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return pi(t,{param:e});if(e.type==="string")return yi(t);throw new $a(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function xr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=K(i)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(k(t+s,{size:32})),r.push(i),s+=K(i)):n.push(i)}return he([...n,...r])}function hi(e){if(!Q(e))throw new re({address:e});return{dynamic:!1,encoded:Oe(e.toLowerCase())}}function bi(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Ea(e);if(!r&&e.length!==t)throw new ga({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let a=0;a<e.length;a++){const i=vr({param:n,value:e[a]});i.dynamic&&(s=!0),o.push(i)}if(r||s){const a=xr(o);if(r){const i=k(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?he([i,a]):i}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:he(o.map(({encoded:a})=>a))}}function pi(e,{param:t}){const[,n]=t.type.split("bytes"),r=K(e);if(!n){let s=e;return r%32!==0&&(s=Oe(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:he([Oe(k(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new ya({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Oe(e,{dir:"right"})}}function mi(e){if(typeof e!="boolean")throw new $(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Oe(Ss(e))}}function gi(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new pr({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:k(e,{size:32,signed:t})}}function yi(e){const t=mn(e),n=Math.ceil(K(t)/32),r=[];for(let s=0;s<n;s++)r.push(Oe(Ct(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:he([Oe(k(K(t),{size:32})),...r])}}function wi(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],a=Array.isArray(e)?s:o.name,i=vr({param:o,value:e[a]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?xr(r):he(r.map(({encoded:s})=>s))}}function Pr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function qs(e,t){const n=typeof t=="string"?ke(t):t,r=wr(n);if(K(n)===0&&e.length>0)throw new br;if(K(t)&&K(t)<32)throw new ma({data:typeof t=="string"?t:se(t),params:e,size:K(t)});let s=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];r.setPosition(s);const[c,u]=nt(r,i,{staticPosition:0});s+=u,o.push(c)}return o}function nt(e,t,{staticPosition:n}){const r=Pr(t.type);if(r){const[s,o]=r;return xi(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Ei(e,t,{staticPosition:n});if(t.type==="address")return vi(e);if(t.type==="bool")return Pi(e);if(t.type.startsWith("bytes"))return $i(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Ci(e,t);if(t.type==="string")return Ii(e,{staticPosition:n});throw new Ca(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ts=32,qn=32;function vi(e){const t=e.readBytes(32);return[Wt(se(Ds(t,-20))),32]}function xi(e,t,{length:n,staticPosition:r}){if(!n){const a=Te(e.readBytes(qn)),i=r+a,c=i+ts;e.setPosition(i);const u=Te(e.readBytes(ts)),l=Et(t);let d=0;const h=[];for(let f=0;f<u;++f){e.setPosition(c+(l?f*32:d));const[b,p]=nt(e,t,{staticPosition:c});d+=p,h.push(b)}return e.setPosition(r+32),[h,32]}if(Et(t)){const a=Te(e.readBytes(qn)),i=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[l]=nt(e,t,{staticPosition:i});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let a=0;a<n;++a){const[i,c]=nt(e,t,{staticPosition:r+s});s+=c,o.push(i)}return[o,s]}function Pi(e){return[ci(e.readBytes(32),{size:32}),32]}function $i(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=Te(e.readBytes(32));e.setPosition(n+a);const i=Te(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[se(c),32]}return[se(e.readBytes(Number.parseInt(s,10),32)),32]}function Ci(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ii(s,{signed:n}):Te(s,{signed:n}),32]}function Ei(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),s=r?[]:{};let o=0;if(Et(t)){const a=Te(e.readBytes(qn)),i=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+o);const[l,d]=nt(e,u,{staticPosition:i});o+=d,s[r?c:u==null?void 0:u.name]=l}return e.setPosition(n+32),[s,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,u]=nt(e,i,{staticPosition:n});s[r?a:i==null?void 0:i.name]=c,o+=u}return[s,o]}function Ii(e,{staticPosition:t}){const n=Te(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Te(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),a=ui(Ne(o));return e.setPosition(t+32),[a,32]}function Et(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Et);const n=Pr(e.type);return!!(n&&Et({...e,type:n[1]}))}const _i=e=>gn(mr(e));function Ai(e){return _i(e)}const Ti="1.2.3";let be=class Vn extends Error{constructor(t,n={}){var a;const r=n.cause instanceof Vn?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof Vn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Ti}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Fe(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Vs=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ws=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ks=/^\(.+?\).*?$/,ns=/^tuple(?<array>(\[(\d*)\])*)$/;function Wn(e){let t=e.type;if(ns.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Wn(o),s<n-1&&(t+=", ")}const r=Fe(ns,e.type);return t+=`)${(r==null?void 0:r.array)||""}`,Wn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function wt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Wn(s),r!==n-1&&(t+=", ")}return t}function ki(e){var t;return e.type==="function"?`function ${e.name}(${wt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${wt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${wt(e.inputs)})`:e.type==="error"?`error ${e.name}(${wt(e.inputs)})`:e.type==="constructor"?`constructor(${wt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Zs=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Si(e){return Zs.test(e)}function Fi(e){return Fe(Zs,e)}const Js=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Bi(e){return Js.test(e)}function Mi(e){return Fe(Js,e)}const Ys=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ri(e){return Ys.test(e)}function Oi(e){return Fe(Ys,e)}const Xs=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Qs(e){return Xs.test(e)}function zi(e){return Fe(Xs,e)}const eo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ji(e){return eo.test(e)}function Ni(e){return Fe(eo,e)}const to=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Li(e){return to.test(e)}function Gi(e){return Fe(to,e)}const Di=/^receive\(\) external payable$/;function Ui(e){return Di.test(e)}const Hi=new Set(["indexed"]),Kn=new Set(["calldata","memory","storage"]);class qi extends be{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Vi extends be{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Wi extends be{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Ki extends be{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Zi extends be{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Ji extends be{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Yi extends be{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class bt extends be{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Xi extends be{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Qi extends be{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ec extends be{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class tc extends be{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function nc(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const a of s[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const Fn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function rc(e,t={}){if(Ri(e))return sc(e,t);if(Bi(e))return oc(e,t);if(Si(e))return ac(e,t);if(ji(e))return ic(e,t);if(Li(e))return cc(e);if(Ui(e))return{type:"receive",stateMutability:"payable"};throw new Xi({signature:e})}function sc(e,t={}){const n=Oi(e);if(!n)throw new bt({signature:e,type:"function"});const r=pe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(He(r[i],{modifiers:Kn,structs:t,type:"function"}));const a=[];if(n.returns){const i=pe(n.returns),c=i.length;for(let u=0;u<c;u++)a.push(He(i[u],{modifiers:Kn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function oc(e,t={}){const n=Mi(e);if(!n)throw new bt({signature:e,type:"event"});const r=pe(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(He(r[a],{modifiers:Hi,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function ac(e,t={}){const n=Fi(e);if(!n)throw new bt({signature:e,type:"error"});const r=pe(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(He(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function ic(e,t={}){const n=Ni(e);if(!n)throw new bt({signature:e,type:"constructor"});const r=pe(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(He(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function cc(e){const t=Gi(e);if(!t)throw new bt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const uc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,lc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dc=/^u?int$/;function He(e,t){var d,h;const n=nc(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Fn.has(n))return Fn.get(n);const r=Ks.test(e),s=Fe(r?lc:uc,e);if(!s)throw new Wi({param:e});if(s.name&&hc(s.name))throw new Ki({param:e,name:s.name});const o=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},i=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const f=pe(s.type),b=[],p=f.length;for(let m=0;m<p;m++)b.push(He(f[m],{structs:i}));u={components:b}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(dc.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!no(c))throw new Vi({type:c});if(s.modifier){if(!((h=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new Zi({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Kn.has(s.modifier)&&!bc(c,!!s.array))throw new Ji({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...o,...a,...u};return Fn.set(n,l),l}function pe(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const a=e[o],i=e.slice(o+1);switch(a){case",":return r===0?pe(i,[...t,n.trim()]):pe(i,t,`${n}${a}`,r);case"(":return pe(i,t,`${n}${a}`,r+1);case")":return pe(i,t,`${n}${a}`,r-1);default:return pe(i,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new tc({current:n,depth:r});return t.push(n.trim()),t}function no(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Vs.test(e)||Ws.test(e)}const fc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function hc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Vs.test(e)||Ws.test(e)||fc.test(e)}function bc(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function pc(e){const t={},n=e.length;for(let a=0;a<n;a++){const i=e[a];if(!Qs(i))continue;const c=zi(i);if(!c)throw new bt({signature:i,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let h=0;h<d;h++){const b=u[h].trim();if(!b)continue;const p=He(b,{type:"struct"});l.push(p)}if(!l.length)throw new Qi({signature:i});t[c.name]=l}const r={},s=Object.entries(t),o=s.length;for(let a=0;a<o;a++){const[i,c]=s[a];r[i]=ro(c,t)}return r}const mc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ro(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const a=e[o];if(Ks.test(a.type))r.push(a);else{const c=Fe(mc,a.type);if(!(c!=null&&c.type))throw new Yi({abiParameter:a});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new ec({type:l});r.push({...a,type:`tuple${u??""}`,components:ro(t[l],t,new Set([...n,l]))})}else if(no(l))r.push(a);else throw new qi({type:l})}}return r}function so(e){const t=pc(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Qs(o)||n.push(rc(o,t))}return n}function gc(e){let t=!0,n="",r=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!o)throw new $("Unable to normalize signature.");return s}const yc=e=>{const t=typeof e=="string"?e:ki(e);return gc(t)};function oo(e){return Ai(yc(e))}const wc=oo,$r=e=>Ct(oo(e),0,4);function Cr(e){const{abi:t,args:n=[],name:r}=e,s=je(r,{strict:!1}),o=t.filter(i=>s?i.type==="function"?$r(i)===r:i.type==="event"?wc(i)===r:!1:"name"in i&&i.name===r);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in i&&i.inputs[l];return d?Zn(u,d):!1})){if(a&&"inputs"in a&&a.inputs){const u=ao(i.inputs,a.inputs,n);if(u)throw new xa({abiItem:i,type:u[0]},{abiItem:a,type:u[1]})}a=i}}return a||o[0]}function Zn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Q(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Zn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Zn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ao(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return ao(s.components,o.components,n[r]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Q(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Q(n[r],{strict:!1}):!1)return a}}const Bn="/docs/contract/decodeFunctionResult";function io(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const i=Cr({abi:t,args:n,name:r});if(!i)throw new un(r,{docsPath:Bn});o=i}if(o.type!=="function")throw new un(void 0,{docsPath:Bn});if(!o.outputs)throw new va(o.name,{docsPath:Bn});const a=qs(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const rs="/docs/contract/encodeFunctionData";function vc(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Cr({abi:t,args:n,name:r});if(!o)throw new un(r,{docsPath:rs});s=o}if(s.type!=="function")throw new un(void 0,{docsPath:rs});return{abi:[s],functionName:$r(rt(s))}}function yn(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:vc(e)})(),s=n[0],o=r,a="inputs"in s&&s.inputs?Hs(s.inputs,t??[]):void 0;return Se([o,a??"0x"])}class Jn extends ${constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class xc extends ${constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class Pc extends ${constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class co extends ${constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class wn extends ${constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function $c({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Jn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Jn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Y(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Cc={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ec={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function _c(e){const{abi:t,data:n}=e,r=Ct(n,0,4);if(r==="0x")throw new br;const o=[...t||[],Ec,Ic].find(a=>a.type==="error"&&r===$r(rt(a)));if(!o)throw new As(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?qs(o.inputs,Ct(n,4)):void 0,errorName:o.name}}const ie=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function uo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ie(t[o]):t[o]}`).join(", ")})`}const Ac={gwei:9,wei:18},Tc={ether:-9,wei:9};function lo(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Er(e,t="wei"){return lo(e,Ac[t])}function ce(e,t="wei"){return lo(e,Tc[t])}class kc extends ${constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Sc extends ${constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ss(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Fc(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ss(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ss(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Kt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Bc extends ${constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Mc extends ${constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Kt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Rc extends ${constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Oc extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h}){var b;const f=Kt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Er(h)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${ce(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ce(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class fo extends ${constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let a="Transaction";r&&o!==void 0&&(a=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(a=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(a=`Transaction at block number "${n}" at index "${o}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class ho extends ${constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class bo extends ${constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class zc extends ${constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const jc=e=>e,Ir=e=>e;class Nc extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h,stateOverride:f}){var m;const b=n?Y(n):void 0;let p=Kt({from:b==null?void 0:b.address,to:d,value:typeof h<"u"&&`${Er(h)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${ce(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ce(u)} gwei`,nonce:l});f&&(p+=`
${Fc(f)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Lc extends ${constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:a,sender:i}){const c=Cr({abi:n,args:r,name:a}),u=c?uo({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?rt(c,{includeName:!0}):void 0,d=Kt({address:s&&jc(s),function:l,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=i}}class Gc extends ${constructor({abi:t,data:n,functionName:r,message:s}){let o,a,i,c;if(n&&n!=="0x")try{a=_c({abi:t,data:n});const{abiItem:l,errorName:d,args:h}=a;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=Cc[f]}else{const f=l?rt(l,{includeName:!0}):void 0,b=l&&h?uo({abiItem:l,args:h,includeFunctionName:!1,includeName:!1}):void 0;i=[f?`Error: ${f}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(l){o=l}else s&&(c=s);let u;o instanceof As&&(u=o.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=c,this.signature=u}}class Dc extends ${constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Uc extends ${constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class po extends ${constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function G(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class xt extends ${constructor({body:t,cause:n,details:r,headers:s,status:o,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Ir(a)}`,t&&`Request body: ${ie(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=a}}class _r extends ${constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ir(r)}`,`Request body: ${ie(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class os extends ${constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ir(n)}`,`Request body: ${ie(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Hc=-1;class ue extends ${constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof _r?t.code:n??Hc}}class le extends ue{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class It extends ue{constructor(t){super(t,{code:It.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class _t extends ue{constructor(t){super(t,{code:_t.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(_t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class At extends ue{constructor(t,{method:n}={}){super(t,{code:At.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Tt extends ue{constructor(t){super(t,{code:Tt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class qe extends ue{constructor(t){super(t,{code:qe.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ot extends ue{constructor(t){super(t,{code:ot.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class kt extends ue{constructor(t){super(t,{code:kt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ze extends ue{constructor(t){super(t,{code:ze.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ze,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class St extends ue{constructor(t){super(t,{code:St.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class De extends ue{constructor(t,{method:n}={}){super(t,{code:De.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(De,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class at extends ue{constructor(t){super(t,{code:at.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(at,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ft extends ue{constructor(t){super(t,{code:Ft.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ne extends le{constructor(t){super(t,{code:ne.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Bt extends le{constructor(t){super(t,{code:Bt.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Mt extends le{constructor(t,{method:n}={}){super(t,{code:Mt.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Rt extends le{constructor(t){super(t,{code:Rt.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ot extends le{constructor(t){super(t,{code:Ot.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ve extends le{constructor(t){super(t,{code:Ve.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ve,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class it extends le{constructor(t){super(t,{code:it.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class zt extends le{constructor(t){super(t,{code:zt.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class jt extends le{constructor(t){super(t,{code:jt.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Nt extends le{constructor(t){super(t,{code:Nt.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Lt extends le{constructor(t){super(t,{code:Lt.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Gt extends le{constructor(t){super(t,{code:Gt.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ct extends le{constructor(t){super(t,{code:ct.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Dt extends le{constructor(t){super(t,{code:Dt.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(Dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class qc extends ue{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Vc=3;function mo(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:a}){const i=e instanceof po?e:e instanceof $?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:l,message:d,shortMessage:h}=i,f=e instanceof br?new Dc({functionName:o}):[Vc,qe.code].includes(c)&&(u||l||d||h)||c===ot.code&&l==="execution reverted"&&u?new Gc({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:i instanceof _r?l:h??d}):e;return new Lc(f,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:a})}const Wc="0.1.1";function Kc(){return Wc}let Ut=class Ie extends Error{static setStaticOptions(t){Ie.prototype.docsOrigin=t.docsOrigin,Ie.prototype.showVersion=t.showVersion,Ie.prototype.version=t.version}constructor(t,n={}){const r=(()=>{var l;if(n.cause instanceof Ie){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),s=n.cause instanceof Ie&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??Ie.prototype.docsOrigin,a=`${o}${s??""}`,i=!!(n.version??Ie.prototype.showVersion),c=n.version??Ie.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||i?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0,i?`Version: ${c}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=a,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=i,this.version=c}walk(t){return go(this,t)}};Object.defineProperty(Ut,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Kc()}`}});Ut.setStaticOptions(Ut.defaultStaticOptions);function go(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?go(e.cause,t):t?null:e}function Zc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Xc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function _e(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<a){const u=typeof e=="bigint"?"n":"";throw new Yc({max:o?`${o}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?Jc(c,r):c}function Jc(e,t){return Zc(e,{dir:"left",size:t})}class Yc extends Ut{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Xc extends Ut{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Qc(e){return{address:e.address,amount:_e(e.amount),index:_e(e.index),validatorIndex:_e(e.validatorIndex)}}function eu(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:_e(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:_e(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:_e(e.gasLimit)},...typeof e.number=="bigint"&&{number:_e(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:_e(e.prevRandao)},...typeof e.time=="bigint"&&{time:_e(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Qc)}}}const tu="0x82ad56cb",nu="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ru="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",su="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",Mn="/docs/contract/encodeDeployData";function Ar(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new pa({docsPath:Mn});if(!("inputs"in s))throw new Wr({docsPath:Mn});if(!s.inputs||s.inputs.length===0)throw new Wr({docsPath:Mn});const o=Hs(s.inputs,n);return Se([r,o])}class tt extends ${constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(tt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class We extends ${constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ce(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(We,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Yn extends ${constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ce(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Xn extends ${constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Xn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Qn extends ${constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Qn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class er extends ${constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(er,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class tr extends ${constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(tr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class nr extends ${constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class rr extends ${constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(rr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class sr extends ${constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(sr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ht extends ${constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ce(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ce(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Ht,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class vn extends ${constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Tr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof $?e.walk(s=>(s==null?void 0:s.code)===tt.code):e;return r instanceof $?new tt({cause:e,message:r.details}):tt.nodeMessage.test(n)?new tt({cause:e,message:e.details}):We.nodeMessage.test(n)?new We({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Yn.nodeMessage.test(n)?new Yn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Xn.nodeMessage.test(n)?new Xn({cause:e,nonce:t==null?void 0:t.nonce}):Qn.nodeMessage.test(n)?new Qn({cause:e,nonce:t==null?void 0:t.nonce}):er.nodeMessage.test(n)?new er({cause:e,nonce:t==null?void 0:t.nonce}):tr.nodeMessage.test(n)?new tr({cause:e}):nr.nodeMessage.test(n)?new nr({cause:e,gas:t==null?void 0:t.gas}):rr.nodeMessage.test(n)?new rr({cause:e,gas:t==null?void 0:t.gas}):sr.nodeMessage.test(n)?new sr({cause:e}):Ht.nodeMessage.test(n)?new Ht({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new vn({cause:e})}function ou(e,{docsPath:t,...n}){const r=(()=>{const s=Tr(e,n);return s instanceof vn?e:s})();return new Nc(r,{docsPath:t,...n})}function Zt(e,{format:t}){if(!t)return{};const n={};function r(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&r(o[i])}const s=t(e||{});return r(s),n}function kr(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const a=t(s,o);if(n)for(const i of n)delete a[i];return{...a,...r(s,o)}},type:e})}const au={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function pt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=iu(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>se(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=k(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=k(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=k(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=k(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=k(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=k(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=au[e.type]),typeof e.value<"u"&&(n.value=k(e.value)),n}function iu(e){return e.map(t=>({address:t.address,r:t.r?k(BigInt(t.r)):t.r,s:t.s?k(BigInt(t.s)):t.s,chainId:k(t.chainId),nonce:k(t.nonce),...typeof t.yParity<"u"?{yParity:k(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:k(t.v)}:{}}))}function Sr(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Rn=new Map;function yo({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const l=c();a();const d=l.map(({args:h})=>h);d.length!==0&&e(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<l.length;f++){const{resolve:b}=l[f];b==null||b([h[f],h])}}).catch(h=>{for(let f=0;f<l.length;f++){const{reject:b}=l[f];b==null||b(h)}})},a=()=>Rn.delete(t),i=()=>c().map(({args:l})=>l),c=()=>Rn.get(t)||[],u=l=>Rn.set(t,[...c(),l]);return{flush:a,async schedule(l){const{promise:d,resolve:h,reject:f}=Sr();return(n==null?void 0:n([...i(),l]))&&o(),c().length>0?(u({args:l,resolve:h,reject:f}),d):(u({args:l,resolve:h,reject:f}),setTimeout(o,r),d)}}}function as(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Kr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Kr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function cu(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=k(t)),n!==void 0&&(a.nonce=k(n)),r!==void 0&&(a.state=as(r)),s!==void 0){if(a.state)throw new Sc;a.stateDiff=as(s)}return a}function wo(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Q(n,{strict:!1}))throw new re({address:n});if(t[n])throw new kc({address:n});t[n]=cu(r)}return t}const xn=2n**256n-1n;function Ke(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?Y(t):void 0;if(o&&!Q(o.address))throw new re({address:o.address});if(s&&!Q(s))throw new re({address:s});if(n&&n>xn)throw new We({maxFeePerGas:n});if(r&&n&&r>n)throw new Ht({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function uu(e,t){var O,D,M,X;const{account:n=e.account,authorizationList:r,batch:s=!!((O=e.batch)!=null&&O.multicall),blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",accessList:i,blobs:c,blockOverrides:u,code:l,data:d,factory:h,factoryData:f,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:C,maxPriorityFeePerGas:v,nonce:x,to:_,value:g,stateOverride:P,...y}=t,E=n?Y(n):void 0;if(l&&(h||f))throw new $("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&_)throw new $("Cannot provide both `code` & `to` as parameters.");const T=l&&d,z=h&&f&&_&&d,R=T||z,j=T?vo({code:l,data:d}):z?fu({data:d,factory:h,factoryData:f,to:_}):d;try{Ke(t);const J=(typeof o=="bigint"?k(o):void 0)||a,ee=u?eu(u):void 0,W=wo(P),de=(X=(M=(D=e.chain)==null?void 0:D.formatters)==null?void 0:M.transactionRequest)==null?void 0:X.format,$e=(de||pt)({...Zt(y,{format:de}),accessList:i,account:E,authorizationList:r,blobs:c,data:j,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:C,maxPriorityFeePerGas:v,nonce:x,to:R?void 0:_,value:g},"call");if(s&&lu({request:$e})&&!W&&!ee)try{return await du(e,{...$e,blockNumber:o,blockTag:a})}catch(me){if(!(me instanceof co)&&!(me instanceof Jn))throw me}const Ce=(()=>{const me=[$e,J];return W&&ee?[...me,W,ee]:W?[...me,W]:ee?[...me,{},ee]:me})(),mt=await e.request({method:"eth_call",params:Ce});return mt==="0x"?{data:void 0}:{data:mt}}catch(Z){const J=hu(Z),{offchainLookup:ee,offchainLookupSignature:W}=await $s(async()=>{const{offchainLookup:de,offchainLookupSignature:oe}=await import("./Cs5VIxZr.js");return{offchainLookup:de,offchainLookupSignature:oe}},__vite__mapDeps([0,1]),import.meta.url);if(e.ccipRead!==!1&&(J==null?void 0:J.slice(0,10))===W&&_)return{data:await ee(e,{data:J,to:_})};throw R&&(J==null?void 0:J.slice(0,10))==="0x101bb98d"?new Uc({factory:h}):ou(Z,{...t,account:E,chain:e.chain})}}function lu({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(tu)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function du(e,t){var p;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",data:i,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return $c({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new co})(),d=(typeof o=="bigint"?k(o):void 0)||a,{schedule:h}=yo({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(m){return m.reduce((v,{data:x})=>v+(x.length-2),0)>n*2},fn:async m=>{const C=m.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),v=yn({abi:Vr,args:[C],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{...u===null?{data:vo({code:su,data:v})}:{to:u,data:v}},d]});return io({abi:Vr,args:[C],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:f,success:b}]=await h({data:i,to:c});if(!b)throw new po({data:f});return f==="0x"?{data:void 0}:{data:f}}function vo(e){const{code:t,data:n}=e;return Ar({abi:so(["constructor(bytes, bytes)"]),bytecode:nu,args:[t,n]})}function fu(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Ar({abi:so(["constructor(address, bytes, address, bytes)"]),bytecode:ru,args:[s,t,n,r]})}function hu(e){var n;if(!(e instanceof $))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function bu(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=yn({abi:n,args:s,functionName:o});try{const{data:c}=await G(e,uu,"call")({...a,data:i,to:r});return io({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw mo(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}function pu(e){const t=gn(`0x${e.substring(4)}`).substring(26);return Wt(`0x${t}`)}async function mu({hash:e,signature:t}){const n=je(e)?e:Ae(e),{secp256k1:r}=await $s(async()=>{const{secp256k1:a}=await import("./CaTB3BL6.js");return{secp256k1:a}},__vite__mapDeps([2,1]),import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:d,yParity:h}=t,f=Number(h??d),b=is(f);return new r.Signature(ae(u),ae(l)).addRecoveryBit(b)}const a=je(t)?t:Ae(t);if(K(a)!==65)throw new Error("invalid signature length");const i=ve(`0x${a.slice(130)}`),c=is(i);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function is(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function gu({hash:e,signature:t}){return pu(await mu({hash:e,signature:t}))}function Le(e,t="hex"){const n=xo(e),r=wr(new Uint8Array(n.length));return n.encode(r),t==="hex"?se(r.bytes):r.bytes}function xo(e){return Array.isArray(e)?yu(e.map(t=>xo(t))):wu(e)}function yu(e){const t=e.reduce((s,o)=>s+o.length,0),n=Po(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function wu(e){const t=typeof e=="string"?ke(e):e,n=Po(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Po(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new $("Length is too large.")}function vu(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=gn(Se(["0x05",Le([t?k(t):"0x",s,n?k(n):"0x"])]));return r==="bytes"?ke(o):o}async function Fr(e){const{authorization:t,signature:n}=e;return gu({hash:vu(t),signature:n??t})}class xu extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h}){var b;const f=Kt({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Er(h)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${ce(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ce(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Pu(e,{docsPath:t,...n}){const r=(()=>{const s=Tr(e,n);return s instanceof vn?e:s})();return new xu(r,{docsPath:t,...n})}class $o extends ${constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Br extends ${constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class $u extends ${constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ce(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Co extends ${constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Eo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Jt(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ve(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ve(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Eo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Eu(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Cu=kr("transaction",Jt);function Eu(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Io(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Jt(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Iu=kr("block",Io);async function ut(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,l,d;const o=s??!1,a=n!==void 0?k(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[a||r,o]},{dedupe:!!a}),!i)throw new Co({blockHash:t,blockNumber:n});return(((d=(l=(u=e.chain)==null?void 0:u.formatters)==null?void 0:l.block)==null?void 0:d.format)||Io)(i,"getBlock")}async function _o(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function _u(e,t){var o,a;const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee);if(typeof i=="function"){const u=n||await G(e,ut,"getBlock")({}),l=await i({block:u,client:e,request:s});if(l===null)throw new Error;return l}if(typeof i<"u")return i;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ae(c)}catch{const[i,c]=await Promise.all([n?Promise.resolve(n):G(e,ut,"getBlock")({}),G(e,_o,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Br;const u=c-i.baseFeePerGas;return u<0n?0n:u}}async function cs(e,t){var h,f;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},a=await(async()=>{var b,p;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(a<1)throw new $o;const c=10**(((h=a.toString().split(".")[1])==null?void 0:h.length)??0),u=b=>b*BigInt(Math.ceil(a*c))/BigInt(c),l=n||await G(e,ut,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(b!==null)return b}if(o==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Br;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await _u(e,{block:l,chain:r,request:s}),p=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await G(e,_o,"getGasPrice")({}))}}async function Ao(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?k(r):n]},{dedupe:!!r});return ve(s)}function Mr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ke(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>se(o))}function Rr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>ke(a)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(a=>ke(a)):e.commitments,o=[];for(let a=0;a<r.length;a++){const i=r[a],c=s[a];o.push(Uint8Array.from(t.computeBlobKzgProof(i,c)))}return n==="bytes"?o:o.map(a=>se(a))}function Au(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),a=Number(n>>s&o),i=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,i,r)}function Tu(e,t,n){return e&t^~e&n}function ku(e,t,n){return e&t^e&n^t&n}class Su extends Ms{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Tn(this.buffer)}update(t){dn(this),t=gr(t),st(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let a=0;a<o;){const i=Math.min(s-this.pos,o-a);if(i===s){const c=Tn(t);for(;s<=o-a;a+=s)this.process(c,a);continue}r.set(t.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){dn(this),Bs(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;n[a++]=128,$t(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let d=a;d<s;d++)n[d]=0;Au(r,s-8,BigInt(this.length*8),o),this.process(r,0);const i=Tn(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)i.setUint32(4*d,l[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:a,pos:i}=this;return t.destroyed=a,t.finished=o,t.length=s,t.pos=i,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Be=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fu=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Me=new Uint32Array(64);class Bu extends Su{constructor(t=32){super(64,t,8,!1),this.A=Be[0]|0,this.B=Be[1]|0,this.C=Be[2]|0,this.D=Be[3]|0,this.E=Be[4]|0,this.F=Be[5]|0,this.G=Be[6]|0,this.H=Be[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:a,G:i,H:c}=this;return[t,n,r,s,o,a,i,c]}set(t,n,r,s,o,a,i,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=i|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Me[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Me[d-15],f=Me[d-2],b=ye(h,7)^ye(h,18)^h>>>3,p=ye(f,17)^ye(f,19)^f>>>10;Me[d]=p+Me[d-7]+b+Me[d-16]|0}let{A:r,B:s,C:o,D:a,E:i,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=ye(i,6)^ye(i,11)^ye(i,25),f=l+h+Tu(i,c,u)+Fu[d]+Me[d]|0,p=(ye(r,2)^ye(r,13)^ye(r,22))+ku(r,s,o)|0;l=u,u=c,c=i,i=a+f|0,a=o,o=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,i=i+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,o,a,i,c,u,l)}roundClean(){$t(Me)}destroy(){this.set(0,0,0,0,0,0,0,0),$t(this.buffer)}}const Mu=Rs(()=>new Bu),Ru=Mu;function Ou(e,t){return Ru(je(e,{strict:!1})?mr(e):e)}function zu(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Ou(t);return s.set([n],0),r==="bytes"?s:se(s)}function To(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(zu({commitment:o,to:r,version:n}));return s}const us=6,ko=32,Or=4096,So=ko*Or,ls=So*us-1-1*Or*us,Fo=1;class ju extends ${constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Bo extends ${constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Nu extends ${constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Lu extends ${constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Fo}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Gu(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ke(e.data):e.data,r=K(n);if(!r)throw new Bo;if(r>ls)throw new ju({maxSize:ls,size:r});const s=[];let o=!0,a=0;for(;o;){const i=wr(new Uint8Array(So));let c=0;for(;c<Or;){const u=n.slice(a,a+(ko-1));if(i.pushByte(0),i.pushBytes(u),u.length<31){i.pushByte(128),o=!1;break}c++,a+=31}s.push(i)}return t==="bytes"?s.map(i=>i.bytes):s.map(i=>se(i.bytes))}function Mo(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Gu({data:t,to:r}),o=e.commitments??Mr({blobs:s,kzg:n,to:r}),a=e.proofs??Rr({blobs:s,commitments:o,kzg:n,to:r}),i=[];for(let c=0;c<s.length;c++)i.push({blob:s[c],commitment:o[c],proof:a[c]});return i}function Ro(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Mc({transaction:e})}function Pn(e,{docsPath:t,...n}){const r=(()=>{const s=Tr(e,n);return s instanceof vn?e:s})();return new Oc(r,{docsPath:t,...n})}async function Ze(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ve(t)}async function Oo(e,t){var E,T,z,R,j;const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:a,blobs:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:b,nonceManager:p,to:m,type:C,value:v,...x}=t,_=await(async()=>{if(!n||!p||typeof b<"u")return b;const O=Y(n),D=o?o.id:await G(e,Ze,"getChainId")({});return await p.consume({address:O.address,chainId:D,client:e})})();Ke(t);const g=(T=(E=o==null?void 0:o.formatters)==null?void 0:E.transactionRequest)==null?void 0:T.format,y=(g||pt)({...Zt(x,{format:g}),account:n?Y(n):void 0,accessList:r,authorizationList:s,blobs:i,blobVersionedHashes:a,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:_,to:m,type:C,value:v},"fillTransaction");try{const O=await e.request({method:"eth_fillTransaction",params:[y]}),M=(((R=(z=o==null?void 0:o.formatters)==null?void 0:z.transaction)==null?void 0:R.format)||Jt)(O.tx);delete M.blockHash,delete M.blockNumber,delete M.r,delete M.s,delete M.transactionIndex,delete M.v,delete M.yParity,M.data=M.input,M.gas&&(M.gas=t.gas??M.gas),M.gasPrice&&(M.gasPrice=t.gasPrice??M.gasPrice),M.maxFeePerBlobGas&&(M.maxFeePerBlobGas=t.maxFeePerBlobGas??M.maxFeePerBlobGas),M.maxFeePerGas&&(M.maxFeePerGas=t.maxFeePerGas??M.maxFeePerGas),M.maxPriorityFeePerGas&&(M.maxPriorityFeePerGas=t.maxPriorityFeePerGas??M.maxPriorityFeePerGas),M.nonce&&(M.nonce=t.nonce??M.nonce);const X=await(async()=>{var W,de;if(typeof((W=o==null?void 0:o.fees)==null?void 0:W.baseFeeMultiplier)=="function"){const oe=await G(e,ut,"getBlock")({});return o.fees.baseFeeMultiplier({block:oe,client:e,request:t})}return((de=o==null?void 0:o.fees)==null?void 0:de.baseFeeMultiplier)??1.2})();if(X<1)throw new $o;const J=10**(((j=X.toString().split(".")[1])==null?void 0:j.length)??0),ee=W=>W*BigInt(Math.ceil(X*J))/BigInt(J);return M.maxFeePerGas&&!t.maxFeePerGas&&(M.maxFeePerGas=ee(M.maxFeePerGas)),M.gasPrice&&!t.gasPrice&&(M.gasPrice=ee(M.gasPrice)),{raw:O.raw,transaction:{from:y.from,...M}}}catch(O){throw Pn(O,{...t,chain:e.chain})}}const zr=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ds=new Map,On=new ht(128);async function $n(e,t){var _,g,P;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=zr);const{account:r,chain:s=e.chain,nonceManager:o,parameters:a}=n,i=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await G(e,Ze,"getChainId")({}),c))}const l=r&&Y(r);let d=n.nonce;if(a.includes("nonce")&&typeof d>"u"&&l&&o){const y=await u();d=await o.consume({address:l.address,chainId:y,client:e})}i!=null&&i.fn&&((_=i.runAt)!=null&&_.includes("beforeFillTransaction"))&&(n=await i.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const f=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||On.get(e.uid)===!1||!["fees","gas"].some(E=>a.includes(E))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof d!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await G(e,Oo,"fillTransaction")({...n,nonce:d}).then(y=>{const{chainId:E,from:T,gas:z,gasPrice:R,nonce:j,maxFeePerBlobGas:O,maxFeePerGas:D,maxPriorityFeePerGas:M,type:X,...Z}=y.transaction;return On.set(e.uid,!0),{...n,...T?{from:T}:{},...X?{type:X}:{},...typeof E<"u"?{chainId:E}:{},...typeof z<"u"?{gas:z}:{},...typeof R<"u"?{gasPrice:R}:{},...typeof j<"u"?{nonce:j}:{},...typeof O<"u"?{maxFeePerBlobGas:O}:{},...typeof D<"u"?{maxFeePerGas:D}:{},...typeof M<"u"?{maxPriorityFeePerGas:M}:{},..."nonceKey"in Z&&typeof Z.nonceKey<"u"?{nonceKey:Z.nonceKey}:{}}}).catch(y=>{var z;const E=y;return E.name!=="TransactionExecutionError"||((z=E.walk)==null?void 0:z.call(E,R=>{const j=R;return j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError"}))&&On.set(e.uid,!1),n}):n;d??(d=f.nonce),n={...f,...l?{from:l==null?void 0:l.address}:{},...d?{nonce:d}:{}};const{blobs:b,gas:p,kzg:m,type:C}=n;i!=null&&i.fn&&((g=i.runAt)!=null&&g.includes("beforeFillParameters"))&&(n=await i.fn({...n,chain:s},{phase:"beforeFillParameters"}));let v;async function x(){return v||(v=await G(e,ut,"getBlock")({blockTag:"latest"}),v)}if(a.includes("nonce")&&typeof d>"u"&&l&&!o&&(n.nonce=await G(e,Ao,"getTransactionCount")({address:l.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&b&&m){const y=Mr({blobs:b,kzg:m});if(a.includes("blobVersionedHashes")){const E=To({commitments:y,to:"hex"});n.blobVersionedHashes=E}if(a.includes("sidecars")){const E=Rr({blobs:b,commitments:y,kzg:m}),T=Mo({blobs:b,commitments:y,proofs:E,to:"hex"});n.sidecars=T}}if(a.includes("chainId")&&(n.chainId=await u()),(a.includes("fees")||a.includes("type"))&&typeof C>"u")try{n.type=Ro(n)}catch{let y=ds.get(e.uid);if(typeof y>"u"){const E=await x();y=typeof(E==null?void 0:E.baseFeePerGas)=="bigint",ds.set(e.uid,y)}n.type=y?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const y=await x(),{maxFeePerGas:E,maxPriorityFeePerGas:T}=await cs(e,{block:y,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<T)throw new $u({maxPriorityFeePerGas:T});n.maxPriorityFeePerGas=T,n.maxFeePerGas=E}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Br;if(typeof n.gasPrice>"u"){const y=await x(),{gasPrice:E}=await cs(e,{block:y,chain:s,request:n,type:"legacy"});n.gasPrice=E}}return a.includes("gas")&&typeof p>"u"&&(n.gas=await G(e,Du,"estimateGas")({...n,account:l,prepare:(l==null?void 0:l.type)==="local"?[]:["blobVersionedHashes"]})),i!=null&&i.fn&&((P=i.runAt)!=null&&P.includes("afterFillParameters"))&&(n=await i.fn({...n,chain:s},{phase:"afterFillParameters"})),Ke(n),delete n.parameters,n}async function Du(e,t){var a,i,c;const{account:n=e.account,prepare:r=!0}=t,s=n?Y(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await Fr({authorization:t.authorizationList[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:l,authorizationList:d,blobs:h,blobVersionedHashes:f,blockNumber:b,blockTag:p,data:m,gas:C,gasPrice:v,maxFeePerBlobGas:x,maxFeePerGas:_,maxPriorityFeePerGas:g,nonce:P,value:y,stateOverride:E,...T}=r?await $n(e,{...t,parameters:o,to:u}):t;if(C&&t.gas!==C)return C;const R=(typeof b=="bigint"?k(b):void 0)||p,j=wo(E);Ke(t);const O=(c=(i=(a=e.chain)==null?void 0:a.formatters)==null?void 0:i.transactionRequest)==null?void 0:c.format,M=(O||pt)({...Zt(T,{format:O}),account:s,accessList:l,authorizationList:d,blobs:h,blobVersionedHashes:f,data:m,gasPrice:v,maxFeePerBlobGas:x,maxFeePerGas:_,maxPriorityFeePerGas:g,nonce:P,to:u,value:y},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:j?[M,R??e.experimental_blockTag??"latest",j]:R?[M,R]:[M]}))}catch(u){throw Pu(u,{...t,account:s,chain:e.chain})}}const Uu=new Map,Hu=new Map;function qu(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),n=t(e,Uu),r=t(e,Hu);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Vu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=qu(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const a=await o;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const Wu=e=>`blockNumber.${e}`;async function Ku(e,{cacheTime:t=e.cacheTime}={}){const n=await Vu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Wu(e.uid),cacheTime:t});return BigInt(n)}function Zu(e,t){if(!Q(e,{strict:!1}))throw new re({address:e});if(!Q(t,{strict:!1}))throw new re({address:t});return e.toLowerCase()===t.toLowerCase()}function Ju(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}function Yu(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!Q(s))throw new re({address:s});if(r<0)throw new wn({chainId:r})}jr(e)}function Xu(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Bo;for(const n of t){const r=K(n),s=ve(Ct(n,0,1));if(r!==32)throw new Nu({hash:n,size:r});if(s!==Fo)throw new Lu({hash:n,version:s})}}jr(e)}function jr(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new wn({chainId:t});if(s&&!Q(s))throw new re({address:s});if(r&&r>xn)throw new We({maxFeePerGas:r});if(n&&r&&n>r)throw new Ht({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Qu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new wn({chainId:t});if(o&&!Q(o))throw new re({address:o});if(n||s)throw new $("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>xn)throw new We({maxFeePerGas:r})}function e0(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!Q(o))throw new re({address:o});if(typeof t<"u"&&t<=0)throw new wn({chainId:t});if(n||s)throw new $("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>xn)throw new We({maxFeePerGas:r})}function Cn(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new Rc({storageKey:s[o]});if(!Q(r,{strict:!1}))throw new re({address:r});t.push([r,s])}return t}function t0(e,t){const n=Ro(e);return n==="eip1559"?s0(e,t):n==="eip2930"?o0(e,t):n==="eip4844"?r0(e,t):n==="eip7702"?n0(e,t):a0(e,t)}function n0(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:a,value:i,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;Yu(e);const h=Cn(l),f=i0(n);return Se(["0x04",Le([k(r),o?k(o):"0x",u?k(u):"0x",c?k(c):"0x",s?k(s):"0x",a??"0x",i?k(i):"0x",d??"0x",h,f,...Yt(e,t)])])}function r0(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:a,maxFeePerBlobGas:i,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;Xu(e);let h=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof f>"u")){const x=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(P=>se(P)),_=e.kzg,g=Mr({blobs:x,kzg:_});if(typeof h>"u"&&(h=To({commitments:g})),typeof f>"u"){const P=Rr({blobs:x,commitments:g,kzg:_});f=Mo({blobs:x,commitments:g,proofs:P})}}const b=Cn(l),p=[k(n),s?k(s):"0x",u?k(u):"0x",c?k(c):"0x",r?k(r):"0x",o??"0x",a?k(a):"0x",d??"0x",b,i?k(i):"0x",h??[],...Yt(e,t)],m=[],C=[],v=[];if(f)for(let x=0;x<f.length;x++){const{blob:_,commitment:g,proof:P}=f[x];m.push(_),C.push(g),v.push(P)}return Se(["0x03",Le(f?[p,m,C,v]:p)])}function s0(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:a,maxFeePerGas:i,maxPriorityFeePerGas:c,accessList:u,data:l}=e;jr(e);const d=Cn(u),h=[k(n),s?k(s):"0x",c?k(c):"0x",i?k(i):"0x",r?k(r):"0x",o??"0x",a?k(a):"0x",l??"0x",d,...Yt(e,t)];return Se(["0x02",Le(h)])}function o0(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:a,value:i,accessList:c,gasPrice:u}=e;Qu(e);const l=Cn(c),d=[k(n),o?k(o):"0x",u?k(u):"0x",r?k(r):"0x",a??"0x",i?k(i):"0x",s??"0x",l,...Yt(e,t)];return Se(["0x01",Le(d)])}function a0(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:a,value:i,gasPrice:c}=e;e0(e);let u=[o?k(o):"0x",c?k(c):"0x",r?k(r):"0x",a??"0x",i?k(i):"0x",s??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const f=27n+(t.v===27n?0n:1n);if(t.v!==f)throw new Bc({v:t.v});return f})(),d=Ne(t.r),h=Ne(t.s);u=[...u,k(l),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else n>0&&(u=[...u,k(n),"0x","0x"]);return Le(u)}function Yt(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Ne(n.r),a=Ne(n.s);return[typeof s=="number"?s?k(1):"0x":r===0n?"0x":r===1n?k(1):r===27n?"0x":k(1),o==="0x00"?"0x":o,a==="0x00"?"0x":a]}function i0(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,a=n.address;t.push([r?Ae(r):"0x",a,s?Ae(s):"0x",...Yt({},o)])}return t}const en=new ht(8192);function c0(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(en.get(n))return en.get(n);const r=e().finally(()=>en.delete(n));return en.set(n,r),r}async function or(e){return new Promise(t=>setTimeout(t,e))}function qt(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:i=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:i,error:u}):t;l&&await or(l),a({count:i+1})};try{const u=await e();s(u)}catch(u){if(i<n&&await r({count:i,error:u}))return c({error:u});o(u)}};a()})}function u0(e,t={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:o,retryDelay:a=150,retryCount:i=3,uid:c}={...t,...r},{method:u}=n;if((d=o==null?void 0:o.exclude)!=null&&d.includes(u))throw new De(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new De(new Error("method not supported"),{method:u});const l=s?mn(`${c}.${ie(n)}`):void 0;return c0(()=>qt(async()=>{try{return await e(n)}catch(h){const f=h;switch(f.code){case It.code:throw new It(f);case _t.code:throw new _t(f);case At.code:throw new At(f,{method:n.method});case Tt.code:throw new Tt(f);case qe.code:throw new qe(f);case ot.code:throw new ot(f);case kt.code:throw new kt(f);case ze.code:throw new ze(f);case St.code:throw new St(f);case De.code:throw new De(f,{method:n.method});case at.code:throw new at(f);case Ft.code:throw new Ft(f);case ne.code:throw new ne(f);case Bt.code:throw new Bt(f);case Mt.code:throw new Mt(f);case Rt.code:throw new Rt(f);case Ot.code:throw new Ot(f);case Ve.code:throw new Ve(f);case it.code:throw new it(f);case zt.code:throw new zt(f);case jt.code:throw new jt(f);case Nt.code:throw new Nt(f);case Lt.code:throw new Lt(f);case Gt.code:throw new Gt(f);case ct.code:throw new ct(f);case 5e3:throw new ne(f);case Dt.code:throw new Dt(f);default:throw h instanceof $?h:new qc(f)}}},{delay:({count:h,error:f})=>{var b;if(f&&f instanceof xt){const p=(b=f==null?void 0:f.headers)==null?void 0:b.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<h)*a},retryCount:i,shouldRetry:({error:h})=>l0(h)}),{enabled:s,id:l})}}function l0(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===at.code||e.code===qe.code:e instanceof xt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Nr({chain:e,currentChainId:t}){if(!e)throw new Pc;if(t!==e.id)throw new xc({chain:e,currentChainId:t})}function zo(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,a={...r,...o};return Object.assign(a,{extend:n(a)})}}return Object.assign(t,{extend:n(t)})}const jo={"0x0":"reverted","0x1":"success"};function Lr(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ju(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ve(e.transactionIndex):null,status:e.status?jo[e.status]:null,type:e.type?Eo[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const d0=kr("transactionReceipt",Lr);function No(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let a;try{const i=new AbortController;n>0&&(a=setTimeout(()=>{r?i.abort():o(t)},n)),s(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){(i==null?void 0:i.name)==="AbortError"&&o(t),o(i)}finally{clearTimeout(a)}})()})}function f0(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const fs=f0();function h0(e,t={}){const{url:n,headers:r}=b0(e);return{async request(s){var b;const{body:o,fetchFn:a=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,l={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:d,method:h,signal:f}=l;try{const p=await No(async({signal:C})=>{const v={...l,body:Array.isArray(o)?ie(o.map(P=>({jsonrpc:"2.0",id:P.id??fs.take(),...P}))):ie({jsonrpc:"2.0",id:o.id??fs.take(),...o}),headers:{...r,"Content-Type":"application/json",...d},method:h||"POST",signal:f||(u>0?C:null)},x=new Request(n,v),_=await(i==null?void 0:i(x,v))??{...v,url:n};return await a(_.url??n,_)},{errorInstance:new os({body:o,url:n}),timeout:u,signal:!0});c&&await c(p);let m;if((b=p.headers.get("Content-Type"))!=null&&b.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(C){if(p.ok)throw C;m={error:m}}}if(!p.ok)throw new xt({body:o,details:ie(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof xt||p instanceof os?p:new xt({body:o,cause:p,url:n})}}}}function b0(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}class p0 extends ${constructor({domain:t}){super(`Invalid domain "${ie(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class m0 extends ${constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class g0 extends ${constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function y0(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const l={...u};for(const d of c){const{name:h,type:f}=d;f==="address"&&(l[h]=l[h].toLowerCase())}return l},a=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},i=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return ie({domain:a,message:i,primaryType:r,types:s})}function w0(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(a,i)=>{for(const c of a){const{name:u,type:l}=c,d=i[u],h=l.match(Us);if(h&&(typeof d=="number"||typeof d=="bigint")){const[p,m,C]=h;k(d,{signed:m==="int",size:Number.parseInt(C,10)/8})}if(l==="address"&&typeof d=="string"&&!Q(d))throw new re({address:d});const f=l.match(di);if(f){const[p,m]=f;if(m&&K(d)!==Number.parseInt(m,10))throw new Pa({expectedSize:Number.parseInt(m,10),givenSize:K(d)})}const b=s[l];b&&(x0(l),o(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new p0({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new m0({primaryType:r,types:s})}function v0({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function x0(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new g0({type:e})}async function P0(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:a,nonce:i}){var h,f,b;const c=r||"latest",u=n!==void 0?k(n):void 0;let l=null;if(s?l=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,k(o)]},{dedupe:!0}):typeof o=="number"?l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,k(o)]},{dedupe:!!u}):a&&typeof i=="number"&&(l=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[a,k(i)]},{dedupe:!0})),!l)throw new fo({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(((b=(f=(h=e.chain)==null?void 0:h.formatters)==null?void 0:f.transaction)==null?void 0:b.format)||Jt)(l,"getTransaction")}async function zn(e,{hash:t}){var s,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ho({hash:t});return(((a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||Lr)(n,"getTransactionReceipt")}const jn=new Map,hs=new Map;let $0=0;function fn(e,t,n){const r=++$0,s=()=>jn.get(e)||[],o=()=>{const l=s();jn.set(e,l.filter(d=>d.id!==r))},a=()=>{const l=s();if(!l.some(h=>h.id===r))return;const d=hs.get(e);if(l.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}o()},i=s();if(jn.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return a;const c={};for(const l in t)c[l]=((...d)=>{var f,b;const h=s();if(h.length!==0)for(const p of h)(b=(f=p.fns)[l])==null||b.call(f,...d)});const u=n(c);return typeof u=="function"&&hs.set(e,u),a}function Lo(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const c=await(n==null?void 0:n(i))??r;await or(c);const u=async()=>{s&&(await e({unpoll:o}),await or(r),u())};u()})(),o}function C0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return i?(()=>{const d=ie(["watchBlockNumber",e.uid,t,n,a]);return fn(d,{onBlockNumber:r,onError:s},h=>Lo(async()=>{var f;try{const b=await G(e,Ku,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let p=c+1n;p<b;p++)h.onBlockNumber(p,c),c=p}(c===void 0||b>c)&&(h.onBlockNumber(b,c),c=b)}catch(b){(f=h.onError)==null||f.call(h,b)}},{emitOnBegin:t,interval:a}))})():(()=>{const d=ie(["watchBlockNumber",e.uid,t,n]);return fn(d,{onBlockNumber:r,onError:s},h=>{let f=!0,b=()=>f=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const C=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return C?C.value:e.transport}return e.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(C){var x;if(!f)return;const v=ae((x=C.result)==null?void 0:x.number);h.onBlockNumber(v,c),c=v},onError(C){var v;(v=h.onError)==null||v.call(h,C)}});b=m,f||b()}catch(p){s==null||s(p)}})(),()=>b()})})()}async function E0(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:a=6,retryDelay:i=({count:g})=>~~(1<<g)*200,timeout:c=18e4}=t,u=ie(["waitForTransactionReceipt",e.uid,s]),l=(()=>{var g;return t.pollingInterval?t.pollingInterval:(g=e.chain)!=null&&g.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,h,f,b=!1,p,m;const{promise:C,resolve:v,reject:x}=Sr(),_=c?setTimeout(()=>{m==null||m(),p==null||p(),x(new zc({hash:s}))},c):void 0;return p=fn(u,{onReplaced:o,resolve:v,reject:x},async g=>{if(f=await G(e,zn,"getTransactionReceipt")({hash:s}).catch(()=>{}),f&&r<=1){clearTimeout(_),g.resolve(f),p==null||p();return}m=G(e,C0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(P){const y=T=>{clearTimeout(_),m==null||m(),T(),p==null||p()};let E=P;if(!b)try{if(f){if(r>1&&(!f.blockNumber||E-f.blockNumber+1n<r))return;y(()=>g.resolve(f));return}if(n&&!d&&(b=!0,await qt(async()=>{d=await G(e,P0,"getTransaction")({hash:s}),d.blockNumber&&(E=d.blockNumber)},{delay:i,retryCount:a}),b=!1),f=await G(e,zn,"getTransactionReceipt")({hash:s}),r>1&&(!f.blockNumber||E-f.blockNumber+1n<r))return;y(()=>g.resolve(f))}catch(T){if(T instanceof fo||T instanceof ho){if(!d){b=!1;return}try{h=d,b=!0;const z=await qt(()=>G(e,ut,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:i,retryCount:a,shouldRetry:({error:O})=>O instanceof Co});b=!1;const R=z.transactions.find(({from:O,nonce:D})=>O===h.from&&D===h.nonce);if(!R||(f=await G(e,zn,"getTransactionReceipt")({hash:R.hash}),r>1&&(!f.blockNumber||E-f.blockNumber+1n<r)))return;let j="replaced";R.to===h.to&&R.value===h.value&&R.input===h.input?j="repriced":R.from===R.to&&R.value===0n&&(j="cancelled"),y(()=>{var O;(O=g.onReplaced)==null||O.call(g,{reason:j,replacedTransaction:h,transaction:R,transactionReceipt:f}),g.resolve(f)})}catch(z){y(()=>g.reject(z))}}else y(()=>g.reject(T))}}})}),C}async function I0(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:a}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:k(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:a?Object.values(a).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}class Ge extends ${constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Ue extends ${constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function Go(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Nn=new ht(128);async function En(e,t){var _,g,P,y,E;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:a,blobs:i,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(_=e.dataSuffix)==null?void 0:_.value,gas:l,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:p,type:m,value:C,...v}=t;if(typeof n>"u")throw new Ge({docsPath:"/docs/actions/wallet/sendTransaction"});const x=n?Y(n):null;try{Ke(t);const T=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Fr({authorization:a[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`.")})})();if((x==null?void 0:x.type)==="json-rpc"||x===null){let z;s!==null&&(z=await G(e,Ze,"getChainId")({}),r&&Nr({currentChainId:z,chain:s}));const R=(y=(P=(g=e.chain)==null?void 0:g.formatters)==null?void 0:P.transactionRequest)==null?void 0:y.format,O=(R||pt)({...Zt(v,{format:R}),accessList:o,account:x,authorizationList:a,blobs:i,chainId:z,data:c&&he([c,u??"0x"]),gas:l,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:p,to:T,type:m,value:C},"sendTransaction"),D=Nn.get(e.uid),M=D?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:M,params:[O]},{retryCount:0})}catch(X){if(D===!1)throw X;const Z=X;if(Z.name==="InvalidInputRpcError"||Z.name==="InvalidParamsRpcError"||Z.name==="MethodNotFoundRpcError"||Z.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(J=>(Nn.set(e.uid,!0),J)).catch(J=>{const ee=J;throw ee.name==="MethodNotFoundRpcError"||ee.name==="MethodNotSupportedRpcError"?(Nn.set(e.uid,!1),Z):ee});throw Z}}if((x==null?void 0:x.type)==="local"){const z=await G(e,$n,"prepareTransactionRequest")({account:x,accessList:o,authorizationList:a,blobs:i,chain:s,data:c&&he([c,u??"0x"]),gas:l,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:p,nonceManager:x.nonceManager,parameters:[...zr,"sidecars"],type:m,value:C,...v,to:T}),R=(E=s==null?void 0:s.serializers)==null?void 0:E.transaction,j=await x.signTransaction(z,{serializer:R});return await G(e,Go,"sendRawTransaction")({serializedTransaction:j})}throw(x==null?void 0:x.type)==="smart"?new Ue({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ue({docsPath:"/docs/actions/wallet/sendTransaction",type:x==null?void 0:x.type})}catch(T){throw T instanceof Ue?T:Pn(T,{...t,account:x,chain:t.chain||void 0})}}function _0(e,t){const{abi:n,args:r,bytecode:s,...o}=t,a=Ar({abi:n,args:r,bytecode:s});return En(e,{...o,...o.authorizationList?{to:null}:{},data:a})}async function A0(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Wt(r))}const Do="0x5792579257925792579257925792579257925792579257925792579257925792",Uo=k(0,{size:32});async function Ho(e,t){var h;const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:i,version:c="2.0.0"}=t,u=n?Y(n):null;let l=t.capabilities;e.dataSuffix&&!((h=t.capabilities)!=null&&h.dataSuffix)&&(typeof e.dataSuffix=="string"?l={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:l={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const d=t.calls.map(f=>{const b=f,p=b.abi?yn({abi:b.abi,functionName:b.functionName,args:b.args}):b.data;return{data:b.dataSuffix&&p?he([p,b.dataSuffix]):p,to:b.to,value:b.value?k(b.value):void 0}});try{const f=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:l,chainId:k(r.id),from:u==null?void 0:u.address,id:i,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const b=f;if(s&&(b.name==="MethodNotFoundRpcError"||b.name==="MethodNotSupportedRpcError"||b.name==="UnknownRpcError"||b.details.toLowerCase().includes("does not exist / is not available")||b.details.toLowerCase().includes("missing or invalid. request()")||b.details.toLowerCase().includes("did not match any variant of untagged enum")||b.details.toLowerCase().includes("account upgraded to unsupported contract")||b.details.toLowerCase().includes("eip-7702 not supported")||b.details.toLowerCase().includes("unsupported wc_ method")||b.details.toLowerCase().includes("feature toggled misconfigured")||b.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(l&&Object.values(l).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new it(new $(x,{details:x}))}if(a&&d.length>1){const v="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new ct(new $(v,{details:v}))}const p=[];for(const v of d){const x=En(e,{account:u,chain:r,data:v.data,to:v.to,value:v.value?ae(v.value):void 0});p.push(x),o>0&&await new Promise(_=>setTimeout(_,o))}const m=await Promise.allSettled(p);if(m.every(v=>v.status==="rejected"))throw m[0].reason;const C=m.map(v=>v.status==="fulfilled"?v.value:Uo);return{id:he([...C,k(r.id,{size:32}),Do])}}throw Pn(f,{...t,account:u,chain:t.chain})}}async function qo(e,t){async function n(l){if(l.endsWith(Do.slice(2))){const h=Ne(Hn(l,-64,-32)),f=Hn(l,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(f.map(m=>Uo.slice(2)!==m?e.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),p=b.some(m=>m===null)?100:b.every(m=>(m==null?void 0:m.status)==="0x1")?200:b.every(m=>(m==null?void 0:m.status)==="0x0")?500:600;return{atomic:!1,chainId:ve(h),receipts:b.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[l]})}const{atomic:r=!1,chainId:s,receipts:o,version:a="2.0.0",...i}=await n(t.id),[c,u]=(()=>{const l=i.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...i,atomic:r,chainId:s?ve(s):void 0,receipts:(o==null?void 0:o.map(l=>({...l,blockNumber:ae(l.blockNumber),gasUsed:ae(l.gasUsed),status:jo[l.status]})))??[],statusCode:u,status:c,version:a}}async function T0(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?Y(n):void 0,o=r?[s==null?void 0:s.address,[k(r)]]:[s==null?void 0:s.address],a=await e.request({method:"wallet_getCapabilities",params:o}),i={};for(const[c,u]of Object.entries(a)){i[Number(c)]={};for(let[l,d]of Object.entries(u))l==="addSubAccount"&&(l="unstable_addSubAccount"),i[Number(c)][l]=d}return typeof r=="number"?i[r]:i}async function k0(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Vo(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Ge({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Y(n),a=(()=>{if(t.executor)return t.executor==="self"?t.executor:Y(t.executor)})(),i={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof i.chainId>"u"&&(i.chainId=((c=e.chain)==null?void 0:c.id)??await G(e,Ze,"getChainId")({})),typeof i.nonce>"u"&&(i.nonce=await G(e,Ao,"getTransactionCount")({address:o.address,blockTag:"pending"}),(a==="self"||a!=null&&a.address&&Zu(a.address,o.address))&&(i.nonce+=1)),i}async function S0(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>et(n))}async function F0(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class B0 extends ${constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function Wo(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:o=4,retryDelay:a=({count:p})=>~~(1<<p)*200,timeout:i=6e4,throwOnFailure:c=!1}=t,u=ie(["waitForCallsStatus",e.uid,n]),{promise:l,resolve:d,reject:h}=Sr();let f;const b=fn(u,{resolve:d,reject:h},p=>{const m=Lo(async()=>{const C=v=>{clearTimeout(f),m(),v(),b()};try{const v=await qt(async()=>{const x=await G(e,qo,"getCallsStatus")({id:n});if(c&&x.status==="failure")throw new B0(x);return x},{retryCount:o,delay:a});if(!s(v))return;C(()=>p.resolve(v))}catch(v){C(()=>p.reject(v))}},{interval:r,emitOnBegin:!0});return m});return f=i?setTimeout(()=>{b(),clearTimeout(f),h(new M0({id:n}))},i):void 0,await l}class M0 extends ${constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function R0(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await G(e,Ho,"sendCalls")(t);return await G(e,Wo,"waitForCallsStatus")({...t,id:s.id,timeout:r})}async function Ko(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var i,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,k(r)]:[t]},{retryCount:0}),a=(((u=(c=(i=e.chain)==null?void 0:i.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Lr)(s);if(a.status==="reverted"&&n)throw new bo({receipt:a});return a}const Ln=new ht(128);async function Zo(e,t){var y,E,T,z,R;const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:a,blobs:i,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:(y=e.dataSuffix)==null?void 0:y.value,gas:l,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:p,pollingInterval:m,throwOnReceiptRevert:C,type:v,value:x,..._}=t,g=t.timeout??Math.max(((s==null?void 0:s.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Ge({docsPath:"/docs/actions/wallet/sendTransactionSync"});const P=n?Y(n):null;try{Ke(t);const j=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await Fr({authorization:a[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`.")})})();if((P==null?void 0:P.type)==="json-rpc"||P===null){let O;s!==null&&(O=await G(e,Ze,"getChainId")({}),r&&Nr({currentChainId:O,chain:s}));const D=(z=(T=(E=e.chain)==null?void 0:E.formatters)==null?void 0:T.transactionRequest)==null?void 0:z.format,X=(D||pt)({...Zt(_,{format:D}),accessList:o,account:P,authorizationList:a,blobs:i,chainId:O,data:c&&he([c,u??"0x"]),gas:l,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:p,to:j,type:v,value:x},"sendTransaction"),Z=Ln.get(e.uid),J=Z?"wallet_sendTransaction":"eth_sendTransaction",ee=await(async()=>{try{return await e.request({method:J,params:[X]},{retryCount:0})}catch(de){if(Z===!1)throw de;const oe=de;if(oe.name==="InvalidInputRpcError"||oe.name==="InvalidParamsRpcError"||oe.name==="MethodNotFoundRpcError"||oe.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[X]},{retryCount:0}).then($e=>(Ln.set(e.uid,!0),$e)).catch($e=>{const Ce=$e;throw Ce.name==="MethodNotFoundRpcError"||Ce.name==="MethodNotSupportedRpcError"?(Ln.set(e.uid,!1),oe):Ce});throw oe}})(),W=await G(e,E0,"waitForTransactionReceipt")({checkReplacement:!1,hash:ee,pollingInterval:m,timeout:g});if(C&&W.status==="reverted")throw new bo({receipt:W});return W}if((P==null?void 0:P.type)==="local"){const O=await G(e,$n,"prepareTransactionRequest")({account:P,accessList:o,authorizationList:a,blobs:i,chain:s,data:c&&he([c,u??"0x"]),gas:l,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:b,nonce:p,nonceManager:P.nonceManager,parameters:[...zr,"sidecars"],type:v,value:x,..._,to:j}),D=(R=s==null?void 0:s.serializers)==null?void 0:R.transaction,M=await P.signTransaction(O,{serializer:D});return await G(e,Ko,"sendRawTransactionSync")({serializedTransaction:M,throwOnReceiptRevert:C,timeout:t.timeout})}throw(P==null?void 0:P.type)==="smart"?new Ue({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ue({docsPath:"/docs/actions/wallet/sendTransactionSync",type:P==null?void 0:P.type})}catch(j){throw j instanceof Ue?j:Pn(j,{...t,account:P,chain:t.chain||void 0})}}async function O0(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function z0(e,t){const{account:n=e.account}=t;if(!n)throw new Ge({docsPath:"/docs/eip7702/signAuthorization"});const r=Y(n);if(!r.signAuthorization)throw new Ue({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Vo(e,t);return r.signAuthorization(s)}async function Jo(e,{account:t=e.account,message:n}){if(!t)throw new Ge({docsPath:"/docs/actions/wallet/signMessage"});const r=Y(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?mn(n):n.raw instanceof Uint8Array?Ae(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function j0(e,t){var u,l,d,h;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Ge({docsPath:"/docs/actions/wallet/signTransaction"});const o=Y(n);Ke({account:o,...t});const a=await G(e,Ze,"getChainId")({});r!==null&&Nr({currentChainId:a,chain:r});const i=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((l=i==null?void 0:i.transactionRequest)==null?void 0:l.format)||pt;return o.signTransaction?o.signTransaction({...s,chainId:a},{serializer:(h=(d=e.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:k(a),from:o.address}]},{retryCount:0})}async function N0(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new Ge({docsPath:"/docs/actions/wallet/signTypedData"});const a=Y(n),i={EIP712Domain:v0({domain:r}),...t.types};if(w0({domain:r,message:s,primaryType:o,types:i}),a.signTypedData)return a.signTypedData({domain:r,message:s,primaryType:o,types:i});const c=y0({domain:r,message:s,primaryType:o,types:i});return e.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}async function L0(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:k(t)}]},{retryCount:0})}async function G0(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function lt(e,t){return lt.internal(e,En,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:a,account:i=n.account,address:c,args:u,functionName:l,...d}=o;if(typeof i>"u")throw new Ge({docsPath:"/docs/contract/writeContract"});const h=i?Y(i):null,f=yn({abi:a,args:u,functionName:l});try{return await G(n,r,s)({data:f,to:c,account:h,...d})}catch(b){throw mo(b,{abi:a,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:l,sender:h==null?void 0:h.address})}}e.internal=t})(lt||(lt={}));async function D0(e,t){return lt.internal(e,Zo,"sendTransactionSync",t)}function Gr(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const an="3.4.0",U0=()=>`@wagmi/core@${an}`;var Yo=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},hn,Xo;class xe extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return U0()}constructor(t,n={}){var o;super(),hn.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof xe?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof xe&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Yo(this,hn,"m",Xo).call(this,this,t)}}hn=new WeakSet,Xo=function e(t,n){return n!=null&&n(t)?t:t.cause?Yo(this,hn,"m",e).call(this,t.cause,n):t};class ar extends xe{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class H0 extends xe{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class q0 extends xe{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class V0 extends xe{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class W0 extends xe{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class K0 extends xe{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Z0(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new H0;try{e.setState(i=>({...i,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...o}=t,a=await n.connect(o);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(i=>({...i,connections:new Map(i.connections).set(n.uid,{accounts:o.withCapabilities?a.accounts.map(c=>typeof c=="object"?c.address:c):a.accounts,chainId:a.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o.withCapabilities?a.accounts.map(i=>typeof i=="object"?i:{address:i,capabilities:{}}):a.accounts,chainId:a.chainId}}catch(s){throw e.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}const ir=256;let tn=ir,nn;function Qo(e=11){if(!nn||tn+e>ir*2){nn="",tn=0;for(let t=0;t<ir;t++)nn+=(256+Math.random()*256|0).toString(16).substring(1)}return nn.substring(tn,tn+++e)}function ea(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:a="Base Client",type:i="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),u=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(u/2),500),4e3),d=e.pollingInterval??l,h=e.cacheTime??d,f=e.account?Y(e.account):void 0,{config:b,request:p,value:m}=e.transport({account:f,chain:n,pollingInterval:d}),C={...b,...m},v={account:f,batch:t,cacheTime:h,ccipRead:r,chain:n,dataSuffix:s,key:o,name:a,pollingInterval:d,request:p,transport:C,type:i,uid:Qo(),...c?{experimental_blockTag:c}:{}};function x(_){return g=>{const P=g(_);for(const E in v)delete P[E];const y={..._,...P};return Object.assign(y,{extend:x(y)})}}return Object.assign(v,{extend:x(v)})}function J0(e){return{addChain:t=>I0(e,t),deployContract:t=>_0(e,t),fillTransaction:t=>Oo(e,t),getAddresses:()=>A0(e),getCallsStatus:t=>qo(e,t),getCapabilities:t=>T0(e,t),getChainId:()=>Ze(e),getPermissions:()=>k0(e),prepareAuthorization:t=>Vo(e,t),prepareTransactionRequest:t=>$n(e,t),requestAddresses:()=>S0(e),requestPermissions:t=>F0(e,t),sendCalls:t=>Ho(e,t),sendCallsSync:t=>R0(e,t),sendRawTransaction:t=>Go(e,t),sendRawTransactionSync:t=>Ko(e,t),sendTransaction:t=>En(e,t),sendTransactionSync:t=>Zo(e,t),showCallsStatus:t=>O0(e,t),signAuthorization:t=>z0(e,t),signMessage:t=>Jo(e,t),signTransaction:t=>j0(e,t),signTypedData:t=>N0(e,t),switchChain:t=>L0(e,t),waitForCallsStatus:t=>Wo(e,t),watchAsset:t=>G0(e,t),writeContract:t=>lt(e,t),writeContractSync:t=>D0(e,t)}}function ta({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:a,type:i},c){const u=Qo();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:a,type:i},request:u0(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function Y0(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:a})=>ta({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:o,type:"custom"})}class X0 extends ${constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Q0(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:a,name:i="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:l,raw:d}=t;return({chain:h,retryCount:f,timeout:b})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},C=t.retryCount??f,v=b??t.timeout??1e4,x=h==null?void 0:h.rpcUrls.default.http[0];if(!x)throw new X0;const _=h0(x,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:v});return ta({key:o,methods:a,name:i,async request({method:g,params:P}){const y={method:g,params:P},{schedule:E}=yo({id:x,wait:m,shouldSplitBatch(j){return j.length>p},fn:j=>_.request({body:j}),sort:(j,O)=>j.id-O.id}),T=async j=>n?E(j):[await _.request({body:j})],[{error:z,result:R}]=await T(y);if(d)return{error:z,result:R};if(z)throw new _r({body:y,error:z,url:x});return R},retryCount:C,retryDelay:l,timeout:v,type:"http"},{fetchOptions:s,url:x})}}async function Dr(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:l}=t;if(e.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new K0({connector:l});const[d,h]=await Promise.all([l.getAccounts().catch(f=>{if(t.account===null)return[];throw f}),l.getChainId()]);r={accounts:d,chainId:h,connector:l}}else r=e.state.connections.get(e.state.current);if(!r)throw new q0;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new W0({connectionChainId:s,connectorChainId:o});const a=r.connector;if(a.getClient)return a.getClient({chainId:s});const i=Y(t.account??r.accounts[0]);if(i&&(i.address=et(i.address)),t.account&&!r.accounts.some(l=>l.toLowerCase()===i.address.toLowerCase()))throw new V0({address:i.address,connector:a});const c=e.chains.find(l=>l.id===s),u=await r.connector.getProvider({chainId:s});return ea({account:i,chain:c,name:"Connector Client",transport:l=>Y0(u)({...l,retryCount:0})})}async function na(e,t={}){var s,o;let n;if(t.connector)n=t.connector;else{const{connections:a,current:i}=e.state,c=a.get(i);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(a=>{if(r.size===0)return{...a,connections:new Map,current:null,status:"disconnected"};const i=r.values().next().value;return{...a,connections:new Map(r),current:i.connector.uid}});{const a=e.state.current;if(!a)return;const i=(s=e.state.connections.get(a))==null?void 0:s.connector;if(!i)return;await((o=e.storage)==null?void 0:o.setItem("recentConnectorId",i.id))}}function ra(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],o=e.chains.find(i=>i.id===(n==null?void 0:n.chainId)),a=e.state.status;switch(a){case"connected":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}async function bs(e,t={}){return(await Dr(e,t)).extend(J0)}function ps(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return Gr(s,bu,"readContract")(r)}async function el(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await Dr(e,{account:n,connector:r}),Gr(o,Jo,"signMessage")({...s,...n?{account:n}:{}})}class Qe extends xe{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}async function ms(e,t){const{account:n,chainId:r,connector:s,...o}=t;let a;typeof n=="object"&&(n==null?void 0:n.type)==="local"?a=e.getClient({chainId:r}):a=await Dr(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s});const i=(()=>{var l;return!r||((l=a.chain)==null?void 0:l.id)===r?a.chain:{id:r}})();return await Gr(a,lt,"writeContract")({...o,...n?{account:n}:{},assertChainId:!!r,chain:i})}Xt.type="injected";function Xt(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...tl[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,a,i;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:Xt.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(a||(a=this.onConnect.bind(this),u.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:l,withCapabilities:d}={}){var b,p,m,C,v,x;const h=await this.getProvider();if(!h)throw new Qe;let f=[];if(l)f=await this.getAccounts().catch(()=>[]);else if(t)try{f=(C=(m=(p=(b=(await h.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:p[0])==null?void 0:m.value)==null?void 0:C.map(g=>et(g)),f.length>0&&(f=await this.getAccounts())}catch(_){const g=_;if(g.code===ne.code)throw new ne(g);if(g.code===ze.code)throw g}try{!(f!=null&&f.length)&&!l&&(f=(await h.request({method:"eth_requestAccounts"})).map(P=>et(P))),a&&(h.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),i||(i=this.onDisconnect.bind(this),h.on("disconnect",i));let _=await this.getChainId();if(u&&_!==u){const g=await this.switchChain({chainId:u}).catch(P=>{if(P.code===ne.code)throw P;return{id:_}});_=(g==null?void 0:g.id)??_}return t&&await((v=c.storage)==null?void 0:v.removeItem(`${this.id}.disconnected`)),e.target||await((x=c.storage)==null?void 0:x.setItem("injected.connected",!0)),{accounts:d?f.map(g=>({address:g,capabilities:{}})):f,chainId:_}}catch(_){const g=_;throw g.code===ne.code?new ne(g):g.code===ze.code?new ze(g):g}},async disconnect(){var l,d;const u=await this.getProvider();if(!u)throw new Qe;o&&(u.removeListener("chainChanged",o),o=void 0),i&&(u.removeListener("disconnect",i),i=void 0),a||(a=this.onConnect.bind(this),u.on("connect",a));try{await No(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((l=c.storage)==null?void 0:l.setItem(`${this.id}.disconnected`,!0)),e.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Qe;return(await u.request({method:"eth_accounts"})).map(d=>et(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new Qe;const l=await u.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let u;const l=r();return typeof l.provider=="function"?u=l.provider(window):typeof l.provider=="string"?u=cn(window,l.provider):u=l.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,l;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((l=c.storage)==null?void 0:l.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const b=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",b),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(C=>window.addEventListener("ethereum#initialized",()=>C(b()),{once:!0}))]:[],new Promise(C=>setTimeout(()=>C(b()),p))]))return!0}throw new Qe}return!!(await qt(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:l}){var b,p,m,C;const d=await this.getProvider();if(!d)throw new Qe;const h=c.chains.find(v=>v.id===l);if(!h)throw new Ve(new ar);const f=new Promise(v=>{const x=(_=>{"chainId"in _&&_.chainId===l&&(c.emitter.off("change",x),v())});c.emitter.on("change",x)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:k(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),f]),h}catch(v){const x=v;if(x.code===4902||((p=(b=x==null?void 0:x.data)==null?void 0:b.originalError)==null?void 0:p.code)===4902)try{const{default:_,...g}=h.blockExplorers??{};let P;u!=null&&u.blockExplorerUrls?P=u.blockExplorerUrls:_&&(P=[_.url,...Object.values(g).map(T=>T.url)]);let y;(m=u==null?void 0:u.rpcUrls)!=null&&m.length?y=u.rpcUrls:y=[((C=h.rpcUrls.default)==null?void 0:C.http[0])??""];const E={blockExplorerUrls:P,chainId:k(l),chainName:(u==null?void 0:u.chainName)??h.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??h.nativeCurrency,rpcUrls:y};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[E]}).then(async()=>{if(await this.getChainId()===l)c.emitter.emit("change",{chainId:l});else throw new ne(new Error("User rejected switch after adding network."))}),f]),h}catch(_){throw new ne(_)}throw x.code===ne.code?new ne(x):new Ve(x)}},async onAccountsChanged(u){var l;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),t&&await((l=c.storage)==null?void 0:l.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(d=>et(d))})},onChainChanged(u){const l=Number(u);c.emitter.emit("change",{chainId:l})},async onConnect(u){const l=await this.getAccounts();if(l.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:l,chainId:d});const h=await this.getProvider();h&&(a&&(h.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),i||(i=this.onDisconnect.bind(this),h.on("disconnect",i)))},async onDisconnect(u){const l=await this.getProvider();u&&u.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(o&&(l.removeListener("chainChanged",o),o=void 0),i&&(l.removeListener("disconnect",i),i=void 0),a||(a=this.onConnect.bind(this),l.on("connect",a))))}})}const tl={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:cn(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return cn(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:cn(e,"isPhantom")}}};function cn(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function nl(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function rl(){const e=new Set;let t=[];const n=()=>nl(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const sl=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(a,i,c)=>{let u=a;if(i){const l=(c==null?void 0:c.equalityFn)||Object.is;let d=a(r.getState());u=h=>{const f=a(h);if(!l(d,f)){const b=d;i(d=f,b)}},c!=null&&c.fireImmediately&&i(d,d)}return s(u)},e(t,n,r)},ol=sl;function al(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),i=(o=n.getItem(s))!=null?o:null;return i instanceof Promise?i.then(a):a(i)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const cr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return cr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return cr(r)(n)}}}},il=(e,t)=>(n,r,s)=>{let o={storage:al(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},a=!1;const i=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const l=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},d=s.setState;s.setState=(p,m)=>{d(p,m),l()};const h=e((...p)=>{n(...p),l()},r,s);s.getInitialState=()=>h;let f;const b=()=>{var p,m;if(!u)return;a=!1,i.forEach(v=>{var x;return v((x=r())!=null?x:h)});const C=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(p=r())!=null?p:h))||void 0;return cr(u.getItem.bind(u))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var x;const[_,g]=v;if(f=o.merge(g,(x=r())!=null?x:h),n(f,!0),_)return l()}).then(()=>{C==null||C(f,void 0),f=r(),a=!0,c.forEach(v=>v(f))}).catch(v=>{C==null||C(void 0,v)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:p=>(i.add(p),()=>{i.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||b(),f||h},cl=il,gs=e=>{let t;const n=new Set,r=(u,l)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const h=t;t=l??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(f=>f(t,h))}},s=()=>t,i={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,i);return i},Gn=e=>e?gs(e):gs;function ul(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dn={exports:{}},ys;function ll(){return ys||(ys=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function o(c,u,l,d,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new s(l,d||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],f]:c._events[b].push(f):(c._events[b]=f,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function i(){this._events=new r,this._eventsCount=0}i.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)t.call(l,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},i.prototype.listeners=function(u){var l=n?n+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,b=new Array(f);h<f;h++)b[h]=d[h].fn;return b},i.prototype.listenerCount=function(u){var l=n?n+u:u,d=this._events[l];return d?d.fn?1:d.length:0},i.prototype.emit=function(u,l,d,h,f,b){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],C=arguments.length,v,x;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),C){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,d),!0;case 4:return m.fn.call(m.context,l,d,h),!0;case 5:return m.fn.call(m.context,l,d,h,f),!0;case 6:return m.fn.call(m.context,l,d,h,f,b),!0}for(x=1,v=new Array(C-1);x<C;x++)v[x-1]=arguments[x];m.fn.apply(m.context,v)}else{var _=m.length,g;for(x=0;x<_;x++)switch(m[x].once&&this.removeListener(u,m[x].fn,void 0,!0),C){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,l);break;case 3:m[x].fn.call(m[x].context,l,d);break;case 4:m[x].fn.call(m[x].context,l,d,h);break;default:if(!v)for(g=1,v=new Array(C-1);g<C;g++)v[g-1]=arguments[g];m[x].fn.apply(m[x].context,v)}}return!0},i.prototype.on=function(u,l,d){return o(this,u,l,d,!1)},i.prototype.once=function(u,l,d){return o(this,u,l,d,!0)},i.prototype.removeListener=function(u,l,d,h){var f=n?n+u:u;if(!this._events[f])return this;if(!l)return a(this,f),this;var b=this._events[f];if(b.fn)b.fn===l&&(!h||b.once)&&(!d||b.context===d)&&a(this,f);else{for(var p=0,m=[],C=b.length;p<C;p++)(b[p].fn!==l||h&&!b[p].once||d&&b[p].context!==d)&&m.push(b[p]);m.length?this._events[f]=m.length===1?m[0]:m:a(this,f)}return this},i.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&a(this,l)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i})(Dn)),Dn.exports}var dl=ll();const fl=ul(dl);class hl{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new fl})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function bl(e){return new hl(e)}function pl(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function ws(e,t){return e.slice(0,t).join(".")||"."}function vs(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function ml(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(i,c){if(typeof c=="object")if(s.length){const u=vs(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=i;const l=vs(s,c);if(l!==0)return r?t.call(this,i,c,ws(o,l)):`[ref=${ws(o,l)}]`}else s[0]=c,o[0]=i;return n?e.call(this,i,c):c}}function gl(e,t,n,r){return JSON.stringify(e,ml((s,o)=>{let a=o;return typeof a=="bigint"&&(a={__type:"bigint",value:o.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(o.entries())}),(t==null?void 0:t(s,a))??a},r),n??void 0)}function yl(e){const{deserialize:t=pl,key:n="wagmi",serialize:r=gl,storage:s=sa}=e;function o(a){return a instanceof Promise?a.then(i=>i).catch(()=>null):a}return{...s,key:n,async getItem(a,i){const c=s.getItem(`${n}.${a}`),u=await o(c);return u?t(u)??null:i??null},async setItem(a,i){const c=`${n}.${a}`;i===null?await o(s.removeItem(c)):await o(s.setItem(c,r(i)))},async removeItem(a){await o(s.removeItem(`${n}.${a}`))}}}const sa={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function wl(){const e=typeof window<"u"&&window.localStorage?window.localStorage:sa;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const ur=256;let rn=ur,sn;function vl(e=11){if(!sn||rn+e>ur*2){sn="",rn=0;for(let t=0;t<ur;t++)sn+=(256+Math.random()*256|0).toString(16).substring(1)}return sn.substring(rn,rn+++e)}function xl(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=yl({storage:wl()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,a=typeof window<"u"&&t?rl():void 0,i=Gn(()=>o.chains),c=Gn(()=>{const g=[],P=new Set;for(const y of o.connectors??[]){const E=u(y);if(g.push(E),!s&&E.rdns){const T=typeof E.rdns=="string"?[E.rdns]:E.rdns;for(const z of T)P.add(z)}}if(!s&&a){const y=a.getProviders();for(const E of y)P.has(E.info.rdns)||g.push(u(l(E)))}return g});function u(g){var E;const P=bl(vl()),y={...g({emitter:P,chains:i.getState(),storage:n,transports:o.transports}),emitter:P,uid:P.uid};return P.on("connect",x),(E=y.setup)==null||E.call(y),y}function l(g){const{info:P}=g,y=g.provider;return Xt({target:{...P,id:P.rdns,provider:y}})}const d=new Map;function h(g={}){const P=g.chainId??m.getState().chainId,y=i.getState().find(T=>T.id===P);if(g.chainId&&!y)throw new ar;{const T=d.get(m.getState().chainId);if(T&&!y)return T;if(!y)throw new ar}{const T=d.get(P);if(T)return T}let E;if(o.client)E=o.client({chain:y});else{const T=y.id,z=i.getState().map(O=>O.id),R={},j=Object.entries(o);for(const[O,D]of j)if(!(O==="chains"||O==="client"||O==="connectors"||O==="transports"))if(typeof D=="object")if(T in D)R[O]=D[T];else{if(z.some(X=>X in D))continue;R[O]=D}else R[O]=D;E=ea({...R,chain:y,batch:R.batch??{multicall:!0},transport:O=>o.transports[T]({...O,connectors:c})})}return d.set(P,E),E}function f(){return{chainId:i.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const p="0.0.0-canary-";an.startsWith(p)?b=Number.parseInt(an.replace(p,""),10):b=Number.parseInt(an.split(".")[0]??"0",10);const m=Gn(ol(n?cl(f,{migrate(g,P){if(P===b)return g;const y=f(),E=C(g,y.chainId);return{...y,chainId:E}},name:"store",partialize(g){return{connections:{__type:"Map",value:Array.from(g.connections.entries()).map(([P,y])=>{const{id:E,name:T,type:z,uid:R}=y.connector;return[P,{...y,connector:{id:E,name:T,type:z,uid:R}}]})},chainId:g.chainId,current:g.current}},merge(g,P){typeof g=="object"&&g&&"status"in g&&delete g.status;const y=C(g,P.chainId);return{...P,...g,chainId:y}},skipHydration:s,storage:n,version:b}):f));m.setState(f());function C(g,P){return g&&typeof g=="object"&&"chainId"in g&&typeof g.chainId=="number"&&i.getState().some(y=>y.id===g.chainId)?g.chainId:P}r&&m.subscribe(({connections:g,current:P})=>{var y;return P?(y=g.get(P))==null?void 0:y.chainId:void 0},g=>{if(i.getState().some(y=>y.id===g))return m.setState(y=>({...y,chainId:g??y.chainId}))}),a==null||a.subscribe(g=>{const P=new Set,y=new Set;for(const T of c.getState())if(P.add(T.id),T.rdns){const z=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const R of z)y.add(R)}const E=[];for(const T of g){if(y.has(T.info.rdns))continue;const z=u(l(T));P.has(z.id)||E.push(z)}n&&!m.persist.hasHydrated()||c.setState(T=>[...T,...E],!0)});function v(g){m.setState(P=>{const y=P.connections.get(g.uid);return y?{...P,connections:new Map(P.connections).set(g.uid,{accounts:g.accounts??y.accounts,chainId:g.chainId??y.chainId,connector:y.connector})}:P})}function x(g){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(P=>{const y=c.getState().find(E=>E.uid===g.uid);return y?(y.emitter.listenerCount("connect")&&y.emitter.off("connect",v),y.emitter.listenerCount("change")||y.emitter.on("change",v),y.emitter.listenerCount("disconnect")||y.emitter.on("disconnect",_),{...P,connections:new Map(P.connections).set(g.uid,{accounts:g.accounts,chainId:g.chainId,connector:y}),current:g.uid,status:"connected"}):P})}function _(g){m.setState(P=>{const y=P.connections.get(g.uid);if(y){const T=y.connector;T.emitter.listenerCount("change")&&y.connector.emitter.off("change",v),T.emitter.listenerCount("disconnect")&&y.connector.emitter.off("disconnect",_),T.emitter.listenerCount("connect")||y.connector.emitter.on("connect",x)}if(P.connections.delete(g.uid),P.connections.size===0)return{...P,connections:new Map,current:null,status:"disconnected"};const E=P.connections.values().next().value;return{...P,connections:new Map(P.connections),current:E.connector.uid}})}return{get chains(){return i.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return m.getState()},setState(g){let P;typeof g=="function"?P=g(m.getState()):P=g;const y=f();typeof P!="object"&&(P=y),Object.keys(y).some(T=>!(T in P))&&(P=y),m.setState(P,!0)},subscribe(g,P,y){return m.subscribe(g,P,y?{...y,fireImmediately:y.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const g=m.getState(),P=g.connections;let y=g.current;for(const[,E]of P){const T=E.connector;T.isAuthorized&&await T.isAuthorized()||(P.delete(T.uid),y===T.uid&&(y=null))}m.setState(E=>({...E,connections:P,current:y}))},store:m,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(g){const P=typeof g=="function"?g(i.getState()):g;if(P.length!==0)return i.setState(P,!0)},subscribe(g){return i.subscribe(g)}},connectors:{providerDetailToConnector:l,setup:u,setState(g){return c.setState(typeof g=="function"?g(c.getState()):g,!0)},subscribe(g){return c.subscribe(g)}},events:{change:v,connect:x,disconnect:_}}}}const Pl={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},$l={block:Iu({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Jt(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?ae(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:Cu({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ae(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:d0({format(e){return{l1GasPrice:e.l1GasPrice?ae(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ae(e.l1GasUsed):null,l1Fee:e.l1Fee?ae(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function Cl(e,t){return _l(e)?Il(e):t0(e,t)}const El={transaction:Cl};function Il(e){Al(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:a,to:i,value:c}=e,u=[t,r,i??"0x",a?Ae(a):"0x",c?Ae(c):"0x",s?Ae(s):"0x",o?"0x1":"0x",n??"0x"];return Se(["0x7e",Le(u)])}function _l(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function Al(e){const{from:t,to:n}=e;if(t&&!Q(t))throw new re({address:t});if(n&&!Q(n))throw new re({address:n})}const xs={blockTime:2e3,contracts:Pl,formatters:$l,serializers:El},vt=1,lr=zo({...xs,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...xs.contracts,disputeGameFactory:{[vt]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[vt]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[vt]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[vt]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:vt});({...lr});function Tl(e){const t=(e??"").trim();if(!t)throw new Error("Address is required");if(t.includes("."))throw new Error("Please use a raw wallet address (0x...). ENS names are not supported on Base.");if(!Q(t))throw new Error("Invalid address format. Use a raw wallet address (0x...).");return t}const dr=Tl;function kl(e){return!e||e.length<10?e:`${e.slice(0,6)}...${e.slice(-4)}`}const oa=Xt({target:"metaMask"}),aa=Xt({target:"coinbaseWallet"}),fe=xl({chains:[lr],connectors:[oa,aa],transports:{[lr.id]:Q0()},ssr:!0}),bn="0xA99c4B08201F2913Db8D28e71d020c4298F29dBF",pn=[{type:"function",name:"isPetOperatorForAll",stateMutability:"view",inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"tokenIdsOfOwner",stateMutability:"view",inputs:[{name:"_owner",type:"address"}],outputs:[{type:"uint32[]"}]},{type:"function",name:"setPetOperatorForAll",stateMutability:"nonpayable",inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],outputs:[]}],Sl={class:"wallet-connect"},Fl={key:0,class:"space-y-4"},Bl={class:"flex flex-col sm:flex-row gap-3"},Ml=["disabled"],Rl=["disabled"],Ol={key:0,class:"text-red-400 text-sm"},zl={key:1,class:"text-slate-400 text-xs mt-1"},jl={key:1,class:"space-y-4"},Nl={class:"bg-emerald-500/20 border border-emerald-500/50 rounded-lg p-4"},Ll={class:"text-slate-300 text-sm mt-1 break-all"},Gl={key:0,class:"text-amber-400/90 text-sm"},Dl=["disabled"],Ul=dt({__name:"WalletConnect",setup(e){var p,m;const t=fr(),n=(((p=t.public)==null?void 0:p.allowedAddress)||"0x2127aa7265d573aa467f1d73554d17890b872e76").toLowerCase(),r=(m=t.public)==null?void 0:m.allowedAddresses,s=r?r.split(",").map(C=>C.trim().toLowerCase()).filter(Boolean):[n],o=L(""),a=L(!1),i=L(!1),c=L(!1),u=L(!1),l=L(""),d=async()=>{try{const C=await $fetch("/api/auth/check");i.value=C.authenticated}catch{i.value=!1}},h=async C=>{var v;c.value=!0,l.value="";try{const _=await Z0(fe,{connector:C==="metaMask"?oa:aa});if((v=_==null?void 0:_.accounts)!=null&&v[0]){o.value=_.accounts[0],a.value=!0;const g=_.accounts[0].toLowerCase();s.includes(g)?await d():(l.value=s.length===1?`Your address is not whitelisted. Only ${n} is allowed.`:"Your address is not whitelisted.",a.value=!1)}}catch(x){const _=(x==null?void 0:x.message)||"Failed to connect wallet";_.includes("Provider not found")?l.value="MetaMask/Coinbase not found. Disable Uniswap Wallet and other extensions, or use a private window with only MetaMask or Coinbase.":_.includes("ethereum")&&_.includes("getter")?l.value="Wallet conflict detected. Try disabling other wallet extensions or use a private window with only MetaMask or Coinbase Wallet.":l.value=_,a.value=!1}finally{c.value=!1}},f=async()=>{var C;u.value=!0,l.value="";try{const v=`Sign in to Aavegotchi Petter Bot

Address: ${o.value}

This request will not trigger a blockchain transaction or cost any gas fees.`,x=await el(fe,{message:v,account:o.value});(await $fetch("/api/auth/verify",{method:"POST",body:{address:o.value,message:v,signature:x}})).success&&(i.value=!0,window.location.href="/")}catch(v){l.value=(v==null?void 0:v.message)||((C=v==null?void 0:v.data)==null?void 0:C.message)||"Failed to sign message"}finally{u.value=!1}},b=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await na(fe),a.value=!1,i.value=!1,o.value="",await la("/")}catch(C){console.error("Failed to disconnect:",C)}};return Vt(async()=>{if(typeof window>"u")return;const C=ra(fe);C.isConnected&&C.address&&(o.value=C.address,a.value=!0,await d())}),(C,v)=>(F(),B("div",Sl,[a.value?(F(),B("div",jl,[w("div",Nl,[v[3]||(v[3]=w("p",{class:"text-emerald-400 font-medium"},"Connected",-1)),w("p",Ll,S(o.value),1)]),i.value?V("",!0):(F(),B("p",Gl," Sign in below to access Bot Control, Delegation List, and full dashboard. ")),i.value?(F(),B("button",{key:2,onClick:b,class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Disconnect ")):(F(),B("button",{key:1,onClick:f,disabled:u.value,class:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed"},S(u.value?"Signing...":"Sign Message to Login"),9,Dl))])):(F(),B("div",Fl,[v[2]||(v[2]=w("p",{class:"text-slate-400"},"Connect with MetaMask or Coinbase Wallet only",-1)),w("div",Bl,[w("button",{onClick:v[0]||(v[0]=x=>h("metaMask")),disabled:c.value,class:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},S(c.value?"Connecting...":"MetaMask"),9,Ml),w("button",{onClick:v[1]||(v[1]=x=>h("coinbaseWallet")),disabled:c.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},S(c.value?"Connecting...":"Coinbase Wallet"),9,Rl)]),l.value?(F(),B("p",Ol,S(l.value),1)):V("",!0),l.value?(F(),B("p",zl," Have Uniswap or other wallets? Disable them or use a private window with only MetaMask or Coinbase Wallet. ")):V("",!0)]))]))}}),Pt=window.setInterval,Hl={class:"bot-control"},ql={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Vl={key:0,class:"text-center py-4"},Wl={key:1,class:"space-y-4"},Kl={class:"flex items-center justify-between"},Zl={key:0},Jl={class:"text-lg font-semibold"},Yl={key:0,class:"bg-white/5 border border-white/10 rounded-lg p-4"},Xl={class:"text-slate-300 text-sm mt-1"},Ql={key:1,class:"bg-red-500/20 border border-red-500/50 rounded-lg p-4"},ed={class:"text-red-300 text-sm mt-1"},td={class:"flex gap-4"},nd=["disabled"],rd=["disabled"],sd=dt({__name:"BotControl",emits:["triggered"],setup(e,{emit:t}){const n=t,r=L({running:!1}),s=L(!0),o=L(!1),a=L(!1),i=async()=>{try{const d=await $fetch("/api/bot/status");r.value=d}catch(d){console.error("Failed to fetch bot status:",d)}finally{s.value=!1}},c=async()=>{o.value=!0;try{const d=r.value.running?"/api/bot/stop":"/api/bot/start";await $fetch(d,{method:"POST"}),await i()}catch(d){console.error("Failed to toggle bot:",d),alert("Failed to toggle bot status")}finally{o.value=!1}},u=async()=>{var d,h,f;a.value=!0;try{const b=await $fetch("/api/bot/trigger",{method:"POST",body:{force:!0}});if(!b.success&&b.error){alert(b.error);return}const p=(d=b==null?void 0:b.result)==null?void 0:d.message;alert(p||"Bot triggered successfully!"),n("triggered"),await i()}catch(b){console.error("Failed to trigger bot:",b);const p=b,m=((h=p==null?void 0:p.data)==null?void 0:h.error)??((f=p==null?void 0:p.data)==null?void 0:f.message)??(p==null?void 0:p.message)??"Failed to trigger bot";alert(m)}finally{a.value=!1}},l=d=>new Date(d).toLocaleString();return Vt(()=>{i(),Pt(i,1e4)}),(d,h)=>(F(),B("div",Hl,[w("div",ql,[h[5]||(h[5]=w("h2",{class:"text-lg font-semibold mb-4"},"Bot Control",-1)),s.value?(F(),B("div",Vl,[...h[0]||(h[0]=[w("p",{class:"text-slate-400"},"Loading...",-1)])])):(F(),B("div",Wl,[w("div",Kl,[w("div",null,[h[1]||(h[1]=w("p",{class:"text-sm text-slate-400"},"Status",-1)),w("p",{class:we(["text-lg font-semibold",r.value.running?"text-emerald-400":"text-red-400"])},S(r.value.running?"Running":"Stopped"),3)]),r.value.lastRun?(F(),B("div",Zl,[h[2]||(h[2]=w("p",{class:"text-sm text-slate-400"},"Last Run",-1)),w("p",Jl,S(l(r.value.lastRun)),1)])):V("",!0)]),r.value.lastRunMessage&&!r.value.lastError?(F(),B("div",Yl,[h[3]||(h[3]=w("p",{class:"text-slate-400 text-sm font-medium"},"Last Outcome",-1)),w("p",Xl,S(r.value.lastRunMessage),1)])):V("",!0),r.value.lastError?(F(),B("div",Ql,[h[4]||(h[4]=w("p",{class:"text-red-400 font-medium"},"Last Error",-1)),w("p",ed,S(r.value.lastError),1)])):V("",!0),w("div",td,[w("button",{onClick:c,disabled:o.value,class:we(["px-6 py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",r.value.running?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700"])},S(o.value?"Processing...":r.value.running?"Stop Bot":"Start Bot"),11,nd),w("button",{onClick:u,disabled:a.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},S(a.value?"Running...":"Trigger Now"),9,rd)])]))])]))}}),Ps="0x9a3E95f448f3daB367dd9213D4554444faa272F1",od=["0xb4c123857ea7d2f1343d749818c19af439c65e15","0x6c5fc27f465ac73466d3a10508d2ed8a68364bbf","0xeFa494C63865e9Ab9DF001041558f26FaC897002"];function ia(){var o;let t=((o=fr().public)==null?void 0:o.petterAddress)||Ps;od.includes(t.toLowerCase())&&(t=Ps);const n=L(null),r=L(!0);return{status:n,loading:r,petterAddress:t,fetchStatus:async()=>{if(typeof window>"u")return;const a=ra(fe).address;if(!a||!t){n.value=null,r.value=!1;return}try{const i=dr(t),[c,u]=await Promise.all([ps(fe,{address:bn,abi:pn,functionName:"isPetOperatorForAll",args:[a,i]}),$fetch("/api/delegation/registered").catch(()=>({registered:!1}))]);let l=0;if(c){const d=await ps(fe,{address:bn,abi:pn,functionName:"tokenIdsOfOwner",args:[a]});l=Array.isArray(d)?d.length:0}n.value={approved:c,registered:u.registered,gotchiCount:l,petterAddress:t,canRegister:c&&!u.registered}}catch(i){console.error("Failed to fetch delegation status:",i),n.value=null}finally{r.value=!1}}}}const ad={class:"delegation-card"},id={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},cd={key:0,class:"text-center py-4"},ud={key:1,class:"text-center py-4"},ld={key:2,class:"space-y-4"},dd={class:"bg-white/5 rounded-lg p-4 font-mono text-sm break-all"},fd={class:"space-y-2"},hd={class:"flex items-center gap-2"},bd={class:"flex items-center gap-2"},pd={key:0,class:"text-sm text-slate-400"},md={class:"flex flex-col gap-2"},gd=["disabled"],yd=["disabled"],wd=["disabled"],vd=["disabled"],xd={class:"mt-2 pt-2 border-t border-white/10"},Pd={class:"flex flex-wrap gap-2 items-center"},$d=["disabled"],Cd=["disabled"],Ed=dt({__name:"DelegationCard",setup(e){const{status:t,loading:n,petterAddress:r,fetchStatus:s}=ia(),o=L(""),a=L(!1),i=L(!1),c=L(!1),u=async()=>{if(!r){alert("Petter address not configured");return}a.value=!0;try{const p=dr(r);if(!await bs(fe)){alert("Please connect your wallet first");return}await ms(fe,{address:bn,abi:pn,functionName:"setPetOperatorForAll",args:[p,!0]}),await s()}catch(p){console.error("Approve failed:",p),alert((p==null?void 0:p.message)||"Approval failed")}finally{a.value=!1}},l=async()=>{var p;i.value=!0;try{await $fetch("/api/delegation/register",{method:"POST"}),await s()}catch(m){alert(((p=m==null?void 0:m.data)==null?void 0:p.message)||(m==null?void 0:m.message)||"Registration failed")}finally{i.value=!1}},d=async()=>{r&&confirm("Revoke the current petter? You will need to approve again after updating the petter address.")&&await b(r.value)},h=p=>{confirm(`Revoke ${p} as petter for your gotchis?`)&&b(p)},f=async()=>{var m;const p=(m=o.value)==null?void 0:m.trim();if(!p||!p.startsWith("0x")){alert("Enter a valid address (0x...)");return}h(p),o.value=""},b=async p=>{c.value=!0;try{const m=dr(p);if(!await bs(fe)){alert("Please connect your wallet first");return}await ms(fe,{address:bn,abi:pn,functionName:"setPetOperatorForAll",args:[m,!1]}),p.toLowerCase()===(r==null?void 0:r.toLowerCase())&&await $fetch("/api/delegation/unregister",{method:"POST"}),await s(),alert("Revoked successfully.")}catch(m){console.error("Revoke failed:",m),alert((m==null?void 0:m.message)||"Revoke failed")}finally{c.value=!1}};return Vt(()=>{s()}),(p,m)=>{var C,v,x,_,g,P,y,E;return F(),B("div",ad,[w("div",id,[m[7]||(m[7]=w("h2",{class:"text-lg font-semibold mb-2"},"EIP PetOperator Delegation",-1)),m[8]||(m[8]=w("p",{class:"text-slate-400 text-sm mb-4"}," Keep your Aavegotchis in your wallet. Approve our petter to pet on your behalf—no transfer needed. ",-1)),te(n)?(F(),B("div",cd,[...m[2]||(m[2]=[w("p",{class:"text-slate-400"},"Loading...",-1)])])):te(t)?(F(),B("div",ld,[w("div",dd,[m[4]||(m[4]=w("span",{class:"text-slate-400"},"Petter address: ",-1)),Cs(" "+S(te(r)||"—"),1)]),w("div",fd,[w("div",hd,[w("span",{class:we(["w-3 h-3 rounded-full",(C=te(t))!=null&&C.approved?"bg-emerald-500":"bg-amber-500"])},null,2),w("span",null,S((v=te(t))!=null&&v.approved?"Approved":"Not approved"),1)]),w("div",bd,[w("span",{class:we(["w-3 h-3 rounded-full",(x=te(t))!=null&&x.registered?"bg-emerald-500":"bg-slate-500"])},null,2),w("span",null,S((_=te(t))!=null&&_.registered?"Registered":"Not registered"),1)]),((g=te(t))==null?void 0:g.gotchiCount)!==void 0?(F(),B("div",pd,S(te(t).gotchiCount)+" Aavegotchi(es) in your wallet ",1)):V("",!0)]),w("div",md,[(P=te(t))!=null&&P.approved?(y=te(t))!=null&&y.canRegister?(F(),B(Re,{key:1},[w("button",{onClick:l,disabled:i.value,class:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 font-medium"},S(i.value?"Registering...":"2. Register for Auto-Petting"),9,yd),w("button",{onClick:d,disabled:c.value,class:"px-4 py-2 text-slate-400 hover:text-white text-sm"},S(c.value?"Revoking...":"Revoke approval"),9,wd)],64)):(E=te(t))!=null&&E.registered?(F(),B(Re,{key:2},[m[6]||(m[6]=w("div",{class:"px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg text-sm border border-emerald-500/50"}," ✓ You're all set! Your Aavegotchis will be petted every 12 hours. ",-1)),w("button",{onClick:d,disabled:c.value,class:"px-4 py-2 bg-red-600/80 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 text-sm font-medium"},S(c.value?"Revoking...":"Revoke & Change Petter"),9,vd),w("div",xd,[m[5]||(m[5]=w("p",{class:"text-slate-400 text-xs mb-1"},"Revoke a different petter address:",-1)),w("div",Pd,[te(r)?(F(),B("button",{key:0,type:"button",onClick:m[0]||(m[0]=T=>h(te(r))),disabled:c.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke "+S(te(kl)(te(r))),9,$d)):V("",!0),da(w("input",{"onUpdate:modelValue":m[1]||(m[1]=T=>o.value=T),type:"text",placeholder:"0x...",class:"flex-1 min-w-[140px] bg-white/10 border border-white/20 rounded px-3 py-1.5 text-sm font-mono placeholder-slate-500"},null,512),[[fa,o.value]]),w("button",{type:"button",onClick:f,disabled:c.value||!o.value,class:"px-3 py-1.5 bg-red-600/60 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50"}," Revoke ",8,Cd)])])],64)):V("",!0):(F(),B("button",{key:0,onClick:u,disabled:a.value,class:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 font-medium"},S(a.value?"Confirm in wallet...":"1. Approve Petter (sign tx)"),9,gd))])])):(F(),B("div",ud,[...m[3]||(m[3]=[w("p",{class:"text-slate-400"},"Connect your wallet to view delegation status. If already connected, refresh the page.",-1)])]))])])}}}),Id={class:"delegation-list"},_d={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Ad={class:"flex items-center justify-between mb-4"},Td=["disabled"],kd={key:0,class:"text-center py-8 text-slate-400"},Sd={key:1,class:"text-center py-8 text-slate-400"},Fd={key:2,class:"space-y-4"},Bd={class:"flex flex-wrap items-center justify-between gap-2 text-sm text-slate-400 mb-2"},Md={class:"font-semibold text-white"},Rd=["disabled"],Od={class:"space-y-2 max-h-64 overflow-y-auto"},zd=["href"],jd={class:"text-emerald-400 font-medium ml-3 shrink-0"},Nd=dt({__name:"DelegationList",setup(e){const t=L([]),n=L(0),r=L(!1),s=L(!1),o=async()=>{var i;if(confirm("Unregister all delegates? The worker will stop petting for them. Each owner should revoke on-chain.")){s.value=!0;try{const c=await $fetch("/api/delegation/clear-all",{method:"POST"});alert(c.message),await a()}catch(c){alert(((i=c==null?void 0:c.data)==null?void 0:i.message)||(c==null?void 0:c.message)||"Failed to unregister all")}finally{s.value=!1}}},a=async()=>{r.value=!0;try{const i=await $fetch("/api/delegation/owners");t.value=i.owners||[],n.value=i.totalGotchis||0}catch(i){console.error("Failed to fetch delegation owners:",i),t.value=[],n.value=0}finally{r.value=!1}};return Vt(()=>{a(),Pt(a,6e4)}),(i,c)=>(F(),B("div",Id,[w("div",_d,[w("div",Ad,[c[0]||(c[0]=w("h2",{class:"text-lg font-semibold"},"Delegating Owners",-1)),w("button",{onClick:a,disabled:r.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},S(r.value?"Loading...":"Refresh"),9,Td)]),r.value&&t.value.length===0?(F(),B("div",kd,[...c[1]||(c[1]=[w("p",null,"Loading delegation list...",-1)])])):t.value.length===0?(F(),B("div",Sd,[...c[2]||(c[2]=[w("p",null,"No users have delegated petting yet",-1)])])):(F(),B("div",Fd,[w("div",Bd,[w("span",null,"Total: "+S(t.value.length)+" owner(s)",1),w("span",Md,S(n.value)+" Aavegotchis to pet",1),t.value.length>0?(F(),B("button",{key:0,type:"button",onClick:o,disabled:s.value,class:"px-3 py-1.5 text-sm bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition disabled:opacity-50"},S(s.value?"Clearing...":"Unregister all"),9,Rd)):V("",!0)]),w("div",Od,[(F(!0),B(Re,null,on(t.value,u=>(F(),B("div",{key:u.address,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[w("a",{href:`https://basescan.org/address/${u.address}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate flex-1 min-w-0"},S(u.address.slice(0,6))+"..."+S(u.address.slice(-4)),9,zd),w("span",jd,S(u.gotchiCount)+" gotchi"+S(u.gotchiCount!==1?"s":""),1)]))),128))])]))])]))}}),Ld={class:"home-dashboard min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white p-4 md:p-8"},Gd={class:"max-w-6xl mx-auto space-y-6"},Dd={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Ud={class:"text-slate-400 mt-1"},Hd={class:"flex items-center gap-3"},qd={class:"text-sm font-medium"},Vd={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},Wd={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Kd={class:"text-xl font-bold mt-1 font-mono"},Zd={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Jd={class:"text-xl font-bold mt-1"},Yd={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Xd={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},Qd={class:"text-xl font-bold mt-1"},ef={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-4"},tf={class:"flex items-center justify-between gap-2"},nf={class:"text-xl font-bold mt-1 font-mono"},rf=["disabled"],sf={key:0,class:"grid md:grid-cols-2 gap-6"},of={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},af={class:"flex items-center justify-between mb-4"},cf=["disabled"],uf={class:"space-y-3"},lf={class:"font-mono text-sm break-all mt-1"},df={class:"font-mono text-lg font-bold mt-1"},ff={key:0,class:"text-slate-500 text-xs mt-0.5"},hf={class:"font-mono text-lg font-bold mt-1"},bf={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},pf={class:"space-y-3"},mf={class:"mt-1"},gf={key:0},yf={class:"text-slate-300 text-sm mt-1"},wf={key:1},vf={class:"text-red-400 text-sm mt-1 truncate"},xf={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Pf={class:"flex items-center justify-between mb-4"},$f={key:0,class:"flex gap-2"},Cf=["disabled"],Ef=["disabled"],If={key:0,class:"text-center py-12 text-slate-400"},_f={key:1,class:"text-center py-12 text-slate-400"},Af={key:2,class:"text-center py-12 text-slate-400"},Tf={key:3,class:"space-y-3 max-h-64 overflow-y-auto"},kf={class:"flex-1 min-w-0"},Sf=["href"],Ff={class:"text-slate-400 text-xs mt-1"},Bf={key:0,class:"text-slate-500"},Mf={class:"text-slate-200 text-sm font-medium truncate"},Rf={class:"text-slate-400 text-xs mt-1"},Of={key:1,class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},zf={class:"flex flex-wrap gap-3"},jf=["disabled"],Nf=["disabled"],Lf={key:2,class:"grid md:grid-cols-2 gap-6 mt-6"},Gf={key:3,class:"mt-6"},Df={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Uf={class:"flex flex-wrap items-center gap-4"},Hf={class:"flex items-center gap-2"},qf=["value","disabled"],Vf=["value"],Wf={key:0,class:"text-slate-400 text-sm"},Kf=["disabled"],Zf={key:2,class:"text-amber-400 text-sm font-medium"},Jf={key:4,class:"mt-6"},Yf={key:5,class:"mt-6"},Xf={class:"bg-white/5 backdrop-blur border border-white/10 rounded-xl p-6"},Qf={class:"flex items-center justify-between mb-4"},eh=["disabled"],th={key:0,class:"text-center py-8 text-slate-400"},nh={key:1,class:"text-center py-8 text-slate-400"},rh={key:2,class:"space-y-1.5 max-h-80 overflow-y-auto font-mono text-xs"},sh={class:"text-slate-500 shrink-0"},oh={class:"break-all"},ah=dt({__name:"HomeDashboard",setup(e){const t=fr(),n=Ye(()=>t.public.workerEnabled===!0),r=L(null),s=L([]),{fetchStatus:o,petterAddress:a}=ia(),i=L(null),c=L(null),u=L(!1),l=L(null),d=L([]),h=L(12),f=L(!1),b=L(null);let p=null;const m=L(!0),C=L(!1),v=L(!1),x=L(!1),_=L(!1),g=L(!1),P=L(!1),y=L(!1),E=Ye(()=>{var A,I,U,H,q,ge,N,Je;return{running:((I=(A=r.value)==null?void 0:A.bot)==null?void 0:I.running)??!1,lastRun:((H=(U=r.value)==null?void 0:U.bot)==null?void 0:H.lastRun)??null,lastError:((ge=(q=r.value)==null?void 0:q.bot)==null?void 0:ge.lastError)??null,lastRunMessage:((Je=(N=r.value)==null?void 0:N.bot)==null?void 0:Je.lastRunMessage)??null}}),T=Ye(()=>{var A;return((A=r.value)==null?void 0:A.stats)??{successRate:100}}),z=Ye(()=>{var Hr,qr;const A=(qr=(Hr=r.value)==null?void 0:Hr.bot)==null?void 0:qr.lastRun;if(!A)return"—";const I=new Date(A).getTime(),U=h.value*60*60*1e3,H=I+U,q=Date.now();if(q>=H)return"Ready";const ge=H-q,N=Math.floor(ge/36e5),Je=Math.floor(ge%36e5/6e4);return`${N}h ${Je}m`}),R=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],j=Ye(()=>{const A=h.value;return A<1/60?`Every ${Math.round(A*3600)} sec (test)`:A<1?`Every ${Math.round(A*60)} min`:`Every ${A} ${A===1?"hour":"hours"}`}),O=Ye(()=>{var I;const A=((I=T.value)==null?void 0:I.successRate)??100;return A>=95?"text-emerald-400":A>=80?"text-amber-400":"text-red-400"}),D=async()=>{try{const A=await $fetch("/api/health");r.value=A}catch(A){console.error("Failed to fetch health:",A)}},M=async()=>{if(y.value){C.value=!0;try{const A=await $fetch("/api/transactions",{query:{limit:20}});s.value=A}catch(A){console.error("Failed to fetch history:",A)}finally{C.value=!1}}},X=async()=>{if(!(!y.value||!confirm("Clear all execution history? This cannot be undone."))){v.value=!0;try{await $fetch("/api/transactions/clear",{method:"POST"}),s.value=[],await D()}catch(A){console.error("Failed to clear history:",A),alert("Failed to clear execution history")}finally{v.value=!1}}},Z=async()=>{var A,I;if(y.value){_.value=!0;try{const U=await $fetch("/api/bot/trigger"),H=U.diagnostic;if(H){const q=[`Petter key: ${H.hasPetterKey?"✓":"✗ MISSING"}`,`KV: ${H.hasKv?H.kvOk?"✓":"✗ connection failed":"✗ MISSING"}`,`Ready: ${H.readyToTrigger?"Yes":"No"}`];(A=H.issues)!=null&&A.length&&q.push("","Fix:",...H.issues),alert(q.join(`
`))}else alert(U.error||U.hint||"Check failed")}catch(U){const H=U;alert(((I=H==null?void 0:H.data)==null?void 0:I.error)??(H==null?void 0:H.message)??"Failed to check config")}finally{_.value=!1}}},J=async()=>{var A;if(y.value){x.value=!0;try{const I=await $fetch("/api/bot/trigger",{method:"POST",body:{force:!0}});if(!I.success&&I.error){alert(I.error);return}const U=(A=I==null?void 0:I.result)==null?void 0:A.message;alert(U||"Petting completed!"),await M(),await D(),n.value&&await W()}catch(I){console.error("Manual pet failed:",I),alert(Ur(I,"Failed to trigger petting"))}finally{x.value=!1}}},ee=async()=>{if(y.value){P.value=!0;try{const A=await $fetch("/api/transactions/backfill-gas",{method:"POST"});A.ok&&A.updated>0&&(await D(),await M())}catch(A){console.error("Backfill gas failed:",A)}finally{P.value=!1}}},W=async()=>{if(y.value){g.value=!0;try{const A=await $fetch("/api/bot/logs",{query:{limit:100}});d.value=A}catch(A){console.error("Failed to fetch worker logs:",A),d.value=[]}finally{g.value=!1}}},de=async()=>{if(y.value)try{const A=await $fetch("/api/bot/frequency");h.value=A.pettingIntervalHours}catch{h.value=12}},oe=async A=>{if(y.value&&!(A<30/3600||A>24)){f.value=!0;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:A}}),h.value=A}catch(I){console.error("Failed to set frequency:",I),alert("Failed to update petting frequency")}finally{f.value=!1}}},$e=async A=>{var H;if(!y.value||f.value||b.value!=null||x.value)return;f.value=!0;const I=A/3600,U=12;try{await $fetch("/api/bot/frequency",{method:"POST",body:{pettingIntervalHours:I}}),h.value=I,b.value=A;try{const q=await $fetch("/api/bot/trigger",{method:"POST",body:{force:!0}});!q.success&&q.error?alert(q.error):(H=q==null?void 0:q.result)!=null&&H.message&&alert(q.result.message),await M(),await D(),n.value&&await W()}catch(q){console.error("Test pet failed:",q),alert(Ur(q,"Pet failed"))}p&&clearInterval(p),p=Pt(()=>{b.value!=null&&(b.value-=1,b.value<=0&&(p&&clearInterval(p),p=null,b.value=null,oe(U)))},1e3)}catch(q){console.error("Failed to start test mode:",q),alert("Failed to start test mode")}finally{f.value=!1}},Ce=async()=>{u.value=!0;try{const A=await $fetch("/api/petter-balance");i.value=A.balance,c.value=A.balanceAddress}catch{i.value="—",c.value=null}finally{u.value=!1}},mt=async()=>{try{const A=await $fetch("/api/delegation/owners");l.value=A.totalGotchis??0}catch{l.value=null}},me=async()=>{try{const A=await $fetch("/api/auth/check");y.value=A.authenticated}catch{y.value=!1}},ca=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),await na(fe),y.value=!1,window.location.href="/"}catch(A){console.error("Failed to logout:",A),y.value=!1,window.location.href="/"}};function Ur(A,I){var q,ge;if(!A)return I;const U=A,H=((q=U==null?void 0:U.data)==null?void 0:q.error)??((ge=U==null?void 0:U.data)==null?void 0:ge.message)??(U==null?void 0:U.statusMessage)??(U==null?void 0:U.message);return typeof H=="string"&&H.length>0?H:A instanceof Error&&A.message?A.message:I}const In=A=>{if(!A)return"—";const I=typeof A=="string"?new Date(A).getTime():A;return new Date(I).toLocaleString()},ua=A=>new Date(A).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),_n=A=>A==null||A===0?"—":A<1e-4?"<0.0001 ETH":`${A.toFixed(4)} ETH`;return ha(()=>{p&&clearInterval(p)}),Vt(async()=>{if(await me(),await D(),y.value){const A=[M(),o(),Ce(),mt(),de()];n.value&&A.push(W()),await Promise.all(A)}m.value=!1,Pt(D,3e4),y.value&&Pt(()=>{const A=[M(),Ce(),mt(),de()];return n.value&&A.push(W()),Promise.all(A)},6e4)}),(A,I)=>{const U=Ul,H=sd,q=Ed,ge=Nd;return F(),B("div",Ld,[w("div",Gd,[w("div",Dd,[w("div",null,[I[3]||(I[3]=w("h1",{class:"text-3xl md:text-4xl font-bold tracking-tight"},"Aavegotchi Petter",-1)),w("p",Ud,"Automated petting on Base • "+S(j.value),1)]),w("div",Hd,[w("div",{class:we(["flex items-center gap-2 px-4 py-2 rounded-lg",E.value.running?"bg-emerald-500/20 border border-emerald-500/50":"bg-amber-500/20 border border-amber-500/50"])},[w("div",{class:we(["w-2 h-2 rounded-full animate-pulse",E.value.running?"bg-emerald-400":"bg-amber-400"])},null,2),w("span",qd,S(E.value.running?"Running":"Stopped"),1)],2),y.value?(F(),B("button",{key:0,onClick:ca,class:"px-4 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-sm font-medium transition"}," Logout ")):(F(),Es(U,{key:1}))])]),w("div",Vd,[w("div",Wd,[I[4]||(I[4]=w("p",{class:"text-slate-400 text-sm"},"Next Pet",-1)),w("p",Kd,S(z.value),1)]),w("div",Zd,[I[5]||(I[5]=w("p",{class:"text-slate-400 text-sm"},"Total Petted",-1)),w("p",Jd,S(T.value.totalAavegotchisPetted??0),1)]),w("div",Yd,[I[6]||(I[6]=w("p",{class:"text-slate-400 text-sm"},"Success Rate",-1)),w("p",{class:we(["text-xl font-bold mt-1",O.value])},S(T.value.successRate??100)+"%",3)]),w("div",Xd,[I[7]||(I[7]=w("p",{class:"text-slate-400 text-sm"},"Last 24h",-1)),w("p",Qd,S(T.value.transactionsLast24h??0),1)]),w("div",ef,[w("div",tf,[w("div",null,[I[8]||(I[8]=w("p",{class:"text-slate-400 text-sm"},"Gas Cost",-1)),w("p",nf,S(_n(T.value.totalGasCostEth)),1)]),y.value&&_n(T.value.totalGasCostEth)==="—"?(F(),B("button",{key:0,onClick:ee,disabled:P.value,class:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 rounded transition disabled:opacity-50 shrink-0"},S(P.value?"...":"Look up"),9,rf)):V("",!0)])])]),y.value?(F(),B("div",sf,[w("div",of,[w("div",af,[I[9]||(I[9]=w("h2",{class:"text-lg font-semibold"},"Petter Wallet",-1)),w("button",{onClick:Ce,disabled:u.value,class:"px-2 py-1 text-xs bg-white/10 hover:bg-white/20 rounded transition disabled:opacity-50"},S(u.value?"...":"Refresh"),9,cf)]),w("div",uf,[w("div",null,[I[10]||(I[10]=w("p",{class:"text-slate-400 text-sm"},"Address",-1)),w("p",lf,S(te(a)||"—"),1)]),w("div",null,[I[11]||(I[11]=w("p",{class:"text-slate-400 text-sm"},"Balance (ETH)",-1)),w("p",df,S(i.value??"—"),1),c.value?(F(),B("p",ff," from "+S(c.value.slice(0,10))+"..."+S(c.value.slice(-8)),1)):V("",!0)]),w("div",null,[I[12]||(I[12]=w("p",{class:"text-slate-400 text-sm"},"Gotchis Delegated",-1)),w("p",hf,S(l.value??"—"),1)])])]),w("div",bf,[I[16]||(I[16]=w("h2",{class:"text-lg font-semibold mb-4"},"Bot Status",-1)),w("div",pf,[w("div",null,[I[13]||(I[13]=w("p",{class:"text-slate-400 text-sm"},"Last Run",-1)),w("p",mf,S(In(E.value.lastRun)),1)]),E.value.lastRunMessage&&!E.value.lastError?(F(),B("div",gf,[I[14]||(I[14]=w("p",{class:"text-slate-400 text-sm"},"Last Outcome",-1)),w("p",yf,S(E.value.lastRunMessage),1)])):V("",!0),E.value.lastError?(F(),B("div",wf,[I[15]||(I[15]=w("p",{class:"text-slate-400 text-sm"},"Last Error",-1)),w("p",vf,S(E.value.lastError),1)])):V("",!0)])])])):V("",!0),w("div",xf,[w("div",Pf,[I[17]||(I[17]=w("h2",{class:"text-lg font-semibold"},"Execution History",-1)),y.value?(F(),B("div",$f,[s.value.length>0?(F(),B("button",{key:0,onClick:X,disabled:v.value,class:"px-3 py-1.5 text-sm bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition disabled:opacity-50"},S(v.value?"Clearing...":"Clear"),9,Cf)):V("",!0),w("button",{onClick:M,disabled:C.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"}," Refresh ",8,Ef)])):V("",!0)]),y.value?C.value?(F(),B("div",_f,[...I[19]||(I[19]=[w("p",null,"Loading...",-1)])])):s.value.length===0?(F(),B("div",Af,[...I[20]||(I[20]=[w("p",null,"No executions yet",-1)])])):(F(),B("div",Tf,[(F(!0),B(Re,null,on(s.value,N=>(F(),B("div",{key:N.type==="transaction"?N.hash:N.id,class:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition"},[w("div",kf,[N.type==="transaction"?(F(),B(Re,{key:0},[w("a",{href:`https://basescan.org/tx/${N.hash}`,target:"_blank",rel:"noopener noreferrer",class:"font-mono text-sm text-blue-400 hover:text-blue-300 truncate block"},S(N.hash.slice(0,10))+"..."+S(N.hash.slice(-8)),9,Sf),w("p",Ff,[Cs(S(In(N.timestamp))+" • "+S(N.tokenIds.length)+" petted ",1),N.gasCostWei?(F(),B("span",Bf," • "+S(_n(Number(BigInt(N.gasCostWei))/1e18)),1)):V("",!0)])],64)):(F(),B(Re,{key:1},[w("p",Mf,S(N.message),1),w("p",Rf,S(In(N.timestamp))+S(N.petted!=null?` • ${N.petted} petted`:""),1)],64))]),w("span",{class:we(["text-xs font-medium ml-2",N.type==="manual"?"text-amber-400":"text-emerald-400"])},S(N.type==="manual"?"Manual":"Success"),3)]))),128))])):(F(),B("div",If,[...I[18]||(I[18]=[w("p",null,"Connect wallet to view execution history",-1)])]))]),y.value?(F(),B("div",Of,[I[21]||(I[21]=w("h2",{class:"text-lg font-semibold mb-2"},"Manual Pet",-1)),I[22]||(I[22]=w("p",{class:"text-slate-400 text-sm mb-4"}," Trigger a petting run now for all delegated gotchis. Skips the 12h cooldown. Use this to test the petter. ",-1)),w("div",zf,[w("button",{onClick:J,disabled:x.value,class:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"},S(x.value?"Petting...":"Pet All Gotchis Now"),9,jf),w("button",{onClick:Z,disabled:_.value,class:"px-4 py-3 bg-white/10 hover:bg-white/20 text-white font-medium rounded-lg transition disabled:opacity-50 text-sm"},S(_.value?"Checking...":"Check config"),9,Nf)])])):V("",!0),y.value?(F(),B("div",Lf,[An(H,{onTriggered:I[0]||(I[0]=()=>{M(),W()})}),An(q)])):V("",!0),y.value?(F(),B("div",Gf,[w("div",Df,[I[24]||(I[24]=w("h2",{class:"text-lg font-semibold mb-4"},"Petting Timer",-1)),I[25]||(I[25]=w("p",{class:"text-slate-400 text-sm mb-4"}," How often the bot checks and pets your Aavegotchis. Gotchis need petting at least every 12 hours for kinship. ",-1)),w("div",Uf,[w("label",Hf,[I[23]||(I[23]=w("span",{class:"text-slate-300 text-sm"},"Interval:",-1)),w("select",{value:h.value,disabled:f.value||b.value!=null,onChange:I[1]||(I[1]=N=>oe(Number(N.target.value))),class:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50"},[(F(),B(Re,null,on(R,N=>w("option",{key:N,value:N}," Every "+S(N)+" "+S(N===1?"hour":"hours"),9,Vf)),64))],40,qf)]),f.value?(F(),B("span",Wf,"Saving...")):V("",!0),b.value?(F(),B("span",Zf," Reverting in "+S(b.value)+"s... ",1)):(F(),B("button",{key:1,type:"button",onClick:I[2]||(I[2]=N=>$e(60)),disabled:f.value||x.value,class:"px-4 py-2 text-sm bg-amber-600/80 hover:bg-amber-600 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"}," Test (1 min) ",8,Kf))]),I[26]||(I[26]=w("p",{class:"text-slate-500 text-xs mt-3"}," Test (1 min): Sets interval to 1 min, triggers a pet now, then reverts to 12h after 60 seconds. ",-1))])])):V("",!0),y.value?(F(),B("div",Jf,[An(ge)])):V("",!0),y.value&&n.value?(F(),B("div",Yf,[w("div",Xf,[w("div",Qf,[I[27]||(I[27]=w("h2",{class:"text-lg font-semibold"},"Worker Logs",-1)),w("button",{onClick:W,disabled:g.value,class:"px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-sm transition disabled:opacity-50"},S(g.value?"Loading...":"Refresh"),9,eh)]),g.value&&d.value.length===0?(F(),B("div",th,[...I[28]||(I[28]=[w("p",null,"Loading worker logs...",-1)])])):d.value.length===0?(F(),B("div",nh,[...I[29]||(I[29]=[w("p",null,"No worker logs yet. Trigger a run to see logs.",-1)])])):(F(),B("div",rh,[(F(!0),B(Re,null,on(d.value,(N,Je)=>(F(),B("div",{key:`${N.timestamp}-${Je}`,class:we(["flex items-start gap-2 py-1.5 px-2 rounded hover:bg-white/5",{"text-slate-300":N.level==="info","text-amber-400":N.level==="warn","text-red-400":N.level==="error"}])},[w("span",sh,S(ua(N.timestamp)),1),w("span",{class:we(["shrink-0 w-10",{"text-amber-400":N.level==="warn","text-red-400":N.level==="error"}])}," ["+S(N.level.toUpperCase())+"] ",3),w("span",oh,S(N.message),1)],2))),128))]))])])):V("",!0)])])}}}),ih=dt({__name:"index",setup(e){return(t,n)=>{const r=ah;return F(),Es(r)}}}),yh=Object.freeze(Object.defineProperty({__proto__:null,default:ih},Symbol.toStringTag,{value:"Module"}));export{fh as A,$ as B,ln as C,gh as D,mh as E,Mu as F,yh as G,xt as H,Ea as I,dh as a,lh as b,Se as c,qs as d,Hs as e,rt as f,Cr as g,un as h,va as i,uh as j,Ec as k,Ir as l,ie as m,_c as n,Zu as o,uu as p,he as q,je as r,Ct as s,$r as t,Ms as u,ph as v,gr as w,$t as x,dn as y,st as z};
