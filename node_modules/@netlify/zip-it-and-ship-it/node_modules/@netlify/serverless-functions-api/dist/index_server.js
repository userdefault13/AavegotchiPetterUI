import{createRequire}from"module";const require=createRequire(import.meta.url);
var vf=Object.create;var Rr=Object.defineProperty;var Tf=Object.getOwnPropertyDescriptor;var Cf=Object.getOwnPropertyNames;var Rf=Object.getPrototypeOf,Df=Object.prototype.hasOwnProperty;var Ji=e=>{throw TypeError(e)};var L=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Xi=(e,t)=>()=>(e&&(t=e(e=0)),t);var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Zi=(e,t)=>{for(var r in t)Rr(e,r,{get:t[r],enumerable:!0})},Qi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Cf(t))!Df.call(e,s)&&s!==r&&Rr(e,s,{get:()=>t[s],enumerable:!(n=Tf(t,s))||n.enumerable});return e};var Of=(e,t,r)=>(r=e!=null?vf(Rf(e)):{},Qi(t||!e||!e.__esModule?Rr(r,"default",{value:e,enumerable:!0}):r,e)),bt=e=>Qi(Rr({},"__esModule",{value:!0}),e);var Gn=(e,t,r)=>t.has(e)||Ji("Cannot "+r);var u=(e,t,r)=>(Gn(e,t,"read from private field"),r?r.call(e):t.get(e)),U=(e,t,r)=>t.has(e)?Ji("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,n)=>(Gn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),h=(e,t,r)=>(Gn(e,t,"access private method"),r);var Kn=A((wb,io)=>{function Uf(){return Object.keys(globalThis).some(e=>e.startsWith("__NEXT"))}io.exports=function(){return!!(globalThis.Deno||globalThis.Bun||Uf())}});var Ho=A((Sb,Mo)=>{"use strict";var Ur=Object.defineProperty,Nf=Object.getOwnPropertyDescriptor,$f=Object.getOwnPropertyNames,qf=Object.prototype.hasOwnProperty,R=(e,t)=>Ur(e,"name",{value:t,configurable:!0}),Mf=(e,t)=>{for(var r in t)Ur(e,r,{get:t[r],enumerable:!0})},Hf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of $f(t))!qf.call(e,s)&&s!==r&&Ur(e,s,{get:()=>t[s],enumerable:!(n=Nf(t,s))||n.enumerable});return e},zf=e=>Hf(Ur({},"__esModule",{value:!0}),e),co={};Mf(co,{URLPattern:()=>qo});Mo.exports=zf(co);var xt=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(e,t,r,n,s,i){this.type=e,this.name=t,this.prefix=r,this.value=n,this.suffix=s,this.modifier=i}hasCustomName(){return this.name!==""&&typeof this.name!="number"}};R(xt,"Part");var Wf=/[$_\p{ID_Start}]/u,Gf=/[$_\u200C\u200D\p{ID_Continue}]/u,Jn=".*";function lo(e,t){return(t?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(e)}R(lo,"isASCII");function ts(e,t=!1){let r=[],n=0;for(;n<e.length;){let s=e[n],i=R(function(o){if(!t)throw new TypeError(o);r.push({type:"INVALID_CHAR",index:n,value:e[n++]})},"ErrorOrInvalid");if(s==="*"){r.push({type:"ASTERISK",index:n,value:e[n++]});continue}if(s==="+"||s==="?"){r.push({type:"OTHER_MODIFIER",index:n,value:e[n++]});continue}if(s==="\\"){r.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(s==="{"){r.push({type:"OPEN",index:n,value:e[n++]});continue}if(s==="}"){r.push({type:"CLOSE",index:n,value:e[n++]});continue}if(s===":"){let o="",a=n+1;for(;a<e.length;){let l=e.substr(a,1);if(a===n+1&&Wf.test(l)||a!==n+1&&Gf.test(l)){o+=e[a++];continue}break}if(!o){i(`Missing parameter name at ${n}`);continue}r.push({type:"NAME",index:n,value:o}),n=a;continue}if(s==="("){let o=1,a="",l=n+1,c=!1;if(e[l]==="?"){i(`Pattern cannot start with "?" at ${l}`);continue}for(;l<e.length;){if(!lo(e[l],!1)){i(`Invalid character '${e[l]}' at ${l}.`),c=!0;break}if(e[l]==="\\"){a+=e[l++]+e[l++];continue}if(e[l]===")"){if(o--,o===0){l++;break}}else if(e[l]==="("&&(o++,e[l+1]!=="?")){i(`Capturing groups are not allowed at ${l}`),c=!0;break}a+=e[l++]}if(c)continue;if(o){i(`Unbalanced pattern at ${n}`);continue}if(!a){i(`Missing pattern at ${n}`);continue}r.push({type:"REGEX",index:n,value:a}),n=l;continue}r.push({type:"CHAR",index:n,value:e[n++]})}return r.push({type:"END",index:n,value:""}),r}R(ts,"lexer");function rs(e,t={}){let r=ts(e);t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./");let n=`[^${me(t.delimiter)}]+?`,s=[],i=0,o=0,a="",l=new Set,c=R(P=>{if(o<r.length&&r[o].type===P)return r[o++].value},"tryConsume"),f=R(()=>c("OTHER_MODIFIER")??c("ASTERISK"),"tryConsumeModifier"),d=R(P=>{let O=c(P);if(O!==void 0)return O;let{type:S,index:T}=r[o];throw new TypeError(`Unexpected ${S} at ${T}, expected ${P}`)},"mustConsume"),_=R(()=>{let P="",O;for(;O=c("CHAR")??c("ESCAPED_CHAR");)P+=O;return P},"consumeText"),p=R(P=>P,"DefaultEncodePart"),x=t.encodePart||p,w="",k=R(P=>{w+=P},"appendToPendingFixedValue"),C=R(()=>{w.length&&(s.push(new xt(3,"","",x(w),"",3)),w="")},"maybeAddPartFromPendingFixedValue"),N=R((P,O,S,T,F)=>{let m=3;switch(F){case"?":m=1;break;case"*":m=0;break;case"+":m=2;break}if(!O&&!S&&m===3){k(P);return}if(C(),!O&&!S){if(!P)return;s.push(new xt(3,"","",x(P),"",m));return}let g;S?S==="*"?g=Jn:g=S:g=n;let E=2;g===n?(E=1,g=""):g===Jn&&(E=0,g="");let v;if(O?v=O:S&&(v=i++),l.has(v))throw new TypeError(`Duplicate name '${v}'.`);l.add(v),s.push(new xt(E,v,x(P),g,x(T),m))},"addPart");for(;o<r.length;){let P=c("CHAR"),O=c("NAME"),S=c("REGEX");if(!O&&!S&&(S=c("ASTERISK")),O||S){let F=P??"";t.prefixes.indexOf(F)===-1&&(k(F),F=""),C();let m=f();N(F,O,S,"",m);continue}let T=P??c("ESCAPED_CHAR");if(T){k(T);continue}if(c("OPEN")){let F=_(),m=c("NAME"),g=c("REGEX");!m&&!g&&(g=c("ASTERISK"));let E=_();d("CLOSE");let v=f();N(F,m,g,E,v);continue}C(),d("END")}return s}R(rs,"parse");function me(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}R(me,"escapeString");function Xn(e){return e&&e.ignoreCase?"ui":"u"}R(Xn,"flags");function uo(e,t,r){return ns(rs(e,r),t,r)}R(uo,"stringToRegexp");function nt(e){switch(e){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}R(nt,"modifierToString");function ns(e,t,r={}){r.delimiter??(r.delimiter="/#?"),r.prefixes??(r.prefixes="./"),r.sensitive??(r.sensitive=!1),r.strict??(r.strict=!1),r.end??(r.end=!0),r.start??(r.start=!0),r.endsWith="";let n=r.start?"^":"";for(let a of e){if(a.type===3){a.modifier===3?n+=me(a.value):n+=`(?:${me(a.value)})${nt(a.modifier)}`;continue}t&&t.push(a.name);let l=`[^${me(r.delimiter)}]+?`,c=a.value;if(a.type===1?c=l:a.type===0&&(c=Jn),!a.prefix.length&&!a.suffix.length){a.modifier===3||a.modifier===1?n+=`(${c})${nt(a.modifier)}`:n+=`((?:${c})${nt(a.modifier)})`;continue}if(a.modifier===3||a.modifier===1){n+=`(?:${me(a.prefix)}(${c})${me(a.suffix)})`,n+=nt(a.modifier);continue}n+=`(?:${me(a.prefix)}`,n+=`((?:${c})(?:`,n+=me(a.suffix),n+=me(a.prefix),n+=`(?:${c}))*)${me(a.suffix)})`,a.modifier===0&&(n+="?")}let s=`[${me(r.endsWith)}]|$`,i=`[${me(r.delimiter)}]`;if(r.end)return r.strict||(n+=`${i}?`),r.endsWith.length?n+=`(?=${s})`:n+="$",new RegExp(n,Xn(r));r.strict||(n+=`(?:${i}(?=${s}))?`);let o=!1;if(e.length){let a=e[e.length-1];a.type===3&&a.modifier===3&&(o=r.delimiter.indexOf(a)>-1)}return o||(n+=`(?=${i}|${s})`),new RegExp(n,Xn(r))}R(ns,"partsToRegexp");var Ve={delimiter:"",prefixes:"",sensitive:!0,strict:!0},Vf={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Kf={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function fo(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\"||e[0]=="{")&&e[1]=="/":!1}R(fo,"isAbsolutePathname");function ss(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}R(ss,"maybeStripPrefix");function ho(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}R(ho,"maybeStripSuffix");function is(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\"||e[0]==="{")&&e[1]==="["}R(is,"treatAsIPv6Hostname");var po=["ftp","file","http","https","ws","wss"];function os(e){if(!e)return!0;for(let t of po)if(e.test(t))return!0;return!1}R(os,"isSpecialScheme");function mo(e,t){if(e=ss(e,"#"),t||e==="")return e;let r=new URL("https://example.com");return r.hash=e,r.hash?r.hash.substring(1,r.hash.length):""}R(mo,"canonicalizeHash");function bo(e,t){if(e=ss(e,"?"),t||e==="")return e;let r=new URL("https://example.com");return r.search=e,r.search?r.search.substring(1,r.search.length):""}R(bo,"canonicalizeSearch");function yo(e,t){return t||e===""?e:is(e)?ls(e):cs(e)}R(yo,"canonicalizeHostname");function go(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.password=e,r.password}R(go,"canonicalizePassword");function _o(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.username=e,r.username}R(_o,"canonicalizeUsername");function xo(e,t,r){if(r||e==="")return e;if(t&&!po.includes(t))return new URL(`${t}:${e}`).pathname;let n=e[0]=="/";return e=new URL(n?e:"/-"+e,"https://example.com").pathname,n||(e=e.substring(2,e.length)),e}R(xo,"canonicalizePathname");function wo(e,t,r){return as(t)===e&&(e=""),r||e===""?e:us(e)}R(wo,"canonicalizePort");function So(e,t){return e=ho(e,":"),t||e===""?e:Nr(e)}R(So,"canonicalizeProtocol");function as(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}R(as,"defaultPortForProtocol");function Nr(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}R(Nr,"protocolEncodeCallback");function Po(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}R(Po,"usernameEncodeCallback");function Eo(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}R(Eo,"passwordEncodeCallback");function cs(e){if(e==="")return e;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}R(cs,"hostnameEncodeCallback");function ls(e){if(e==="")return e;if(/[^0-9a-fA-F[\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}R(ls,"ipv6HostnameEncodeCallback");function us(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}R(us,"portEncodeCallback");function ko(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}R(ko,"standardURLPathnameEncodeCallback");function vo(e){return e===""?e:new URL(`data:${e}`).pathname}R(vo,"pathURLPathnameEncodeCallback");function To(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}R(To,"searchEncodeCallback");function Co(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}R(Co,"hashEncodeCallback");var wt,le,Q,M,st,St,be,Pt,Et,kt,b,K,Do,Zn,tr,jr,we,Qn,Oo,Ir,Lo,Ao,Br,yt,rt,Fo,jo,Io,Bo,De,Uo,oo,Ro=(oo=class{constructor(e){U(this,b);U(this,wt);U(this,le,[]);U(this,Q,{});U(this,M,0);U(this,st,1);U(this,St,0);U(this,be,0);U(this,Pt,0);U(this,Et,0);U(this,kt,!1);B(this,wt,e)}get result(){return u(this,Q)}parse(){for(B(this,le,ts(u(this,wt),!0));u(this,M)<u(this,le).length;B(this,M,u(this,M)+u(this,st))){if(B(this,st,1),u(this,le)[u(this,M)].type==="END"){if(u(this,be)===0){h(this,b,Zn).call(this),h(this,b,rt).call(this)?h(this,b,K).call(this,9,1):h(this,b,yt).call(this)?h(this,b,K).call(this,8,1):h(this,b,K).call(this,7,0);continue}else if(u(this,be)===2){h(this,b,tr).call(this,5);continue}h(this,b,K).call(this,10,0);break}if(u(this,Pt)>0)if(h(this,b,jo).call(this))B(this,Pt,u(this,Pt)-1);else continue;if(h(this,b,Fo).call(this)){B(this,Pt,u(this,Pt)+1);continue}switch(u(this,be)){case 0:h(this,b,Qn).call(this)&&h(this,b,tr).call(this,1);break;case 1:if(h(this,b,Qn).call(this)){h(this,b,Uo).call(this);let e=7,t=1;h(this,b,Oo).call(this)?(e=2,t=3):u(this,kt)&&(e=2),h(this,b,K).call(this,e,t)}break;case 2:h(this,b,Ir).call(this)?h(this,b,tr).call(this,3):(h(this,b,Br).call(this)||h(this,b,yt).call(this)||h(this,b,rt).call(this))&&h(this,b,tr).call(this,5);break;case 3:h(this,b,Lo).call(this)?h(this,b,K).call(this,4,1):h(this,b,Ir).call(this)&&h(this,b,K).call(this,5,1);break;case 4:h(this,b,Ir).call(this)&&h(this,b,K).call(this,5,1);break;case 5:h(this,b,Io).call(this)?B(this,Et,u(this,Et)+1):h(this,b,Bo).call(this)&&B(this,Et,u(this,Et)-1),h(this,b,Ao).call(this)&&!u(this,Et)?h(this,b,K).call(this,6,1):h(this,b,Br).call(this)?h(this,b,K).call(this,7,0):h(this,b,yt).call(this)?h(this,b,K).call(this,8,1):h(this,b,rt).call(this)&&h(this,b,K).call(this,9,1);break;case 6:h(this,b,Br).call(this)?h(this,b,K).call(this,7,0):h(this,b,yt).call(this)?h(this,b,K).call(this,8,1):h(this,b,rt).call(this)&&h(this,b,K).call(this,9,1);break;case 7:h(this,b,yt).call(this)?h(this,b,K).call(this,8,1):h(this,b,rt).call(this)&&h(this,b,K).call(this,9,1);break;case 8:h(this,b,rt).call(this)&&h(this,b,K).call(this,9,1);break;case 9:break;case 10:break}}u(this,Q).hostname!==void 0&&u(this,Q).port===void 0&&(u(this,Q).port="")}},wt=new WeakMap,le=new WeakMap,Q=new WeakMap,M=new WeakMap,st=new WeakMap,St=new WeakMap,be=new WeakMap,Pt=new WeakMap,Et=new WeakMap,kt=new WeakMap,b=new WeakSet,K=function(e,t){var r,n,s;switch(u(this,be)){case 0:break;case 1:u(this,Q).protocol=h(this,b,De).call(this);break;case 2:break;case 3:u(this,Q).username=h(this,b,De).call(this);break;case 4:u(this,Q).password=h(this,b,De).call(this);break;case 5:u(this,Q).hostname=h(this,b,De).call(this);break;case 6:u(this,Q).port=h(this,b,De).call(this);break;case 7:u(this,Q).pathname=h(this,b,De).call(this);break;case 8:u(this,Q).search=h(this,b,De).call(this);break;case 9:u(this,Q).hash=h(this,b,De).call(this);break;case 10:break}u(this,be)!==0&&e!==10&&([1,2,3,4].includes(u(this,be))&&[6,7,8,9].includes(e)&&((r=u(this,Q)).hostname??(r.hostname="")),[1,2,3,4,5,6].includes(u(this,be))&&[8,9].includes(e)&&((n=u(this,Q)).pathname??(n.pathname=u(this,kt)?"/":"")),[1,2,3,4,5,6,7].includes(u(this,be))&&e===9&&((s=u(this,Q)).search??(s.search=""))),h(this,b,Do).call(this,e,t)},Do=function(e,t){B(this,be,e),B(this,St,u(this,M)+t),B(this,M,u(this,M)+t),B(this,st,0)},Zn=function(){B(this,M,u(this,St)),B(this,st,0)},tr=function(e){h(this,b,Zn).call(this),B(this,be,e)},jr=function(e){return e<0&&(e=u(this,le).length-e),e<u(this,le).length?u(this,le)[e]:u(this,le)[u(this,le).length-1]},we=function(e,t){let r=h(this,b,jr).call(this,e);return r.value===t&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")},Qn=function(){return h(this,b,we).call(this,u(this,M),":")},Oo=function(){return h(this,b,we).call(this,u(this,M)+1,"/")&&h(this,b,we).call(this,u(this,M)+2,"/")},Ir=function(){return h(this,b,we).call(this,u(this,M),"@")},Lo=function(){return h(this,b,we).call(this,u(this,M),":")},Ao=function(){return h(this,b,we).call(this,u(this,M),":")},Br=function(){return h(this,b,we).call(this,u(this,M),"/")},yt=function(){if(h(this,b,we).call(this,u(this,M),"?"))return!0;if(u(this,le)[u(this,M)].value!=="?")return!1;let e=h(this,b,jr).call(this,u(this,M)-1);return e.type!=="NAME"&&e.type!=="REGEX"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"},rt=function(){return h(this,b,we).call(this,u(this,M),"#")},Fo=function(){return u(this,le)[u(this,M)].type=="OPEN"},jo=function(){return u(this,le)[u(this,M)].type=="CLOSE"},Io=function(){return h(this,b,we).call(this,u(this,M),"[")},Bo=function(){return h(this,b,we).call(this,u(this,M),"]")},De=function(){let e=u(this,le)[u(this,M)],t=h(this,b,jr).call(this,u(this,St)).index;return u(this,wt).substring(t,e.index)},Uo=function(){let e={};Object.assign(e,Ve),e.encodePart=Nr;let t=uo(h(this,b,De).call(this),void 0,e);B(this,kt,os(t))},oo);R(Ro,"Parser");var Yn=["protocol","username","password","hostname","port","pathname","search","hash"],Ge="*";function es(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type 'string'.");let r=new URL(e,t);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==""?r.search.substring(1,r.search.length):void 0,hash:r.hash!==""?r.hash.substring(1,r.hash.length):void 0}}R(es,"extractValues");function Oe(e,t){return t?_t(e):e}R(Oe,"processBaseURLString");function gt(e,t,r){let n;if(typeof t.baseURL=="string")try{n=new URL(t.baseURL),t.protocol===void 0&&(e.protocol=Oe(n.protocol.substring(0,n.protocol.length-1),r)),!r&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&(e.username=Oe(n.username,r)),!r&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&t.password===void 0&&(e.password=Oe(n.password,r)),t.protocol===void 0&&t.hostname===void 0&&(e.hostname=Oe(n.hostname,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&(e.port=Oe(n.port,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&(e.pathname=Oe(n.pathname,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&(e.search=Oe(n.search.substring(1,n.search.length),r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&t.hash===void 0&&(e.hash=Oe(n.hash.substring(1,n.hash.length),r))}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(e.protocol=So(t.protocol,r)),typeof t.username=="string"&&(e.username=_o(t.username,r)),typeof t.password=="string"&&(e.password=go(t.password,r)),typeof t.hostname=="string"&&(e.hostname=yo(t.hostname,r)),typeof t.port=="string"&&(e.port=wo(t.port,e.protocol,r)),typeof t.pathname=="string"){if(e.pathname=t.pathname,n&&!fo(e.pathname,r)){let s=n.pathname.lastIndexOf("/");s>=0&&(e.pathname=Oe(n.pathname.substring(0,s+1),r)+e.pathname)}e.pathname=xo(e.pathname,e.protocol,r)}return typeof t.search=="string"&&(e.search=bo(t.search,r)),typeof t.hash=="string"&&(e.hash=mo(t.hash,r)),e}R(gt,"applyInit");function _t(e){return e.replace(/([+*?:{}()\\])/g,"\\$1")}R(_t,"escapePatternString");function No(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}R(No,"escapeRegexpString");function $o(e,t){t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./"),t.sensitive??(t.sensitive=!1),t.strict??(t.strict=!1),t.end??(t.end=!0),t.start??(t.start=!0),t.endsWith="";let r=".*",n=`[^${No(t.delimiter)}]+?`,s=/[$_\u200C\u200D\p{ID_Continue}]/u,i="";for(let o=0;o<e.length;++o){let a=e[o];if(a.type===3){if(a.modifier===3){i+=_t(a.value);continue}i+=`{${_t(a.value)}}${nt(a.modifier)}`;continue}let l=a.hasCustomName(),c=!!a.suffix.length||!!a.prefix.length&&(a.prefix.length!==1||!t.prefixes.includes(a.prefix)),f=o>0?e[o-1]:null,d=o<e.length-1?e[o+1]:null;if(!c&&l&&a.type===1&&a.modifier===3&&d&&!d.prefix.length&&!d.suffix.length)if(d.type===3){let _=d.value.length>0?d.value[0]:"";c=s.test(_)}else c=!d.hasCustomName();if(!c&&!a.prefix.length&&f&&f.type===3){let _=f.value[f.value.length-1];c=t.prefixes.includes(_)}c&&(i+="{"),i+=_t(a.prefix),l&&(i+=`:${a.name}`),a.type===2?i+=`(${a.value})`:a.type===1?l||(i+=`(${n})`):a.type===0&&(!l&&(!f||f.type===3||f.modifier!==3||c||a.prefix!=="")?i+="*":i+=`(${r})`),a.type===1&&l&&a.suffix.length&&s.test(a.suffix[0])&&(i+="\\"),i+=_t(a.suffix),c&&(i+="}"),a.modifier!==3&&(i+=nt(a.modifier))}return i}R($o,"partsToPattern");var Le,it,vt,ee,ke,Tt,ao,qo=(ao=class{constructor(e={},t,r){U(this,Le);U(this,it,{});U(this,vt,{});U(this,ee,{});U(this,ke,{});U(this,Tt,!1);try{let n;if(typeof t=="string"?n=t:r=t,typeof e=="string"){let a=new Ro(e);if(a.parse(),e=a.result,n===void 0&&typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");e.baseURL=n}else{if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type 'string'.")}typeof r>"u"&&(r={ignoreCase:!1});let s={ignoreCase:r.ignoreCase===!0};B(this,Le,gt({pathname:Ge,protocol:Ge,username:Ge,password:Ge,hostname:Ge,port:Ge,search:Ge,hash:Ge},e,!0)),as(u(this,Le).protocol)===u(this,Le).port&&(u(this,Le).port="");let o;for(o of Yn){if(!(o in u(this,Le)))continue;let a={},l=u(this,Le)[o];switch(u(this,vt)[o]=[],o){case"protocol":Object.assign(a,Ve),a.encodePart=Nr;break;case"username":Object.assign(a,Ve),a.encodePart=Po;break;case"password":Object.assign(a,Ve),a.encodePart=Eo;break;case"hostname":Object.assign(a,Vf),is(l)?a.encodePart=ls:a.encodePart=cs;break;case"port":Object.assign(a,Ve),a.encodePart=us;break;case"pathname":os(u(this,it).protocol)?(Object.assign(a,Kf,s),a.encodePart=ko):(Object.assign(a,Ve,s),a.encodePart=vo);break;case"search":Object.assign(a,Ve,s),a.encodePart=To;break;case"hash":Object.assign(a,Ve,s),a.encodePart=Co;break}try{u(this,ke)[o]=rs(l,a),u(this,it)[o]=ns(u(this,ke)[o],u(this,vt)[o],a),u(this,ee)[o]=$o(u(this,ke)[o],a),B(this,Tt,u(this,Tt)||u(this,ke)[o].some(c=>c.type===2))}catch{throw new TypeError(`invalid ${o} pattern '${u(this,Le)[o]}'.`)}}}catch(n){throw new TypeError(`Failed to construct 'URLPattern': ${n.message}`)}}get[Symbol.toStringTag](){return"URLPattern"}test(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return!1;try{typeof e=="object"?r=gt(r,e,!1):r=gt(r,es(e,t),!1)}catch{return!1}let n;for(n of Yn)if(!u(this,it)[n].exec(r[n]))return!1;return!0}exec(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return;try{typeof e=="object"?r=gt(r,e,!1):r=gt(r,es(e,t),!1)}catch{return null}let n={};t?n.inputs=[e,t]:n.inputs=[e];let s;for(s of Yn){let i=u(this,it)[s].exec(r[s]);if(!i)return null;let o={};for(let[a,l]of u(this,vt)[s].entries())if(typeof l=="string"||typeof l=="number"){let c=i[a+1];o[l]=c}n[s]={input:r[s]??"",groups:o}}return n}static compareComponent(e,t,r){let n=R((a,l)=>{for(let c of["type","modifier","prefix","value","suffix"]){if(a[c]<l[c])return-1;if(a[c]!==l[c])return 1}return 0},"comparePart"),s=new xt(3,"","","","",3),i=new xt(0,"","","","",3),o=R((a,l)=>{let c=0;for(;c<Math.min(a.length,l.length);++c){let f=n(a[c],l[c]);if(f)return f}return a.length===l.length?0:n(a[c]??s,l[c]??s)},"comparePartList");return!u(t,ee)[e]&&!u(r,ee)[e]?0:u(t,ee)[e]&&!u(r,ee)[e]?o(u(t,ke)[e],[i]):!u(t,ee)[e]&&u(r,ee)[e]?o([i],u(r,ke)[e]):o(u(t,ke)[e],u(r,ke)[e])}get protocol(){return u(this,ee).protocol}get username(){return u(this,ee).username}get password(){return u(this,ee).password}get hostname(){return u(this,ee).hostname}get port(){return u(this,ee).port}get pathname(){return u(this,ee).pathname}get search(){return u(this,ee).search}get hash(){return u(this,ee).hash}get hasRegExpGroups(){return u(this,Tt)}},Le=new WeakMap,it=new WeakMap,vt=new WeakMap,ee=new WeakMap,ke=new WeakMap,Tt=new WeakMap,ao);R(qo,"URLPattern")});var Go=A((Tb,Wo)=>{var{URLPattern:zo}=Ho();Wo.exports={URLPattern:zo};globalThis.URLPattern||(globalThis.URLPattern=zo)});var Ye=A(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.isPromise=$r;de.isActualPromise=Ko;de.handleMaybePromise=Ke;de.fakePromise=Ae;de.createDeferredPromise=Yf;de.iterateAsync=Yo;de.iterateAsyncVoid=Yo;de.fakeRejectPromise=ot;de.mapMaybePromise=Jf;de.mapAsyncIterator=Xf;de.promiseLikeFinally=Jo;de.unfakePromise=Xo;var qr=Symbol.for("@whatwg-node/promise-helpers/FakePromise");function $r(e){return(e==null?void 0:e.then)!=null}function Ko(e){let t=e;return t&&t.then&&t.catch&&t.finally}function Ke(e,t,r,n){let s=Ae().then(e).then(t,r);return n&&(s=s.finally(n)),Xo(s)}function Ae(e){return e&&Ko(e)?e:$r(e)?{then:(t,r)=>Ae(e.then(t,r)),catch:t=>Ae(e.then(r=>r,t)),finally:t=>Ae(t?Jo(e,t):e),[Symbol.toStringTag]:"Promise"}:{then(t){if(t)try{return Ae(t(e))}catch(r){return ot(r)}return this},catch(){return this},finally(t){if(t)try{return Ae(t()).then(()=>e,()=>e)}catch(r){return ot(r)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:e,[qr]:"resolved"}}function Yf(){if(Promise.withResolvers)return Promise.withResolvers();let e,t;return{promise:new Promise(function(s,i){e=s,t=i}),get resolve(){return e},get reject(){return t}}}function Yo(e,t,r){if((e==null?void 0:e.length)===0)return;let n=e[Symbol.iterator](),s=0;function i(){let{done:o,value:a}=n.next();if(o)return;let l=!1;function c(){l=!0}return Ke(function(){return t(a,c,s++)},function(d){if(d&&(r==null||r.push(d)),!l)return i()})}return i()}function ot(e){return{then(t,r){if(r)try{return Ae(r(e))}catch(n){return ot(n)}return this},catch(t){if(t)try{return Ae(t(e))}catch(r){return ot(r)}return this},finally(t){if(t)try{t()}catch(r){return ot(r)}return this},__fakeRejectError:e,[Symbol.toStringTag]:"Promise",[qr]:"rejected"}}function Jf(e,t,r){return Ke(()=>e,t,r)}function Xf(e,t,r,n){Symbol.asyncIterator in e&&(e=e[Symbol.asyncIterator]());let s,i,o;if(n){let c;o=f=>(c||(c=Ke(n,()=>f,()=>f)),c)}typeof e.return=="function"&&(s=e.return,i=c=>{let f=()=>{throw c};return s.call(e).then(f,f)});function a(c){return c.done?o?o(c):c:Ke(()=>c.value,f=>Ke(()=>t(f),Vo,i))}let l;if(r){let c,f=r;l=d=>(c||(c=Ke(()=>d,_=>Ke(()=>f(_),Vo,i))),c)}return{next(){return e.next().then(a,l)},return(){let c=s?s.call(e).then(a,l):Ae({value:void 0,done:!0});return o?c.then(o):c},throw(c){return typeof e.throw=="function"?e.throw(c).then(a,l):i?i(c):ot(c)},[Symbol.asyncIterator](){return this}}}function Vo(e){return{value:e,done:!1}}function Zf(e){return(e==null?void 0:e[qr])==="resolved"}function Qf(e){return(e==null?void 0:e[qr])==="rejected"}function Jo(e,t){return"finally"in e?e.finally(t):e.then(r=>{let n=t();return $r(n)?n.then(()=>r):r},r=>{let n=t();if($r(n))return n.then(()=>{throw r});throw r})}function Xo(e){if(Zf(e))return e.__fakePromiseValue;if(Qf(e))throw e.__fakeRejectError;return e}});var fs=A((Rb,Zo)=>{"use strict";var{EventEmitter:eh}=L("events"),{inherits:th}=L("util");function at(e){if(typeof e=="string"&&(e=Buffer.from(e)),!Buffer.isBuffer(e))throw new TypeError("The needle has to be a String or a Buffer.");let t=e.length,r=t-1;if(t===0)throw new Error("The needle cannot be an empty String/Buffer.");if(t>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Uint8Array(256).fill(t),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=Buffer.alloc(r);for(var n=0;n<r;++n)this._occ[e[n]]=r-n}th(at,eh);at.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};at.prototype.push=function(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e,"binary"));let r=e.length;this._bufpos=t||0;let n;for(;n!==r&&this.matches<this.maxMatches;)n=this._sbmh_feed(e);return n};at.prototype._sbmh_feed=function(e){let t=e.length,r=this._needle,n=r.length,s=n-1,i=r[s],o=-this._lookbehind_size,a;if(o<0){for(;o<0&&o<=t-n;){if(a=e[o+s],a===i&&this._sbmh_memcmp(e,o,s))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=o+n;o+=this._occ[a]}for(;o<0&&!this._sbmh_memcmp(e,o,t-o);)++o;if(o>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let l=this._lookbehind_size+o;return l>0&&this.emit("info",!1,this._lookbehind,0,l),this._lookbehind_size-=l,this._lookbehind.copy(this._lookbehind,0,l,this._lookbehind_size),e.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}}if(o=e.indexOf(r,o+this._bufpos),o!==-1)return++this.matches,o===0?this.emit("info",!0):this.emit("info",!0,e,this._bufpos,o),this._bufpos=o+n;for(o=t-s,o<0&&(o=0);o!==t&&(e[o]!==r[0]||Buffer.compare(e.subarray(o+1,t),r.subarray(1,t-o))!==0);)++o;return o!==t&&(e.copy(this._lookbehind,0,o,t),this._lookbehind_size=t-o),o!==0&&this.emit("info",!1,e,this._bufpos,o),this._bufpos=t,t};at.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]};at.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;++n)if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;return!0};Zo.exports=at});var ta=A((Db,ea)=>{"use strict";var rh=L("util").inherits,Qo=L("stream").Readable;function hs(e){Qo.call(this,e)}rh(hs,Qo);hs.prototype._read=function(e){};ea.exports=hs});var Mr=A((Ob,ra)=>{"use strict";ra.exports=function(t,r,n){if(!t||t[r]===void 0||t[r]===null)return n;if(typeof t[r]!="number"||isNaN(t[r]))throw new TypeError("Limit "+r+" is not a valid number");return t[r]}});var oa=A((Lb,ia)=>{"use strict";var sa=L("events").EventEmitter,nh=L("util").inherits,na=Mr(),sh=fs(),ih=Buffer.from(`\r
\r
`),oh=/\r\n/g,ah=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function Ct(e){sa.call(this),e=e||{};let t=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=na(e,"maxHeaderPairs",2e3),this.maxHeaderSize=na(e,"maxHeaderSize",80*1024),this.buffer="",this.header={},this.finished=!1,this.ss=new sh(ih),this.ss.on("info",function(r,n,s,i){n&&!t.maxed&&(t.nread+i-s>=t.maxHeaderSize?(i=t.maxHeaderSize-t.nread+s,t.nread=t.maxHeaderSize,t.maxed=!0):t.nread+=i-s,t.buffer+=n.toString("binary",s,i)),r&&t._finish()})}nh(Ct,sa);Ct.prototype.push=function(e){let t=this.ss.push(e);if(this.finished)return t};Ct.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};Ct.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let e=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",e)};Ct.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let e=this.buffer.split(oh),t=e.length,r,n;for(var s=0;s<t;++s){if(e[s].length===0)continue;if((e[s][0]==="	"||e[s][0]===" ")&&n){this.header[n][this.header[n].length-1]+=e[s];continue}let i=e[s].indexOf(":");if(i===-1||i===0)return;if(r=ah.exec(e[s]),n=r[1].toLowerCase(),this.header[n]=this.header[n]||[],this.header[n].push(r[2]||""),++this.npairs===this.maxHeaderPairs)break}};ia.exports=Ct});var ps=A((Ab,ca)=>{"use strict";var ds=L("stream").Writable,ch=L("util").inherits,lh=fs(),aa=ta(),uh=oa(),fh=45,hh=Buffer.from("-"),dh=Buffer.from(`\r
`),ph=function(){};function ve(e){if(!(this instanceof ve))return new ve(e);if(ds.call(this,e),!e||!e.headerFirst&&typeof e.boundary!="string")throw new TypeError("Boundary required");typeof e.boundary=="string"?this.setBoundary(e.boundary):this._bparser=void 0,this._headerFirst=e.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:e.partHwm},this._pause=!1;let t=this;this._hparser=new uh(e),this._hparser.on("header",function(r){t._inHeader=!1,t._part.emit("header",r)})}ch(ve,ds);ve.prototype.emit=function(e){if(e==="finish"&&!this._realFinish){if(!this._finished){let t=this;process.nextTick(function(){if(t.emit("error",new Error("Unexpected end of multipart data")),t._part&&!t._ignoreData){let r=t._isPreamble?"Preamble":"Part";t._part.emit("error",new Error(r+" terminated early due to unexpected end of multipart data")),t._part.push(null),process.nextTick(function(){t._realFinish=!0,t.emit("finish"),t._realFinish=!1});return}t._realFinish=!0,t.emit("finish"),t._realFinish=!1})}}else ds.prototype.emit.apply(this,arguments)};ve.prototype._write=function(e,t,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new aa(this._partOpts),this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._ignore());let n=this._hparser.push(e);if(!this._inHeader&&n!==void 0&&n<e.length)e=e.slice(n);else return r()}this._firstWrite&&(this._bparser.push(dh),this._firstWrite=!1),this._bparser.push(e),this._pause?this._cb=r:r()};ve.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};ve.prototype.setBoundary=function(e){let t=this;this._bparser=new lh(`\r
--`+e),this._bparser.on("info",function(r,n,s,i){t._oninfo(r,n,s,i)})};ve.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",ph),this._part.resume())};ve.prototype._oninfo=function(e,t,r,n){let s,i=this,o=0,a,l=!0;if(!this._part&&this._justMatched&&t){for(;this._dashes<2&&r+o<n;)if(t[r+o]===fh)++o,++this._dashes;else{this._dashes&&(s=hh),this._dashes=0;break}if(this._dashes===2&&(r+o<n&&this.listenerCount("trailer")!==0&&this.emit("trailer",t.slice(r+o,n)),this.reset(),this._finished=!0,i._parts===0&&(i._realFinish=!0,i.emit("finish"),i._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new aa(this._partOpts),this._part._read=function(c){i._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._isPreamble!==!0&&this.listenerCount("part")!==0?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),t&&r<n&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(s&&(l=this._part.push(s)),l=this._part.push(t.slice(r,n)),l||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(s&&this._hparser.push(s),a=this._hparser.push(t.slice(r,n)),!this._inHeader&&a!==void 0&&a<n&&this._oninfo(!1,t,r+a,n))),e&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==n&&(++this._parts,this._part.on("end",function(){--i._parts===0&&(i._finished?(i._realFinish=!0,i.emit("finish"),i._realFinish=!1):i._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};ve.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let e=this._cb;this._cb=void 0,e()}};ca.exports=ve});var Hr=A((ms,fa)=>{"use strict";var la=new TextDecoder("utf-8"),ua=new Map([["utf-8",la],["utf8",la]]);function mh(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return rr.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return rr.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return rr.utf16le;case"base64":return rr.base64;default:if(t===void 0){t=!0,e=e.toLowerCase();continue}return rr.other.bind(e)}}var rr={utf8:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,t)),e.utf8Slice(0,e.length)),latin1:(e,t)=>e.length===0?"":typeof e=="string"?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,t)),e.ucs2Slice(0,e.length)),base64:(e,t)=>e.length===0?"":(typeof e=="string"&&(e=Buffer.from(e,t)),e.base64Slice(0,e.length)),other:(e,t)=>{if(e.length===0)return"";if(typeof e=="string"&&(e=Buffer.from(e,t)),ua.has(ms.toString()))try{return ua.get(ms).decode(e)}catch{}return typeof e=="string"?e:e.toString()}};function bh(e,t,r){return e&&mh(r)(e,t)}fa.exports=bh});var ys=A((Fb,ba)=>{"use strict";var zr=Hr(),ha=/%[a-fA-F0-9][a-fA-F0-9]/g,yh={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"\x07","%08":"\b","%09":"	","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"\x1B","%1B":"\x1B","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7F","%7F":"\x7F","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8A","%8A":"\x8A","%8b":"\x8B","%8B":"\x8B","%8c":"\x8C","%8C":"\x8C","%8d":"\x8D","%8D":"\x8D","%8e":"\x8E","%8E":"\x8E","%8f":"\x8F","%8F":"\x8F","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9A","%9A":"\x9A","%9b":"\x9B","%9B":"\x9B","%9c":"\x9C","%9C":"\x9C","%9d":"\x9D","%9D":"\x9D","%9e":"\x9E","%9E":"\x9E","%9f":"\x9F","%9F":"\x9F","%a0":"\xA0","%A0":"\xA0","%a1":"\xA1","%A1":"\xA1","%a2":"\xA2","%A2":"\xA2","%a3":"\xA3","%A3":"\xA3","%a4":"\xA4","%A4":"\xA4","%a5":"\xA5","%A5":"\xA5","%a6":"\xA6","%A6":"\xA6","%a7":"\xA7","%A7":"\xA7","%a8":"\xA8","%A8":"\xA8","%a9":"\xA9","%A9":"\xA9","%aa":"\xAA","%Aa":"\xAA","%aA":"\xAA","%AA":"\xAA","%ab":"\xAB","%Ab":"\xAB","%aB":"\xAB","%AB":"\xAB","%ac":"\xAC","%Ac":"\xAC","%aC":"\xAC","%AC":"\xAC","%ad":"\xAD","%Ad":"\xAD","%aD":"\xAD","%AD":"\xAD","%ae":"\xAE","%Ae":"\xAE","%aE":"\xAE","%AE":"\xAE","%af":"\xAF","%Af":"\xAF","%aF":"\xAF","%AF":"\xAF","%b0":"\xB0","%B0":"\xB0","%b1":"\xB1","%B1":"\xB1","%b2":"\xB2","%B2":"\xB2","%b3":"\xB3","%B3":"\xB3","%b4":"\xB4","%B4":"\xB4","%b5":"\xB5","%B5":"\xB5","%b6":"\xB6","%B6":"\xB6","%b7":"\xB7","%B7":"\xB7","%b8":"\xB8","%B8":"\xB8","%b9":"\xB9","%B9":"\xB9","%ba":"\xBA","%Ba":"\xBA","%bA":"\xBA","%BA":"\xBA","%bb":"\xBB","%Bb":"\xBB","%bB":"\xBB","%BB":"\xBB","%bc":"\xBC","%Bc":"\xBC","%bC":"\xBC","%BC":"\xBC","%bd":"\xBD","%Bd":"\xBD","%bD":"\xBD","%BD":"\xBD","%be":"\xBE","%Be":"\xBE","%bE":"\xBE","%BE":"\xBE","%bf":"\xBF","%Bf":"\xBF","%bF":"\xBF","%BF":"\xBF","%c0":"\xC0","%C0":"\xC0","%c1":"\xC1","%C1":"\xC1","%c2":"\xC2","%C2":"\xC2","%c3":"\xC3","%C3":"\xC3","%c4":"\xC4","%C4":"\xC4","%c5":"\xC5","%C5":"\xC5","%c6":"\xC6","%C6":"\xC6","%c7":"\xC7","%C7":"\xC7","%c8":"\xC8","%C8":"\xC8","%c9":"\xC9","%C9":"\xC9","%ca":"\xCA","%Ca":"\xCA","%cA":"\xCA","%CA":"\xCA","%cb":"\xCB","%Cb":"\xCB","%cB":"\xCB","%CB":"\xCB","%cc":"\xCC","%Cc":"\xCC","%cC":"\xCC","%CC":"\xCC","%cd":"\xCD","%Cd":"\xCD","%cD":"\xCD","%CD":"\xCD","%ce":"\xCE","%Ce":"\xCE","%cE":"\xCE","%CE":"\xCE","%cf":"\xCF","%Cf":"\xCF","%cF":"\xCF","%CF":"\xCF","%d0":"\xD0","%D0":"\xD0","%d1":"\xD1","%D1":"\xD1","%d2":"\xD2","%D2":"\xD2","%d3":"\xD3","%D3":"\xD3","%d4":"\xD4","%D4":"\xD4","%d5":"\xD5","%D5":"\xD5","%d6":"\xD6","%D6":"\xD6","%d7":"\xD7","%D7":"\xD7","%d8":"\xD8","%D8":"\xD8","%d9":"\xD9","%D9":"\xD9","%da":"\xDA","%Da":"\xDA","%dA":"\xDA","%DA":"\xDA","%db":"\xDB","%Db":"\xDB","%dB":"\xDB","%DB":"\xDB","%dc":"\xDC","%Dc":"\xDC","%dC":"\xDC","%DC":"\xDC","%dd":"\xDD","%Dd":"\xDD","%dD":"\xDD","%DD":"\xDD","%de":"\xDE","%De":"\xDE","%dE":"\xDE","%DE":"\xDE","%df":"\xDF","%Df":"\xDF","%dF":"\xDF","%DF":"\xDF","%e0":"\xE0","%E0":"\xE0","%e1":"\xE1","%E1":"\xE1","%e2":"\xE2","%E2":"\xE2","%e3":"\xE3","%E3":"\xE3","%e4":"\xE4","%E4":"\xE4","%e5":"\xE5","%E5":"\xE5","%e6":"\xE6","%E6":"\xE6","%e7":"\xE7","%E7":"\xE7","%e8":"\xE8","%E8":"\xE8","%e9":"\xE9","%E9":"\xE9","%ea":"\xEA","%Ea":"\xEA","%eA":"\xEA","%EA":"\xEA","%eb":"\xEB","%Eb":"\xEB","%eB":"\xEB","%EB":"\xEB","%ec":"\xEC","%Ec":"\xEC","%eC":"\xEC","%EC":"\xEC","%ed":"\xED","%Ed":"\xED","%eD":"\xED","%ED":"\xED","%ee":"\xEE","%Ee":"\xEE","%eE":"\xEE","%EE":"\xEE","%ef":"\xEF","%Ef":"\xEF","%eF":"\xEF","%EF":"\xEF","%f0":"\xF0","%F0":"\xF0","%f1":"\xF1","%F1":"\xF1","%f2":"\xF2","%F2":"\xF2","%f3":"\xF3","%F3":"\xF3","%f4":"\xF4","%F4":"\xF4","%f5":"\xF5","%F5":"\xF5","%f6":"\xF6","%F6":"\xF6","%f7":"\xF7","%F7":"\xF7","%f8":"\xF8","%F8":"\xF8","%f9":"\xF9","%F9":"\xF9","%fa":"\xFA","%Fa":"\xFA","%fA":"\xFA","%FA":"\xFA","%fb":"\xFB","%Fb":"\xFB","%fB":"\xFB","%FB":"\xFB","%fc":"\xFC","%Fc":"\xFC","%fC":"\xFC","%FC":"\xFC","%fd":"\xFD","%Fd":"\xFD","%fD":"\xFD","%FD":"\xFD","%fe":"\xFE","%Fe":"\xFE","%fE":"\xFE","%FE":"\xFE","%ff":"\xFF","%Ff":"\xFF","%fF":"\xFF","%FF":"\xFF"};function da(e){return yh[e]}var Wr=0,pa=1,bs=2,ma=3;function gh(e){let t=[],r=Wr,n="",s=!1,i=!1,o=0,a="",l=e.length;for(var c=0;c<l;++c){let f=e[c];if(f==="\\"&&s)if(i)i=!1;else{i=!0;continue}else if(f==='"')if(i)i=!1;else{if(s)for(s=!1,r=Wr;c+1<l&&e[c+1]!==";";)++c;else s=!0;continue}else if(i&&s&&(a+="\\"),i=!1,(r===bs||r===ma)&&f==="'"){r===bs?(r=ma,n=a.substring(1)):r=pa,a="";continue}else if(r===Wr&&(f==="*"||f==="=")&&t.length){r=f==="*"?bs:pa,t[o]=[a,void 0],a="";continue}else if(!s&&f===";"){r=Wr,n?(a.length&&(a=zr(a.replace(ha,da),"binary",n)),n=""):a.length&&(a=zr(a,"binary","utf8")),t[o]===void 0?t[o]=a:t[o][1]=a,a="",++o;continue}else if(!s&&(f===" "||f==="	"))continue;a+=f}return n&&a.length?a=zr(a.replace(ha,da),"binary",n):a&&(a=zr(a,"binary","utf8")),t[o]===void 0?a&&(t[o]=a):t[o][1]=a,t}ba.exports=gh});var ga=A((jb,ya)=>{"use strict";ya.exports=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;--r)switch(t.charCodeAt(r)){case 47:case 92:return t=t.slice(r+1),t===".."||t==="."?"":t}return t===".."||t==="."?"":t}});var Sa=A((Ib,wa)=>{"use strict";var{Readable:xa}=L("stream"),{inherits:_h}=L("util"),xh=ps(),_a=ys(),wh=Hr(),Sh=ga(),ct=Mr(),Ph=/^boundary$/i,Eh=/^form-data$/i,kh=/^charset$/i,vh=/^filename$/i,Th=/^name$/i;Gr.detect=/^multipart\/form-data/i;function Gr(e,t){let r,n,s=this,i,o=t.limits,a=t.isPartAFile||((v,I,$)=>I==="application/octet-stream"||$!==void 0),l=t.parsedConType||[],c=t.defCharset||"utf8",f=t.preservePath,d={highWaterMark:t.fileHwm};for(r=0,n=l.length;r<n;++r)if(Array.isArray(l[r])&&Ph.test(l[r][0])){i=l[r][1];break}function _(){T===0&&g&&!e._done&&(g=!1,s.end())}if(typeof i!="string")throw new Error("Multipart: Boundary not found");let p=ct(o,"fieldSize",1*1024*1024),x=ct(o,"fileSize",1/0),w=ct(o,"files",1/0),k=ct(o,"fields",1/0),C=ct(o,"parts",1/0),N=ct(o,"headerPairs",2e3),P=ct(o,"headerSize",80*1024),O=0,S=0,T=0,F,m,g=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=e;let E={boundary:i,maxHeaderPairs:N,maxHeaderSize:P,partHwm:d.highWaterMark,highWaterMark:t.highWaterMark};this.parser=new xh(E),this.parser.on("drain",function(){if(s._needDrain=!1,s._cb&&!s._pause){let v=s._cb;s._cb=void 0,v()}}).on("part",function v(I){if(++s._nparts>C)return s.parser.removeListener("part",v),s.parser.on("part",Rt),e.hitPartsLimit=!0,e.emit("partsLimit"),Rt(I);if(m){let $=m;$.emit("end"),$.removeAllListeners("end")}I.on("header",function($){let V,xe,q,Ee,oe,ne,Ce=0;if($["content-type"]&&(q=_a($["content-type"][0]),q[0])){for(V=q[0].toLowerCase(),r=0,n=q.length;r<n;++r)if(kh.test(q[r][0])){Ee=q[r][1].toLowerCase();break}}if(V===void 0&&(V="text/plain"),Ee===void 0&&(Ee=c),$["content-disposition"]){if(q=_a($["content-disposition"][0]),!Eh.test(q[0]))return Rt(I);for(r=0,n=q.length;r<n;++r)Th.test(q[r][0])?xe=q[r][1]:vh.test(q[r][0])&&(ne=q[r][1],f||(ne=Sh(ne)))}else return Rt(I);$["content-transfer-encoding"]?oe=$["content-transfer-encoding"][0].toLowerCase():oe="7bit";let zn,Wn;if(a(xe,V,ne)){if(O===w)return e.hitFilesLimit||(e.hitFilesLimit=!0,e.emit("filesLimit")),Rt(I);if(++O,e.listenerCount("file")===0){s.parser._ignore();return}++T;let X=new gs(d);F=X,X.on("end",function(){if(--T,s._pause=!1,_(),s._cb&&!s._needDrain){let Re=s._cb;s._cb=void 0,Re()}}),X._read=function(Re){if(s._pause&&(s._pause=!1,s._cb&&!s._needDrain)){let Ne=s._cb;s._cb=void 0,Ne()}},e.emit("file",xe,X,ne,oe,V),zn=function(Re){if((Ce+=Re.length)>x){let Ne=x-Ce+Re.length;Ne>0&&X.push(Re.slice(0,Ne)),X.truncated=!0,X.bytesRead=x,I.removeAllListeners("data"),X.emit("limit");return}else X.push(Re)||(s._pause=!0);X.bytesRead=Ce},Wn=function(){F=void 0,X.push(null)}}else{if(S===k)return e.hitFieldsLimit||(e.hitFieldsLimit=!0,e.emit("fieldsLimit")),Rt(I);++S,++T;let X="",Re=!1;m=I,zn=function(Ne){if((Ce+=Ne.length)>p){let kf=p-(Ce-Ne.length);X+=Ne.toString("binary",0,kf),Re=!0,I.removeAllListeners("data")}else X+=Ne.toString("binary")},Wn=function(){m=void 0,X.length&&(X=wh(X,"binary",Ee)),e.emit("field",xe,X,!1,Re,oe,V),--T,_()}}I._readableState.sync=!1,I.on("data",zn),I.on("end",Wn)}).on("error",function($){F&&F.emit("error",$)})}).on("error",function(v){e.emit("error",v)}).on("finish",function(){g=!0,_()})}Gr.prototype.write=function(e,t){let r=this.parser.write(e);r&&!this._pause?t():(this._needDrain=!r,this._cb=t)};Gr.prototype.end=function(){let e=this;e.parser.writable?e.parser.end():e._boy._done||process.nextTick(function(){e._boy._done=!0,e._boy.emit("finish")})};function Rt(e){e.resume()}function gs(e){xa.call(this,e),this.bytesRead=0,this.truncated=!1}_h(gs,xa);gs.prototype._read=function(e){};wa.exports=Gr});var Ea=A((Bb,Pa)=>{"use strict";var Ch=/\+/g,Rh=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function _s(){this.buffer=void 0}_s.prototype.write=function(e){e=e.replace(Ch," ");let t="",r=0,n=0,s=e.length;for(;r<s;++r)this.buffer!==void 0?Rh[e.charCodeAt(r)]?(this.buffer+=e[r],++n,this.buffer.length===2&&(t+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(t+="%"+this.buffer,this.buffer=void 0,--r):e[r]==="%"&&(r>n&&(t+=e.substring(n,r),n=r),this.buffer="",++n);return n<s&&this.buffer===void 0&&(t+=e.substring(n)),t};_s.prototype.reset=function(){this.buffer=void 0};Pa.exports=_s});var va=A((Ub,ka)=>{"use strict";var Dh=Ea(),Dt=Hr(),xs=Mr(),Oh=/^charset$/i;Vr.detect=/^application\/x-www-form-urlencoded/i;function Vr(e,t){let r=t.limits,n=t.parsedConType;this.boy=e,this.fieldSizeLimit=xs(r,"fieldSize",1*1024*1024),this.fieldNameSizeLimit=xs(r,"fieldNameSize",100),this.fieldsLimit=xs(r,"fields",1/0);let s;for(var i=0,o=n.length;i<o;++i)if(Array.isArray(n[i])&&Oh.test(n[i][0])){s=n[i][1].toLowerCase();break}s===void 0&&(s=t.defCharset||"utf8"),this.decoder=new Dh,this.charset=s,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}Vr.prototype.write=function(e,t){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),t();let r,n,s,i=0,o=e.length;for(;i<o;)if(this._state==="key"){for(r=n=void 0,s=i;s<o;++s){if(this._checkingBytes||++i,e[s]===61){r=s;break}else if(e[s]===38){n=s;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(r!==void 0)r>i&&(this._key+=this.decoder.write(e.toString("binary",i,r))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),i=r+1;else if(n!==void 0){++this._fields;let a,l=this._keyTrunc;if(n>i?a=this._key+=this.decoder.write(e.toString("binary",i,n)):a=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a.length&&this.boy.emit("field",Dt(a,"binary",this.charset),"",l,!1),i=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>i&&(this._key+=this.decoder.write(e.toString("binary",i,s))),i=s,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(i<o&&(this._key+=this.decoder.write(e.toString("binary",i))),i=o)}else{for(n=void 0,s=i;s<o;++s){if(this._checkingBytes||++i,e[s]===38){n=s;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(n!==void 0){if(++this._fields,n>i&&(this._val+=this.decoder.write(e.toString("binary",i,n))),this.boy.emit("field",Dt(this._key,"binary",this.charset),Dt(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),i=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>i&&(this._val+=this.decoder.write(e.toString("binary",i,s))),i=s,(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(i<o&&(this._val+=this.decoder.write(e.toString("binary",i))),i=o)}t()};Vr.prototype.end=function(){this.boy._done||(this._state==="key"&&this._key.length>0?this.boy.emit("field",Dt(this._key,"binary",this.charset),"",this._keyTrunc,!1):this._state==="val"&&this.boy.emit("field",Dt(this._key,"binary",this.charset),Dt(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))};ka.exports=Vr});var Ra=A((Nb,nr)=>{"use strict";var ws=L("stream").Writable,{inherits:Lh}=L("util"),Ah=ps(),Ta=Sa(),Ca=va(),Fh=ys();function qe(e){if(!(this instanceof qe))return new qe(e);if(typeof e!="object")throw new TypeError("Busboy expected an options-Object.");if(typeof e.headers!="object")throw new TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof e.headers["content-type"]!="string")throw new TypeError("Missing Content-Type-header.");let{headers:t,...r}=e;this.opts={autoDestroy:!1,...r},ws.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(t),this._finished=!1}Lh(qe,ws);qe.prototype.emit=function(e){var t;if(e==="finish"){if(this._done){if(this._finished)return}else{(t=this._parser)==null||t.end();return}this._finished=!0}ws.prototype.emit.apply(this,arguments)};qe.prototype.getParserByHeaders=function(e){let t=Fh(e["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:e,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:t,preservePath:this.opts.preservePath};if(Ta.detect.test(t[0]))return new Ta(this,r);if(Ca.detect.test(t[0]))return new Ca(this,r);throw new Error("Unsupported Content-Type.")};qe.prototype._write=function(e,t,r){this._parser.write(e,r)};nr.exports=qe;nr.exports.default=qe;nr.exports.Busboy=qe;nr.exports.Dicer=Ah});var Lt={};Zi(Lt,{__addDisposableResource:()=>ec,__assign:()=>Kr,__asyncDelegator:()=>Ga,__asyncGenerator:()=>Wa,__asyncValues:()=>Va,__await:()=>Ot,__awaiter:()=>Na,__classPrivateFieldGet:()=>Xa,__classPrivateFieldIn:()=>Qa,__classPrivateFieldSet:()=>Za,__createBinding:()=>Jr,__decorate:()=>La,__disposeResources:()=>tc,__esDecorate:()=>Fa,__exportStar:()=>qa,__extends:()=>Da,__generator:()=>$a,__importDefault:()=>Ja,__importStar:()=>Ya,__makeTemplateObject:()=>Ka,__metadata:()=>Ua,__param:()=>Aa,__propKey:()=>Ia,__read:()=>Es,__rest:()=>Oa,__rewriteRelativeImportExtension:()=>rc,__runInitializers:()=>ja,__setFunctionName:()=>Ba,__spread:()=>Ma,__spreadArray:()=>za,__spreadArrays:()=>Ha,__values:()=>Yr,default:()=>Bh});function Da(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ss(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Oa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function La(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Aa(e,t){return function(r,n){t(r,n,e)}}function Fa(e,t,r,n,s,i){function o(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,f=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,_=!1,p=r.length-1;p>=0;p--){var x={};for(var w in n)x[w]=w==="access"?{}:n[w];for(var w in n.access)x.access[w]=n.access[w];x.addInitializer=function(C){if(_)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(C||null))};var k=(0,r[p])(a==="accessor"?{get:f.get,set:f.set}:f[l],x);if(a==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(d=o(k.get))&&(f.get=d),(d=o(k.set))&&(f.set=d),(d=o(k.init))&&s.unshift(d)}else(d=o(k))&&(a==="field"?s.unshift(d):f[l]=d)}c&&Object.defineProperty(c,n.name,f),_=!0}function ja(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Ia(e){return typeof e=="symbol"?e:"".concat(e)}function Ba(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Ua(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Na(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function $a(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function qa(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Jr(t,e,r)}function Yr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Es(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ma(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Es(arguments[t]));return e}function Ha(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function za(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Ot(e){return this instanceof Ot?(this.v=e,this):new Ot(e)}function Wa(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(x){return Promise.resolve(x).then(p,d)}}function a(p,x){n[p]&&(s[p]=function(w){return new Promise(function(k,C){i.push([p,w,k,C])>1||l(p,w)})},x&&(s[p]=x(s[p])))}function l(p,x){try{c(n[p](x))}catch(w){_(i[0][3],w)}}function c(p){p.value instanceof Ot?Promise.resolve(p.value.v).then(f,d):_(i[0][2],p)}function f(p){l("next",p)}function d(p){l("throw",p)}function _(p,x){p(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ga(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:Ot(e[s](o)),done:!1}:i?i(o):o}:i}}function Va(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Yr=="function"?Yr(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Ka(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Ya(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ps(e),n=0;n<r.length;n++)r[n]!=="default"&&Jr(t,e,r[n]);return jh(t,e),t}function Ja(e){return e&&e.__esModule?e:{default:e}}function Xa(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Za(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Qa(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ec(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function tc(e){function t(i){e.error=e.hasError?new Ih(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function rc(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var Ss,Kr,Jr,jh,Ps,Ih,Bh,At=Xi(()=>{Ss=function(e,t){return Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ss(e,t)};Kr=function(){return Kr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Kr.apply(this,arguments)};Jr=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});jh=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ps=function(e){return Ps=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ps(e)};Ih=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Bh={__extends:Da,__assign:Kr,__rest:Oa,__decorate:La,__param:Aa,__esDecorate:Fa,__runInitializers:ja,__propKey:Ia,__setFunctionName:Ba,__metadata:Ua,__awaiter:Na,__generator:$a,__createBinding:Jr,__exportStar:qa,__values:Yr,__read:Es,__spread:Ma,__spreadArrays:Ha,__spreadArray:za,__await:Ot,__asyncGenerator:Wa,__asyncDelegator:Ga,__asyncValues:Va,__makeTemplateObject:Ka,__importStar:Ya,__importDefault:Ja,__classPrivateFieldGet:Xa,__classPrivateFieldSet:Za,__classPrivateFieldIn:Qa,__addDisposableResource:ec,__disposeResources:tc,__rewriteRelativeImportExtension:rc}});var ye=A(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.DEFAULT_ACCEPT_ENCODING=ce.fakePromise=void 0;ce.getHeadersObj=qh;ce.defaultHeadersSerializer=Mh;ce.isArrayBufferView=zh;ce.isNodeReadable=Wh;ce.isIterable=Gh;ce.shouldRedirect=Vh;ce.pipeThrough=Kh;ce.endStream=Yh;ce.safeWrite=Jh;ce.getSupportedFormats=sc;var Uh=(At(),bt(Lt)),Nh=L("events"),$h=Uh.__importDefault(L("zlib"));function nc(e){return(e==null?void 0:e.forEach)!=null}function qh(e){return e==null||!nc(e)?e:e.headersInit&&!e._map&&!nc(e.headersInit)?e.headersInit:Object.fromEntries(e.entries())}function Mh(e,t){let r=[];return e.forEach((n,s)=>{t&&s==="content-length"&&t(n),r.push(`${s}: ${n}`)}),r}var Hh=Ye();Object.defineProperty(ce,"fakePromise",{enumerable:!0,get:function(){return Hh.fakePromise}});function zh(e){return e!=null&&e.buffer!=null&&e.byteLength!=null&&e.byteOffset!=null}function Wh(e){return e!=null&&e.pipe!=null}function Gh(e){return(e==null?void 0:e[Symbol.iterator])!=null}function Vh(e){return e===301||e===302||e===303||e===307||e===308}function Kh({src:e,dest:t,signal:r,onError:n}){if(n&&t.once("error",n),e.once("error",s=>{t.destroy(s)}),t.once("close",()=>{e.destroyed||e.destroy()}),r){let o=function(){var l,c,f,d;(l=i.deref())==null||l.removeEventListener("abort",a),(c=s.deref())==null||c.removeListener("end",o),(f=s.deref())==null||f.removeListener("error",o),(d=s.deref())==null||d.removeListener("close",o)},a=function(){var l;(l=s.deref())==null||l.destroy(new ks),o()},s=new WeakRef(e),i=new WeakRef(r);r.addEventListener("abort",a,{once:!0}),e.once("end",o),e.once("error",o),e.once("close",o)}e.pipe(t,{end:!0})}function Yh(e){return e.end(null,null,null)}function Jh(e,t){if(!t.write(e))return(0,Nh.once)(t,"drain")}var ks=class extends Error{constructor(t="The operation was aborted",r=void 0){super(t,r),this.name="AbortError"}};ce.DEFAULT_ACCEPT_ENCODING=sc().join(", ");function sc(){var t,r,n;let e=["gzip","deflate","br"];return(n=(r=(t=globalThis.process)==null?void 0:t.versions)==null?void 0:r.node)!=null&&n.startsWith("2")||e.push("deflate-raw"),$h.default.createZstdCompress!=null&&e.push("zstd"),e}});var Ft=A(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.PonyfillReadableStream=void 0;var ic=L("buffer"),vs=L("events"),Ts=L("stream"),Xh=L("stream/promises"),Cs=Ye(),Rs=ye();function oc(e,t){let r=[],n=!1,s=!1;return{desiredSize:e,enqueue(i){let o=typeof i=="string"?ic.Buffer.from(i):i;s?t.push(o):r.push(o)},close(){r.length>0&&this._flush(),t.push(null),n=!0},error(i){r.length>0&&this._flush(),t.destroy(i)},get _closed(){return n},_flush(){if(s=!0,r.length>0){let i=r.length>1?ic.Buffer.concat(r):r[0];t.push(i),r=[]}}}}function Zh(e){return(e==null?void 0:e.read)!=null}function ac(e){return(e==null?void 0:e.getReader)!=null}var Ds=class e{readable;constructor(t){if(t instanceof e&&t.readable!=null)this.readable=t.readable;else if(Zh(t))this.readable=t;else if(ac(t))this.readable=Ts.Readable.fromWeb(t);else{let r=!1,n=!1,s=o=>{if(!r){let a=oc(o,this.readable);return r=!0,(0,Cs.handleMaybePromise)(()=>{var l;return(l=t==null?void 0:t.start)==null?void 0:l.call(t,a)},()=>(a._flush(),!a._closed))}return!0},i=o=>(0,Cs.handleMaybePromise)(()=>s(o),a=>{if(!a)return;let l=oc(o,this.readable);return(0,Cs.handleMaybePromise)(()=>{var c;return(c=t==null?void 0:t.pull)==null?void 0:c.call(t,l)},()=>{l._flush(),n=!1})});this.readable=new Ts.Readable({read(o){if(!n)return n=!0,i(o)},destroy(o,a){if(t!=null&&t.cancel)try{let l=t.cancel(o);if(l!=null&&l.then)return l.then(()=>{a(null)},c=>{a(c)})}catch(l){a(l);return}a(null)}})}}cancel(t){return this.readable.destroy(t),(0,vs.once)(this.readable,"close")}locked=!1;getReader(t){let r=this.readable[Symbol.asyncIterator]();this.locked=!0;let n=this.readable;return{read(){return r.next()},releaseLock:()=>{if(r.return){let s=r.return();if(s.then){s.then(()=>{this.locked=!1});return}}this.locked=!1},cancel:s=>{if(r.return){let i=r.return(s);if(i.then)return i.then(()=>{this.locked=!1})}return this.locked=!1,(0,Rs.fakePromise)()},get closed(){return Promise.race([(0,vs.once)(n,"end"),(0,vs.once)(n,"error").then(s=>Promise.reject(s))])}}}[Symbol.asyncIterator](){let t=this.readable[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return this},next:()=>t.next(),return:()=>{var r;return this.readable.destroyed||this.readable.destroy(),((r=t.return)==null?void 0:r.call(t))||(0,Rs.fakePromise)({done:!0,value:void 0})},throw:r=>{var n;return this.readable.destroyed||this.readable.destroy(r),((n=t.throw)==null?void 0:n.call(t,r))||(0,Rs.fakePromise)({done:!0,value:void 0})}}}tee(){throw new Error("Not implemented")}async pipeToWriter(t){try{for await(let r of this)await t.write(r);await t.close()}catch(r){await t.abort(r)}}pipeTo(t){if(ed(t))return(0,Xh.pipeline)(this.readable,t.writable,{end:!0});{let r=t.getWriter();return this.pipeToWriter(r)}}pipeThrough({writable:t,readable:r}){return this.pipeTo(t).catch(n=>{this.readable.destroy(n)}),Qh(r)&&(r.readable.once("error",n=>this.readable.destroy(n)),r.readable.once("finish",()=>this.readable.push(null)),r.readable.once("close",()=>this.readable.push(null))),r}static[Symbol.hasInstance](t){return ac(t)}static from(t){return new e(Ts.Readable.from(t))}[Symbol.toStringTag]="ReadableStream"};Xr.PonyfillReadableStream=Ds;function Qh(e){return(e==null?void 0:e.readable)!=null}function ed(e){return(e==null?void 0:e.writable)!=null}});var Zr=A(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.PonyfillBlob=void 0;Se.hasBufferMethod=ir;Se.hasArrayBufferMethod=or;Se.hasBytesMethod=ar;Se.hasTextMethod=cc;Se.hasSizeProperty=lc;Se.hasStreamMethod=uc;Se.hasBlobSignature=fc;Se.isArrayBuffer=hc;var fe=L("buffer"),Os=Ft(),ue=ye();function sr(e){return typeof e=="string"?fe.Buffer.from(e):fe.Buffer.isBuffer(e)?e:(0,ue.isArrayBufferView)(e)?fe.Buffer.from(e.buffer,e.byteOffset,e.byteLength):fe.Buffer.from(e)}function ir(e){return e!=null&&e.buffer!=null&&typeof e.buffer=="function"}function or(e){return e!=null&&e.arrayBuffer!=null&&typeof e.arrayBuffer=="function"}function ar(e){return e!=null&&e.bytes!=null&&typeof e.bytes=="function"}function cc(e){return e!=null&&e.text!=null&&typeof e.text=="function"}function lc(e){return e!=null&&typeof e.size=="number"}function uc(e){return e!=null&&e.stream!=null&&typeof e.stream=="function"}function fc(e){return e!=null&&e[Symbol.toStringTag]==="Blob"}function hc(e){return e!=null&&e.byteLength!=null&&e.slice!=null}var Ls=class{blobParts;type;encoding;_size=null;constructor(t=[],r){if(this.blobParts=t,this.type=(r==null?void 0:r.type)||"application/octet-stream",this.encoding=(r==null?void 0:r.encoding)||"utf8",this._size=(r==null?void 0:r.size)||null,t.length===1&&fc(t[0]))return t[0]}_buffer=null;buffer(){if(this._buffer)return(0,ue.fakePromise)(this._buffer);if(this.blobParts.length===1){let n=this.blobParts[0];return ir(n)?n.buffer().then(s=>(this._buffer=s,this._buffer)):ar(n)?n.bytes().then(s=>(this._buffer=fe.Buffer.from(s),this._buffer)):or(n)?n.arrayBuffer().then(s=>(this._buffer=fe.Buffer.from(s,void 0,n.size),this._buffer)):(this._buffer=sr(n),(0,ue.fakePromise)(this._buffer))}let t=[],r=this.blobParts.map((n,s)=>{if(ir(n)){t.push(n.buffer().then(i=>{r[s]=i}));return}else if(or(n)){t.push(n.arrayBuffer().then(i=>{r[s]=fe.Buffer.from(i,void 0,n.size)}));return}else if(ar(n)){t.push(n.bytes().then(i=>{r[s]=fe.Buffer.from(i)}));return}else return sr(n)});return t.length>0?Promise.all(t).then(()=>fe.Buffer.concat(r,this._size||void 0)):(0,ue.fakePromise)(fe.Buffer.concat(r,this._size||void 0))}arrayBuffer(){if(this._buffer)return(0,ue.fakePromise)(this._buffer);if(this.blobParts.length===1){if(hc(this.blobParts[0]))return(0,ue.fakePromise)(this.blobParts[0]);if(or(this.blobParts[0]))return this.blobParts[0].arrayBuffer()}return this.buffer()}bytes(){if(this._buffer)return(0,ue.fakePromise)(this._buffer);if(this.blobParts.length===1){if(fe.Buffer.isBuffer(this.blobParts[0]))return this._buffer=this.blobParts[0],(0,ue.fakePromise)(this._buffer);if(this.blobParts[0]instanceof Uint8Array)return this._buffer=fe.Buffer.from(this.blobParts[0]),(0,ue.fakePromise)(this._buffer);if(ar(this.blobParts[0]))return this.blobParts[0].bytes();if(ir(this.blobParts[0]))return this.blobParts[0].buffer()}return this.buffer()}_text=null;text(){if(this._text)return(0,ue.fakePromise)(this._text);if(this.blobParts.length===1){let t=this.blobParts[0];if(typeof t=="string")return this._text=t,(0,ue.fakePromise)(this._text);if(cc(t))return t.text().then(n=>(this._text=n,this._text));let r=sr(t);return this._text=r.toString(this.encoding),(0,ue.fakePromise)(this._text)}return this.buffer().then(t=>(this._text=t.toString(this.encoding),this._text))}_json=null;json(){return this._json?(0,ue.fakePromise)(this._json):this.text().then(t=>(this._json=JSON.parse(t),this._json))}_formData=null;formData(){if(this._formData)return(0,ue.fakePromise)(this._formData);throw new Error("Not implemented")}get size(){if(this._size==null){this._size=0;for(let t of this.blobParts)typeof t=="string"?this._size+=fe.Buffer.byteLength(t):lc(t)?this._size+=t.size:(0,ue.isArrayBufferView)(t)&&(this._size+=t.byteLength)}return this._size}stream(){if(this.blobParts.length===1){let r=this.blobParts[0];if(uc(r))return r.stream();let n=sr(r);return new Os.PonyfillReadableStream({start:s=>{s.enqueue(n),s.close()}})}if(this._buffer!=null)return new Os.PonyfillReadableStream({start:r=>{r.enqueue(this._buffer),r.close()}});let t;return new Os.PonyfillReadableStream({start:r=>{if(this.blobParts.length===0){r.close();return}t=this.blobParts[Symbol.iterator]()},pull:r=>{let{value:n,done:s}=t.next();if(s){r.close();return}if(n){if(ir(n))return n.buffer().then(o=>{r.enqueue(o)});if(ar(n))return n.bytes().then(o=>{let a=fe.Buffer.from(o);r.enqueue(a)});if(or(n))return n.arrayBuffer().then(o=>{let a=fe.Buffer.from(o,void 0,n.size);r.enqueue(a)});let i=sr(n);r.enqueue(i)}}})}slice(){throw new Error("Not implemented")}};Se.PonyfillBlob=Ls});var Fs=A(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.PonyfillFile=void 0;var td=Zr(),As=class extends td.PonyfillBlob{name;lastModified;constructor(t,r,n){super(t,n),this.name=r,this.lastModified=(n==null?void 0:n.lastModified)||Date.now()}webkitRelativePath=""};Qr.PonyfillFile=As});var $c={};Zi($c,{__addDisposableResource:()=>Bc,__assign:()=>en,__asyncDelegator:()=>Rc,__asyncGenerator:()=>Cc,__asyncValues:()=>Dc,__await:()=>jt,__awaiter:()=>Sc,__classPrivateFieldGet:()=>Fc,__classPrivateFieldIn:()=>Ic,__classPrivateFieldSet:()=>jc,__createBinding:()=>rn,__decorate:()=>mc,__disposeResources:()=>Uc,__esDecorate:()=>yc,__exportStar:()=>Ec,__extends:()=>dc,__generator:()=>Pc,__importDefault:()=>Ac,__importStar:()=>Lc,__makeTemplateObject:()=>Oc,__metadata:()=>wc,__param:()=>bc,__propKey:()=>_c,__read:()=>Bs,__rest:()=>pc,__rewriteRelativeImportExtension:()=>Nc,__runInitializers:()=>gc,__setFunctionName:()=>xc,__spread:()=>kc,__spreadArray:()=>Tc,__spreadArrays:()=>vc,__values:()=>tn,default:()=>sd});function dc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");js(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function pc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function mc(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function bc(e,t){return function(r,n){t(r,n,e)}}function yc(e,t,r,n,s,i){function o(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,f=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,_=!1,p=r.length-1;p>=0;p--){var x={};for(var w in n)x[w]=w==="access"?{}:n[w];for(var w in n.access)x.access[w]=n.access[w];x.addInitializer=function(C){if(_)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(C||null))};var k=(0,r[p])(a==="accessor"?{get:f.get,set:f.set}:f[l],x);if(a==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(d=o(k.get))&&(f.get=d),(d=o(k.set))&&(f.set=d),(d=o(k.init))&&s.unshift(d)}else(d=o(k))&&(a==="field"?s.unshift(d):f[l]=d)}c&&Object.defineProperty(c,n.name,f),_=!0}function gc(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function _c(e){return typeof e=="symbol"?e:"".concat(e)}function xc(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function wc(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Sc(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function Pc(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ec(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rn(t,e,r)}function tn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bs(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function kc(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bs(arguments[t]));return e}function vc(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Tc(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function jt(e){return this instanceof jt?(this.v=e,this):new jt(e)}function Cc(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(x){return Promise.resolve(x).then(p,d)}}function a(p,x){n[p]&&(s[p]=function(w){return new Promise(function(k,C){i.push([p,w,k,C])>1||l(p,w)})},x&&(s[p]=x(s[p])))}function l(p,x){try{c(n[p](x))}catch(w){_(i[0][3],w)}}function c(p){p.value instanceof jt?Promise.resolve(p.value.v).then(f,d):_(i[0][2],p)}function f(p){l("next",p)}function d(p){l("throw",p)}function _(p,x){p(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Rc(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:jt(e[s](o)),done:!1}:i?i(o):o}:i}}function Dc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof tn=="function"?tn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Oc(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Lc(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Is(e),n=0;n<r.length;n++)r[n]!=="default"&&rn(t,e,r[n]);return rd(t,e),t}function Ac(e){return e&&e.__esModule?e:{default:e}}function Fc(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function jc(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Ic(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Bc(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function Uc(e){function t(i){e.error=e.hasError?new nd(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Nc(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var js,en,rn,rd,Is,nd,sd,qc=Xi(()=>{js=function(e,t){return js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},js(e,t)};en=function(){return en=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},en.apply(this,arguments)};rn=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});rd=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Is=function(e){return Is=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Is(e)};nd=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};sd={__extends:dc,__assign:en,__rest:pc,__decorate:mc,__param:bc,__esDecorate:yc,__runInitializers:gc,__propKey:_c,__setFunctionName:xc,__metadata:wc,__awaiter:Sc,__generator:Pc,__createBinding:rn,__exportStar:Ec,__values:tn,__read:Bs,__spread:kc,__spreadArrays:vc,__spreadArray:Tc,__await:jt,__asyncGenerator:Cc,__asyncDelegator:Rc,__asyncValues:Dc,__makeTemplateObject:Oc,__importStar:Lc,__importDefault:Ac,__classPrivateFieldGet:Fc,__classPrivateFieldSet:jc,__classPrivateFieldIn:Ic,__addDisposableResource:Bc,__disposeResources:Uc,__rewriteRelativeImportExtension:Nc}});var sn=A(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.PonyfillSuppressedError=void 0;var Us=class extends Error{error;suppressed;constructor(t,r,n){super(n),this.error=t,this.suppressed=r,this.name="SuppressedError",Error.captureStackTrace(this,this.constructor)}};nn.PonyfillSuppressedError=Us});var lr=A(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.DisposableSymbols=void 0;cr.patchSymbols=id;cr.DisposableSymbols={get dispose(){return Symbol.dispose||Symbol.for("dispose")},get asyncDispose(){return Symbol.asyncDispose||Symbol.for("asyncDispose")}};function id(){Symbol.dispose||(Symbol.dispose=Symbol.for("dispose")),Symbol.asyncDispose||(Symbol.asyncDispose=Symbol.for("asyncDispose"))}});var Ns=A(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.isSyncDisposable=od;on.isAsyncDisposable=ad;var Mc=lr();function od(e){return(e==null?void 0:e[Mc.DisposableSymbols.dispose])!=null}function ad(e){return(e==null?void 0:e[Mc.DisposableSymbols.asyncDispose])!=null}});var zc=A(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.PonyfillAsyncDisposableStack=void 0;var cd=Ye(),ld=sn(),an=lr(),Hc=Ns(),ud=globalThis.SuppressedError||ld.PonyfillSuppressedError,$s=class e{callbacks=[];get disposed(){return this.callbacks.length===0}use(t){return(0,Hc.isAsyncDisposable)(t)?this.callbacks.push(()=>t[an.DisposableSymbols.asyncDispose]()):(0,Hc.isSyncDisposable)(t)&&this.callbacks.push(()=>t[an.DisposableSymbols.dispose]()),t}adopt(t,r){return r&&this.callbacks.push(()=>r(t)),t}defer(t){t&&this.callbacks.push(t)}move(){let t=new e;return t.callbacks=this.callbacks,this.callbacks=[],t}disposeAsync(){return this[an.DisposableSymbols.asyncDispose]()}_error;_iterateCallbacks(){let t=this.callbacks.pop();if(t)return(0,cd.handleMaybePromise)(t,()=>this._iterateCallbacks(),r=>(this._error=this._error?new ud(r,this._error):r,this._iterateCallbacks()))}[an.DisposableSymbols.asyncDispose](){let t=this._iterateCallbacks();if(t!=null&&t.then)return t.then(()=>{if(this._error){let r=this._error;throw this._error=void 0,r}});if(this._error){let r=this._error;throw this._error=void 0,r}}[Symbol.toStringTag]="AsyncDisposableStack"};cn.PonyfillAsyncDisposableStack=$s});var Wc=A(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.PonyfillDisposableStack=void 0;var fd=sn(),qs=lr(),hd=Ns(),dd=globalThis.SuppressedError||fd.PonyfillSuppressedError,Ms=class e{callbacks=[];get disposed(){return this.callbacks.length===0}use(t){return(0,hd.isSyncDisposable)(t)&&this.callbacks.push(()=>t[qs.DisposableSymbols.dispose]()),t}adopt(t,r){return r&&this.callbacks.push(()=>r(t)),t}defer(t){t&&this.callbacks.push(t)}move(){let t=new e;return t.callbacks=this.callbacks,this.callbacks=[],t}dispose(){return this[qs.DisposableSymbols.dispose]()}_error;_iterateCallbacks(){let t=this.callbacks.pop();if(t){try{t()}catch(r){this._error=this._error?new dd(r,this._error):r}return this._iterateCallbacks()}}[qs.DisposableSymbols.dispose](){if(this._iterateCallbacks(),this._error){let t=this._error;throw this._error=void 0,t}}[Symbol.toStringTag]="DisposableStack"};ln.PonyfillDisposableStack=Ms});var Gc=A(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.SuppressedError=Me.AsyncDisposableStack=Me.DisposableStack=void 0;var pd=(qc(),bt($c)),md=zc(),bd=Wc(),yd=sn();Me.DisposableStack=globalThis.DisposableStack||bd.PonyfillDisposableStack;Me.AsyncDisposableStack=globalThis.AsyncDisposableStack||md.PonyfillAsyncDisposableStack;Me.SuppressedError=globalThis.SuppressedError||yd.PonyfillSuppressedError;pd.__exportStar(lr(),Me)});var fn=A(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.PonyfillIteratorObject=void 0;var Vc=L("util"),gd=Gc(),_d=ye(),Hs=class{iterableIterator;[Symbol.toStringTag]="IteratorObject";constructor(t,r){this.iterableIterator=t,this[Symbol.toStringTag]=r}*map(t){let r=0;for(let n of this.iterableIterator)yield t(n,r++)}*filter(t){let r=0;for(let n of this.iterableIterator)t(n,r++)&&(yield n)}reduce(t,r){let n=0,s=r;for(let i of this.iterableIterator)s=t(s,i,n++);return s}forEach(t){let r=0;for(let n of this.iterableIterator)t(n,r++)}*take(t){let r=0;for(let n of this.iterableIterator){if(r>=t)break;yield n,r++}}*drop(t){let r=0;for(let n of this.iterableIterator)r>=t&&(yield n),r++}*flatMap(t){let r=0;for(let n of this.iterableIterator){let s=t(n,r++);if((0,_d.isIterable)(s))for(let i of s)yield i;else for(let i of{[Symbol.iterator]:()=>s})yield i}}some(t){let r=0;for(let n of this.iterableIterator)if(t(n,r++))return!0;return!1}every(t){let r=0;for(let n of this.iterableIterator)if(!t(n,r++))return!1;return!0}find(t){let r=0;for(let n of this.iterableIterator)if(t(n,r++))return n}toArray(){return Array.from(this.iterableIterator)}[gd.DisposableSymbols.dispose](){var t,r;(r=(t=this.iterableIterator).return)==null||r.call(t)}next(...[t]){return this.iterableIterator.next(t)}[Symbol.iterator](){return this}[Symbol.for("nodejs.util.inspect.custom")](){let t={};return this.forEach((r,n)=>{let s=(0,Vc.inspect)(r);t[n]=s.includes(",")?s.split(",").map(i=>i.trim()):s}),`${this[Symbol.toStringTag]} ${(0,Vc.inspect)(t)}`}};un.PonyfillIteratorObject=Hs});var Gs=A(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.PonyfillFormData=void 0;ur.getStreamFromFormData=wd;var lt=L("buffer"),zs=fn(),xd=Ft(),Ws=class{map=new Map;append(t,r,n){let s=this.map.get(t);s||(s=[],this.map.set(t,s));let i=Yc(r)?Kc(t,r,n):r;s.push(i)}delete(t){this.map.delete(t)}get(t){let r=this.map.get(t);return r?r[0]:null}getAll(t){return this.map.get(t)||[]}has(t){return this.map.has(t)}set(t,r,n){let s=Yc(r)?Kc(t,r,n):r;this.map.set(t,[s])}[Symbol.iterator](){return this._entries()}*_entries(){for(let[t,r]of this.map)for(let n of r)yield[t,n]}entries(){return new zs.PonyfillIteratorObject(this._entries(),"FormDataIterator")}_keys(){return this.map.keys()}keys(){return new zs.PonyfillIteratorObject(this._keys(),"FormDataIterator")}*_values(){for(let t of this.map.values())for(let r of t)yield r}values(){return new zs.PonyfillIteratorObject(this._values(),"FormDataIterator")}forEach(t){for(let[r,n]of this)t(n,r,this)}};ur.PonyfillFormData=Ws;function wd(e,t="---"){let r,n=!1,s,i=!1;function o(a){let{done:l,value:c}=r.next();if(l)return a.enqueue(lt.Buffer.from(`\r
--${t}--\r
`)),a.close();if(i&&a.enqueue(lt.Buffer.from(`\r
--${t}\r
`)),c){let[f,d]=c;if(typeof d=="string")a.enqueue(lt.Buffer.from(`Content-Disposition: form-data; name="${f}"\r
\r
`)),a.enqueue(lt.Buffer.from(d));else{let _="";d.name&&(_=`; filename="${d.name}"`),a.enqueue(lt.Buffer.from(`Content-Disposition: form-data; name="${f}"${_}\r
`)),a.enqueue(lt.Buffer.from(`Content-Type: ${d.type||"application/octet-stream"}\r
\r
`)),s=d.stream()[Symbol.asyncIterator]()}i=!0}}return new xd.PonyfillReadableStream({start:()=>{r=e.entries()},pull:a=>n?s?s.next().then(({done:l,value:c})=>(l&&(s=void 0),c?a.enqueue(c):o(a))):o(a):(n=!0,a.enqueue(lt.Buffer.from(`--${t}\r
`))),cancel:a=>{var l,c;(l=r==null?void 0:r.return)==null||l.call(r,a),(c=s==null?void 0:s.return)==null||c.call(s,a)}})}function Kc(e,t,r){return Object.defineProperty(t,"name",{configurable:!0,enumerable:!0,value:r||t.name||e}),t}function Yc(e){return(e==null?void 0:e.arrayBuffer)!=null}});var pn=A(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.PonyfillBody=void 0;var Fe=L("buffer"),ze=L("stream"),Sd=Ra(),hn=Ye(),It=Zr(),Pd=Fs(),Jc=Gs(),He=Ft(),ie=ye(),Y;(function(e){e.ReadableStream="ReadableStream",e.Blob="Blob",e.FormData="FormData",e.String="String",e.Readable="Readable",e.Buffer="Buffer",e.AsyncIterable="AsyncIterable"})(Y||(Y={}));var Vs=class{bodyInit;options;bodyUsed=!1;contentType=null;contentLength=null;constructor(t,r={}){this.bodyInit=t,this.options=r;let{bodyFactory:n,contentType:s,contentLength:i,bodyType:o,buffer:a}=Ed(t);this._bodyFactory=n,this.contentType=s,this.contentLength=i,this.bodyType=o,this._buffer=a,this._signal=r.signal}bodyType;_bodyFactory=()=>null;_generatedBody=null;_buffer;_signal;generateBody(){var r,n;if((n=(r=this._generatedBody)==null?void 0:r.readable)!=null&&n.destroyed&&this._buffer&&(this._generatedBody.readable=ze.Readable.from(this._buffer)),this._generatedBody)return this._generatedBody;let t=this._bodyFactory();return this._generatedBody=t,t}handleContentLengthHeader(t=!1){let r=this.headers.get("content-type");r?this.contentType=r:this.contentType&&this.headers.set("content-type",this.contentType);let n=this.headers.get("content-length");t&&this.bodyInit==null&&!n&&(this.contentLength=0,this.headers.set("content-length","0")),n?this.contentLength=parseInt(n,10):this.contentLength&&this.headers.set("content-length",this.contentLength.toString())}get body(){let t=this.generateBody();if(t!=null){let r=t,n=t.readable;return new Proxy(t.readable,{get(s,i){if(i in r){let o=r[i];return typeof o=="function"?o.bind(r):o}if(i in n){let o=n[i];return typeof o=="function"?o.bind(n):o}}})}return null}_chunks=null;_doCollectChunksFromReadableJob(){if(this.bodyType===Y.AsyncIterable){if(Array.fromAsync)return(0,hn.handleMaybePromise)(()=>Array.fromAsync(this.bodyInit),o=>(this._chunks=o,this._chunks));let n=this.bodyInit[Symbol.asyncIterator](),s=[],i=()=>(0,hn.handleMaybePromise)(()=>n.next(),({value:o,done:a})=>(o&&s.push(o),a?(this._chunks=s,this._chunks):i()));return i()}let t=this.generateBody();if(!t)return this._chunks=[],(0,ie.fakePromise)(this._chunks);if(t.readable.destroyed)return(0,ie.fakePromise)(this._chunks=[]);let r=[];return new Promise((n,s)=>{t.readable.on("data",i=>{r.push(i)}),t.readable.once("error",s),t.readable.once("end",()=>{n(this._chunks=r)})})}_collectChunksFromReadable(){return this._chunks?(0,ie.fakePromise)(this._chunks):(this._chunks||(this._chunks=this._doCollectChunksFromReadableJob()),this._chunks)}_blob=null;blob(){return this._blob?(0,ie.fakePromise)(this._blob):(this.bodyType===Y.String&&(this._text=this.bodyInit,this._blob=new It.PonyfillBlob([this._text],{type:this.contentType||"text/plain;charset=UTF-8",size:this.contentLength})),this.bodyType===Y.Blob?(this._blob=this.bodyInit,(0,ie.fakePromise)(this._blob)):this._buffer?(this._blob=new It.PonyfillBlob([this._buffer],{type:this.contentType||"",size:this.contentLength}),(0,ie.fakePromise)(this._blob)):(0,ie.fakePromise)((0,hn.handleMaybePromise)(()=>this._collectChunksFromReadable(),t=>(this._blob=new It.PonyfillBlob(t,{type:this.contentType||"",size:this.contentLength}),this._blob))))}_formData=null;formData(t){if(this._formData)return(0,ie.fakePromise)(this._formData);if(this.bodyType===Y.FormData)return this._formData=this.bodyInit,(0,ie.fakePromise)(this._formData);if(this._formData=new Jc.PonyfillFormData,this.generateBody()==null)return(0,ie.fakePromise)(this._formData);let n={...this.options.formDataLimits,...t==null?void 0:t.formDataLimits};return new Promise((s,i)=>{var d;let o=(d=this.body)==null?void 0:d.readable;if(!o)return i(new Error("No stream available"));let a=null,l=new Sd.Busboy({headers:{"content-length":typeof this.contentLength=="number"?this.contentLength.toString():this.contentLength||"","content-type":this.contentType||""},limits:n,defCharset:"utf-8"});this._signal&&(0,ze.addAbortSignal)(this._signal,l);let c=!1,f=_=>{c||(c=!0,o.unpipe(l),l.destroy(),a&&(a.destroy(),a=null),_?i(_):s(this._formData))};o.on("error",f),l.on("field",(_,p,x,w)=>{if(x)return f(new Error(`Field name size exceeded: ${n==null?void 0:n.fieldNameSize} bytes`));if(w)return f(new Error(`Field value size exceeded: ${n==null?void 0:n.fieldSize} bytes`));this._formData.set(_,p)}),l.on("file",(_,p,x,w,k)=>{a=p;let C=[];p.on("data",N=>{C.push(N)}),p.on("error",f),p.on("limit",()=>{f(new Error(`File size limit exceeded: ${n==null?void 0:n.fileSize} bytes`))}),p.on("close",()=>{p.truncated&&f(new Error(`File size limit exceeded: ${n==null?void 0:n.fileSize} bytes`)),a=null;let N=new Pd.PonyfillFile(C,x,{type:k});this._formData.set(_,N)})}),l.on("fieldsLimit",()=>{f(new Error(`Fields limit exceeded: ${n==null?void 0:n.fields}`))}),l.on("filesLimit",()=>{f(new Error(`Files limit exceeded: ${n==null?void 0:n.files}`))}),l.on("partsLimit",()=>{f(new Error(`Parts limit exceeded: ${n==null?void 0:n.parts}`))}),l.on("end",f),l.on("finish",f),l.on("close",f),l.on("error",f),o.pipe(l)})}buffer(){if(this._buffer)return(0,ie.fakePromise)(this._buffer);if(this._text)return this._buffer=Fe.Buffer.from(this._text,"utf-8"),(0,ie.fakePromise)(this._buffer);if(this.bodyType===Y.String)return this.text().then(t=>(this._text=t,this._buffer=Fe.Buffer.from(t,"utf-8"),this._buffer));if(this.bodyType===Y.Blob){if((0,It.hasBufferMethod)(this.bodyInit))return this.bodyInit.buffer().then(t=>(this._buffer=t,this._buffer));if((0,It.hasBytesMethod)(this.bodyInit))return this.bodyInit.bytes().then(t=>(this._buffer=Fe.Buffer.from(t),this._buffer));if((0,It.hasArrayBufferMethod)(this.bodyInit))return this.bodyInit.arrayBuffer().then(t=>(this._buffer=Fe.Buffer.from(t,void 0,t.byteLength),this._buffer))}return(0,ie.fakePromise)((0,hn.handleMaybePromise)(()=>this._collectChunksFromReadable(),t=>t.length===1?(this._buffer=t[0],this._buffer):(this._buffer=Fe.Buffer.concat(t),this._buffer)))}bytes(){return this.buffer()}arrayBuffer(){return this.buffer()}_json=null;json(){return this._json?(0,ie.fakePromise)(this._json):this.text().then(t=>{try{this._json=JSON.parse(t)}catch(r){throw r instanceof SyntaxError&&(r.message+=`, "${t}" is not valid JSON`),r}return this._json})}_text=null;text(){return this._text?(0,ie.fakePromise)(this._text):this.bodyType===Y.String?(this._text=this.bodyInit,(0,ie.fakePromise)(this._text)):this.buffer().then(t=>(this._text=t.toString("utf-8"),this._text))}};dn.PonyfillBody=Vs;function Ed(e){if(e==null)return{bodyFactory:()=>null,contentType:null,contentLength:null};if(typeof e=="string"){let t=Fe.Buffer.byteLength(e);return{bodyType:Y.String,contentType:"text/plain;charset=UTF-8",contentLength:t,bodyFactory(){let r=ze.Readable.from(Fe.Buffer.from(e,"utf-8"));return new He.PonyfillReadableStream(r)}}}if(Fe.Buffer.isBuffer(e)){let t=e;return{bodyType:Y.Buffer,contentType:null,contentLength:e.length,buffer:e,bodyFactory(){let r=ze.Readable.from(t);return new He.PonyfillReadableStream(r)}}}if((0,ie.isArrayBufferView)(e)){let t=Fe.Buffer.from(e.buffer,e.byteOffset,e.byteLength);return{bodyType:Y.Buffer,contentLength:e.byteLength,contentType:null,buffer:t,bodyFactory(){let r=ze.Readable.from(t);return new He.PonyfillReadableStream(r)}}}if(e instanceof He.PonyfillReadableStream&&e.readable!=null){let t=e;return{bodyType:Y.ReadableStream,bodyFactory:()=>t,contentType:null,contentLength:null}}if(vd(e)){let t=e;return{bodyType:Y.Blob,contentType:e.type,contentLength:e.size,bodyFactory(){return t.stream()}}}if(e instanceof ArrayBuffer){let t=e.byteLength,r=Fe.Buffer.from(e,void 0,e.byteLength);return{bodyType:Y.Buffer,contentType:null,contentLength:t,buffer:r,bodyFactory(){let n=ze.Readable.from(r);return new He.PonyfillReadableStream(n)}}}if(e instanceof ze.Readable)return{bodyType:Y.Readable,contentType:null,contentLength:null,bodyFactory(){return new He.PonyfillReadableStream(e)}};if(Td(e))return{bodyType:Y.String,contentType:"application/x-www-form-urlencoded;charset=UTF-8",contentLength:null,bodyFactory(){return new He.PonyfillReadableStream(ze.Readable.from(e.toString()))}};if(kd(e)){let t=Math.random().toString(36).substr(2),r=`multipart/form-data; boundary=${t}`;return{bodyType:Y.FormData,contentType:r,contentLength:null,bodyFactory(){return(0,Jc.getStreamFromFormData)(e,t)}}}if(Cd(e))return{contentType:null,contentLength:null,bodyFactory(){return new He.PonyfillReadableStream(e)}};if(e[Symbol.iterator]||e[Symbol.asyncIterator])return{contentType:null,contentLength:null,bodyType:Y.AsyncIterable,bodyFactory(){let t=ze.Readable.from(e);return new He.PonyfillReadableStream(t)}};throw new Error("Unknown body type")}function kd(e){return(e==null?void 0:e.forEach)!=null}function vd(e){return(e==null?void 0:e.stream)!=null&&typeof e.stream=="function"}function Td(e){return(e==null?void 0:e.sort)!=null}function Cd(e){return(e==null?void 0:e.getReader)!=null}});var mn=A(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.PonyfillHeaders=void 0;fr.isHeadersLike=Je;var Rd=L("util"),Ks=fn();function Je(e){return(e==null?void 0:e.get)&&(e==null?void 0:e.forEach)}var Ys=class{headersInit;_map;objectNormalizedKeysOfHeadersInit=[];objectOriginalKeysOfHeadersInit=[];_setCookies;constructor(t){this.headersInit=t}_get(t){var n;let r=t.toLowerCase();if(r==="set-cookie"&&((n=this._setCookies)!=null&&n.length))return this._setCookies.join(", ");if(this._map)return this._map.get(r)||null;if(this.headersInit==null)return null;if(Array.isArray(this.headersInit)){let s=this.headersInit.filter(([i])=>i.toLowerCase()===r);return s.length===0?null:s.length===1?s[0][1]:s.map(([,i])=>i).join(", ")}else{if(Je(this.headersInit))return this.headersInit.get(r);{let s=this.headersInit[t]||this.headersInit[r];if(s!=null)return s;this.objectNormalizedKeysOfHeadersInit.length||Object.keys(this.headersInit).forEach(a=>{this.objectOriginalKeysOfHeadersInit.push(a),this.objectNormalizedKeysOfHeadersInit.push(a.toLowerCase())});let i=this.objectNormalizedKeysOfHeadersInit.indexOf(r);if(i===-1)return null;let o=this.objectOriginalKeysOfHeadersInit[i];return this.headersInit[o]}}}getMap(){if(!this._map)if(this._setCookies||(this._setCookies=[]),this.headersInit!=null)if(Array.isArray(this.headersInit)){this._map=new Map;for(let[t,r]of this.headersInit){let n=t.toLowerCase();if(n==="set-cookie"){Array.isArray(r)?this._setCookies.push(...r):r!=null&&this._setCookies.push(r);continue}this._map.set(n,r)}}else if(Je(this.headersInit))this._map=new Map,this.headersInit.forEach((t,r)=>{if(r==="set-cookie"){this._setCookies||(this._setCookies=[]),Array.isArray(t)?this._setCookies.push(...t):t!=null&&this._setCookies.push(t);return}this._map.set(r,t)});else{this._map=new Map;for(let t in this.headersInit){let r=this.headersInit[t];if(r!=null){let n=t.toLowerCase();if(n==="set-cookie"){if(this._setCookies||(this._setCookies=[]),Array.isArray(r)){this._setCookies.push(...r);continue}this._setCookies.push(r);continue}this._map.set(n,r)}}}else this._map=new Map;return this._map}append(t,r){let n=t.toLowerCase();if(n==="set-cookie"){this._setCookies||(this._setCookies=[]),this._setCookies.push(r);return}let s=this.getMap().get(n),i=s?`${s}, ${r}`:r;this.getMap().set(n,i)}get(t){let r=this._get(t);return r==null?null:r.toString()}has(t){var n;return t.toLowerCase()==="set-cookie"?!!((n=this._setCookies)!=null&&n.length):!!this._get(t)}set(t,r){let n=t.toLowerCase();if(n==="set-cookie"){this._setCookies=[r];return}if(!this._map&&this.headersInit!=null)if(Array.isArray(this.headersInit)){let s=this.headersInit.find(([i])=>i.toLowerCase()===n);s?s[1]=r:this.headersInit.push([n,r]);return}else if(Je(this.headersInit)){this.headersInit.set(n,r);return}else{this.headersInit[n]=r;return}this.getMap().set(n,r)}delete(t){let r=t.toLowerCase();if(r==="set-cookie"){this._setCookies=[];return}this.getMap().delete(r)}forEach(t){var r;if((r=this._setCookies)==null||r.forEach(n=>{t(n,"set-cookie",this)}),!this._map){if(this.headersInit){if(Array.isArray(this.headersInit)){this.headersInit.forEach(([n,s])=>{t(s,n,this)});return}if(Je(this.headersInit)){this.headersInit.forEach(t);return}Object.entries(this.headersInit).forEach(([n,s])=>{s!=null&&t(s,n,this)})}return}this.getMap().forEach((n,s)=>{t(n,s,this)})}*_keys(){var t;if((t=this._setCookies)!=null&&t.length&&(yield"set-cookie"),!this._map&&this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([r])=>r)[Symbol.iterator]();return}if(Je(this.headersInit)){yield*this.headersInit.keys();return}yield*Object.keys(this.headersInit)[Symbol.iterator]();return}yield*this.getMap().keys()}keys(){return new Ks.PonyfillIteratorObject(this._keys(),"HeadersIterator")}*_values(){var t;if((t=this._setCookies)!=null&&t.length&&(yield*this._setCookies),!this._map&&this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit.map(([,r])=>r)[Symbol.iterator]();return}if(Je(this.headersInit)){yield*this.headersInit.values();return}yield*Object.values(this.headersInit)[Symbol.iterator]();return}yield*this.getMap().values()}values(){return new Ks.PonyfillIteratorObject(this._values(),"HeadersIterator")}*_entries(){var t;if((t=this._setCookies)!=null&&t.length&&(yield*this._setCookies.map(r=>["set-cookie",r])),!this._map&&this.headersInit){if(Array.isArray(this.headersInit)){yield*this.headersInit;return}if(Je(this.headersInit)){yield*this.headersInit.entries();return}yield*Object.entries(this.headersInit);return}yield*this.getMap().entries()}entries(){return new Ks.PonyfillIteratorObject(this._entries(),"HeadersIterator")}getSetCookie(){return this._setCookies||this.getMap(),this._setCookies}[Symbol.iterator](){return this.entries()}[Symbol.for("nodejs.util.inspect.custom")](){let t={};return this.forEach((r,n)=>{n==="set-cookie"?t["set-cookie"]=this._setCookies||[]:t[n]=r!=null&&r.includes(",")?r.split(",").map(s=>s.trim()):r}),`Headers ${(0,Rd.inspect)(t)}`}};fr.PonyfillHeaders=Ys});var dr=A(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.PonyfillResponse=void 0;var Dd=L("http"),Od=pn(),Js=mn(),hr="application/json; charset=utf-8",Xs=class e extends Od.PonyfillBody{headers;constructor(t,r){super(t||null,r),this.headers=r!=null&&r.headers&&(0,Js.isHeadersLike)(r.headers)?r.headers:new Js.PonyfillHeaders(r==null?void 0:r.headers),this.status=(r==null?void 0:r.status)||200,this.statusText=(r==null?void 0:r.statusText)||Dd.STATUS_CODES[this.status]||"OK",this.url=(r==null?void 0:r.url)||"",this.redirected=(r==null?void 0:r.redirected)||!1,this.type=(r==null?void 0:r.type)||"default",this.handleContentLengthHeader()}get ok(){return this.status>=200&&this.status<300}status;statusText;url;redirected;type;clone(){return this}static error(){return new e(null,{status:500,statusText:"Internal Server Error"})}static redirect(t,r=302){if(r<300||r>399)throw new RangeError("Invalid status code");return new e(null,{headers:{location:t},status:r})}static json(t,r){var s,i;let n=JSON.stringify(t);if(!r)r={headers:{"content-type":hr,"content-length":Buffer.byteLength(n).toString()}};else if(!r.headers)r.headers={"content-type":hr,"content-length":Buffer.byteLength(n).toString()};else if((0,Js.isHeadersLike)(r.headers))r.headers.has("content-type")||r.headers.set("content-type",hr),r.headers.has("content-length")||r.headers.set("content-length",Buffer.byteLength(n).toString());else if(Array.isArray(r.headers)){let o=!1,a=!1;for(let[l]of r.headers){if(a&&o)break;!o&&l.toLowerCase()==="content-type"?o=!0:!a&&l.toLowerCase()==="content-length"&&(a=!0)}o||r.headers.push(["content-type",hr]),a||r.headers.push(["content-length",Buffer.byteLength(n).toString()])}else typeof r.headers=="object"&&(((s=r.headers)==null?void 0:s["content-type"])==null&&(r.headers["content-type"]=hr),((i=r.headers)==null?void 0:i["content-length"])==null&&(r.headers["content-length"]=Buffer.byteLength(n).toString()));return new e(n,r)}[Symbol.toStringTag]="Response"};bn.PonyfillResponse=Xs});var Zc=A(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.fetchCurl=jd;var Xc=L("stream"),Ld=L("tls"),Ad=Ye(),Fd=dr(),Zs=ye();function jd(e){let{Curl:t,CurlFeature:r,CurlPause:n,CurlProgressFunc:s}=globalThis.libcurl,i=new t;i.enable(r.NoDataParsing),i.setOpt("URL",e.url),process.env.NODE_TLS_REJECT_UNAUTHORIZED==="0"&&i.setOpt("SSL_VERIFYPEER",!1),process.env.NODE_EXTRA_CA_CERTS?i.setOpt("CAINFO",process.env.NODE_EXTRA_CA_CERTS):i.setOpt("CAINFO_BLOB",Ld.rootCertificates.join(`
`)),i.enable(r.StreamResponse);let o;if(e._signal===null?o=void 0:e._signal&&(o=e._signal),i.setStreamProgressCallback(function(){return o!=null&&o.aborted?process.env.DEBUG?s.Continue:1:0}),e.bodyType==="String")i.setOpt("POSTFIELDS",e.bodyInit);else{let p=e.body!=null?(0,Zs.isNodeReadable)(e.body)?e.body:Xc.Readable.from(e.body):null;p&&(i.setOpt("UPLOAD",!0),i.setUploadStream(p))}process.env.DEBUG&&i.setOpt("VERBOSE",!0),i.setOpt("TRANSFER_ENCODING",!1),i.setOpt("HTTP_TRANSFER_DECODING",!0),i.setOpt("FOLLOWLOCATION",e.redirect==="follow"),i.setOpt("MAXREDIRS",20),i.setOpt("ACCEPT_ENCODING",""),i.setOpt("CUSTOMREQUEST",e.method);let a=e.headersSerializer||Zs.defaultHeadersSerializer,l,c=a(e.headers,p=>{l=Number(p)});l!=null&&i.setOpt("INFILESIZE",l),i.setOpt("HTTPHEADER",c),i.enable(r.NoHeaderParsing);let f=(0,Ad.createDeferredPromise)(),d;function _(){if(i.isOpen)try{i.pause(n.Recv)}catch(p){f.reject(p)}}return o==null||o.addEventListener("abort",_,{once:!0}),i.once("end",function(){try{i.close()}catch(x){f.reject(x)}o==null||o.removeEventListener("abort",_)}),i.once("error",function(x){d&&!d.closed&&!d.destroyed?d.destroy(x):(x.message==="Operation was aborted by an application callback"&&(x.message="The operation was aborted."),f.reject(x));try{i.close()}catch(w){f.reject(w)}}),i.once("stream",function(x,w,k){var S;let C=x.pipe(new Xc.PassThrough,{end:!0}),P=k.toString("utf8").split(/\r?\n|\r/g).filter(T=>T&&!T.startsWith("HTTP/")?(e.redirect==="error"&&T.toLowerCase().includes("location")&&(0,Zs.shouldRedirect)(w)&&(x.destroyed||x.resume(),C.destroy(),f.reject(new Error("redirect is not allowed"))),!0):!1).map(T=>T.split(/:\s(.+)/).slice(0,2)),O=new Fd.PonyfillResponse(C,{status:w,headers:P,url:((S=i.getInfo(t.info.REDIRECT_URL))==null?void 0:S.toString())||e.url,redirected:Number(i.getInfo(t.info.REDIRECT_COUNT))>0});f.resolve(O),d=C}),setImmediate(()=>{i.perform()}),f.promise}});var pr=A(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.PonyfillURL=void 0;var Id=(At(),bt(Lt)),Bd=Id.__importDefault(L("buffer")),Ud=L("crypto"),Qc=globalThis.URL,ei=class extends Qc{static blobRegistry=new Map;static createObjectURL(t){let r=`blob:whatwgnode:${(0,Ud.randomUUID)()}`;return this.blobRegistry.set(r,t),r}static revokeObjectURL(t){this.blobRegistry.has(t)?this.blobRegistry.delete(t):Qc.revokeObjectURL(t)}static getBlobFromURL(t){var r,n;return this.blobRegistry.get(t)||((n=(r=Bd.default)==null?void 0:r.resolveObjectURL)==null?void 0:n.call(r,t))}};yn.PonyfillURL=ei});var _n=A(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.PonyfillRequest=void 0;var Nd=L("http"),$d=L("https"),qd=pn(),el=mn(),Md=pr();function Hd(e){return e[Symbol.toStringTag]==="Request"}function zd(e){return(e==null?void 0:e.href)!=null}var ti=class extends qd.PonyfillBody{constructor(t,r){var a;let n,s,i=null,o;if(typeof t=="string"?n=t:zd(t)?s=t:Hd(t)&&(t._parsedUrl?s=t._parsedUrl:t._url?n=t._url:n=t.url,i=t.body,o=t),r!=null&&(i=r.body||null,o=r),super(i,o),this._url=n,this._parsedUrl=s,this.cache=(o==null?void 0:o.cache)||"default",this.credentials=(o==null?void 0:o.credentials)||"same-origin",this.headers=o!=null&&o.headers&&(0,el.isHeadersLike)(o.headers)?o.headers:new el.PonyfillHeaders(o==null?void 0:o.headers),this.integrity=(o==null?void 0:o.integrity)||"",this.keepalive=(o==null?void 0:o.keepalive)!=null?o==null?void 0:o.keepalive:!1,this.method=((a=o==null?void 0:o.method)==null?void 0:a.toUpperCase())||"GET",this.mode=(o==null?void 0:o.mode)||"cors",this.redirect=(o==null?void 0:o.redirect)||"follow",this.referrer=(o==null?void 0:o.referrer)||"about:client",this.referrerPolicy=(o==null?void 0:o.referrerPolicy)||"no-referrer",this.headersSerializer=o==null?void 0:o.headersSerializer,this.duplex=(o==null?void 0:o.duplex)||"half",this.destination="document",this.priority="auto",this.method!=="GET"&&this.method!=="HEAD"&&this.handleContentLengthHeader(!0),(o==null?void 0:o.agent)!=null){let l=(s==null?void 0:s.protocol)||n||this.url;o.agent===!1?this.agent=!1:l.startsWith("http:")&&o.agent instanceof Nd.Agent?this.agent=o.agent:l.startsWith("https:")&&o.agent instanceof $d.Agent&&(this.agent=o.agent)}}headersSerializer;cache;credentials;destination;headers;integrity;keepalive;method;mode;priority;redirect;referrer;referrerPolicy;_url;get signal(){return this._signal||(this._signal=new AbortController().signal),this._signal}get url(){if(this._url==null)if(this._parsedUrl)this._url=this._parsedUrl.toString();else throw new TypeError("Invalid URL");return this._url}_parsedUrl;get parsedUrl(){if(this._parsedUrl==null)if(this._url!=null)this._parsedUrl=new Md.PonyfillURL(this._url,"http://localhost");else throw new TypeError("Invalid URL");return this._parsedUrl}duplex;agent;clone(){return this}[Symbol.toStringTag]="Request"};gn.PonyfillRequest=ti});var sl=A(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.fetchNodeHttp=nl;var Wd=(At(),bt(Lt)),rl=L("http"),Gd=L("https"),tl=L("stream"),Bt=Wd.__importDefault(L("zlib")),Vd=Ye(),Kd=_n(),Yd=dr(),Jd=pr(),Xe=ye();function Xd(e){if(e.startsWith("http:"))return rl.request;if(e.startsWith("https:"))return Gd.request;throw new Error(`Unsupported protocol: ${e.split(":")[0]||e}`)}function nl(e){return new Promise((t,r)=>{var n;try{let s=Xd(((n=e.parsedUrl)==null?void 0:n.protocol)||e.url),o=(e.headersSerializer||Xe.getHeadersObj)(e.headers);o["accept-encoding"]||(o["accept-encoding"]=Xe.DEFAULT_ACCEPT_ENCODING),o["user-agent"]==null&&o["User-Agent"]==null&&(o["user-agent"]="node");let a;e._signal==null?a=void 0:e._signal&&(a=e._signal);let l;if(e.parsedUrl?l=s(e.parsedUrl,{method:e.method,headers:o,signal:a,agent:e.agent}):l=s(e.url,{method:e.method,headers:o,signal:a,agent:e.agent}),l.once("error",r),l.once("response",c=>{let f;switch(c.headers["content-encoding"]){case"x-gzip":case"gzip":f=Bt.default.createGunzip();break;case"x-deflate":case"deflate":f=Bt.default.createInflate();break;case"x-deflate-raw":case"deflate-raw":f=Bt.default.createInflateRaw();break;case"br":f=Bt.default.createBrotliDecompress();break;case"zstd":Bt.default.createZstdDecompress!=null&&(f=Bt.default.createZstdDecompress());break}if(c.headers.location&&(0,Xe.shouldRedirect)(c.statusCode)){if(e.redirect==="error"){let w=new Error("Redirects are not allowed");r(w),c.resume();return}if(e.redirect==="follow"){let w=new Jd.PonyfillURL(c.headers.location,e.parsedUrl||e.url),k=nl(new Kd.PonyfillRequest(w,e));t(k.then(C=>(C.redirected=!0,C))),c.resume();return}}f||(f=new tl.PassThrough),(0,Xe.pipeThrough)({src:c,dest:f,signal:a,onError:w=>{c.destroyed||c.destroy(w),f.destroyed||f.destroy(w),r(w)}});let _=c.statusCode||200,p=c.statusMessage||rl.STATUS_CODES[_];p==null&&(p="");let x=new Yd.PonyfillResponse(f||c,{status:_,statusText:p,headers:c.headers,url:e.url,signal:a});t(x)}),e._buffer!=null)(0,Vd.handleMaybePromise)(()=>(0,Xe.safeWrite)(e._buffer,l),()=>(0,Xe.endStream)(l),r);else{let c=e.body!=null?(0,Xe.isNodeReadable)(e.body)?e.body:tl.Readable.from(e.body):null;c?c.pipe(l):(0,Xe.endStream)(l)}}catch(s){r(s)}})}});var cl=A(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.fetchPonyfill=al;var Zd=L("buffer"),xn=L("fs"),Qd=L("url"),ep=Zc(),tp=sl(),rp=_n(),Ut=dr(),np=pr(),il=ye(),ol=";base64";async function sp(e){let t=(0,Qd.fileURLToPath)(e);try{await xn.promises.access(t,xn.promises.constants.R_OK);let r=await xn.promises.stat(t,{bigint:!0}),n=(0,xn.createReadStream)(t);return new Ut.PonyfillResponse(n,{status:200,statusText:"OK",headers:{"content-type":"application/octet-stream","last-modified":r.mtime.toUTCString()}})}catch(r){if(r.code==="ENOENT")return new Ut.PonyfillResponse(null,{status:404,statusText:"Not Found"});if(r.code==="EACCES")return new Ut.PonyfillResponse(null,{status:403,statusText:"Forbidden"});throw r}}function ip(e){let[t="text/plain",...r]=e.substring(5).split(","),n=decodeURIComponent(r.join(","));if(t.endsWith(ol)){let s=Zd.Buffer.from(n,"base64url"),i=t.slice(0,-ol.length);return new Ut.PonyfillResponse(s,{status:200,statusText:"OK",headers:{"content-type":i}})}return new Ut.PonyfillResponse(n,{status:200,statusText:"OK",headers:{"content-type":t}})}function op(e){let t=np.PonyfillURL.getBlobFromURL(e);if(!t)throw new TypeError("Invalid Blob URL");return new Ut.PonyfillResponse(t,{status:200,headers:{"content-type":t.type,"content-length":t.size.toString()}})}function ap(e){return e!=null&&e.href!=null}function al(e,t){if(typeof e=="string"||ap(e)){let n=new rp.PonyfillRequest(e,t);return al(n)}let r=e;if(r.url.startsWith("data:")){let n=ip(r.url);return(0,il.fakePromise)(n)}if(r.url.startsWith("file:"))return sp(r.url);if(r.url.startsWith("blob:")){let n=op(r.url);return(0,il.fakePromise)(n)}return globalThis.libcurl&&!r.agent?(0,ep.fetchCurl)(r):(0,tp.fetchNodeHttp)(r)}});var oi=A(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.PonyfillTextDecoder=ut.PonyfillTextEncoder=void 0;ut.PonyfillBtoa=lp;var mr=L("buffer"),cp=ye(),si=class{encoding;constructor(t="utf-8"){this.encoding=t}encode(t){return mr.Buffer.from(t,this.encoding)}encodeInto(t,r){let s=this.encode(t).copy(r);return{read:s,written:s}}};ut.PonyfillTextEncoder=si;var ii=class{encoding;fatal=!1;ignoreBOM=!1;constructor(t="utf-8",r){this.encoding=t,r&&(this.fatal=r.fatal||!1,this.ignoreBOM=r.ignoreBOM||!1)}decode(t){return mr.Buffer.isBuffer(t)?t.toString(this.encoding):(0,cp.isArrayBufferView)(t)?mr.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString(this.encoding):mr.Buffer.from(t).toString(this.encoding)}};ut.PonyfillTextDecoder=ii;function lp(e){return mr.Buffer.from(e,"binary").toString("base64")}});var ll=A(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.PonyfillURLSearchParams=void 0;wn.PonyfillURLSearchParams=globalThis.URLSearchParams});var li=A(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.PonyfillWritableStream=void 0;var Sn=L("events"),ai=L("stream"),ul=Ye(),Ze=ye(),ci=class{writable;constructor(t){if(t instanceof ai.Writable)this.writable=t;else if(t){let r=new ai.Writable({write(i,o,a){var l;try{let c=(l=t.write)==null?void 0:l.call(t,i,s);c instanceof Promise?c.then(()=>{a()},f=>{a(f)}):a()}catch(c){a(c)}},final(i){var a;let o=(a=t.close)==null?void 0:a.call(t);o instanceof Promise?o.then(()=>{i()},l=>{i(l)}):i()}});this.writable=r;let n=new AbortController,s={signal:n.signal,error(i){r.destroy(i)}};r.once("error",i=>n.abort(i)),r.once("close",()=>n.abort())}else this.writable=new ai.Writable}getWriter(){let t=this.writable;return{get closed(){return(0,Sn.once)(t,"close")},get desiredSize(){return t.writableLength},get ready(){return(0,Sn.once)(t,"drain")},releaseLock(){},write(r){let n=(0,Ze.fakePromise)();return r==null?n:n.then(()=>(0,Ze.safeWrite)(r,t))},close(){return!t.errored&&t.closed?(0,Ze.fakePromise)():t.errored?(0,ul.fakeRejectPromise)(t.errored):(0,Ze.fakePromise)().then(()=>(0,Ze.endStream)(t))},abort(r){return t.destroy(r),(0,Sn.once)(t,"close")}}}close(){return!this.writable.errored&&this.writable.closed?(0,Ze.fakePromise)():this.writable.errored?(0,ul.fakeRejectPromise)(this.writable.errored):(0,Ze.fakePromise)().then(()=>(0,Ze.endStream)(this.writable))}abort(t){return this.writable.destroy(t),(0,Sn.once)(this.writable,"close")}locked=!1};Pn.PonyfillWritableStream=ci});var br=A(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.PonyfillTransformStream=void 0;var ui=L("stream"),up=Ft(),fp=ye(),hp=li(),fi=class{transform;writable;readable;constructor(t){if(t instanceof ui.Transform)this.transform=t;else if(t){let r={enqueue(s){n.push(s)},error(s){n.destroy(s)},terminate(){(0,fp.endStream)(n)},get desiredSize(){return n.writableLength}},n=new ui.Transform({read(){},write(s,i,o){var a;try{let l=(a=t.transform)==null?void 0:a.call(t,s,r);l instanceof Promise?l.then(()=>{o()},c=>{o(c)}):o()}catch(l){o(l)}},final(s){var i;try{let o=(i=t.flush)==null?void 0:i.call(t,r);o instanceof Promise?o.then(()=>{s()},a=>{s(a)}):s()}catch(o){s(o)}}});this.transform=n}else this.transform=new ui.Transform;this.writable=new hp.PonyfillWritableStream(this.transform),this.readable=new up.PonyfillReadableStream(this.transform)}};En.PonyfillTransformStream=fi});var fl=A(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.PonyfillCompressionStream=void 0;var dp=(At(),bt(Lt)),yr=dp.__importDefault(L("zlib")),pp=br(),mp=ye(),hi=class extends pp.PonyfillTransformStream{static supportedFormats=(0,mp.getSupportedFormats)();constructor(t){switch(t){case"x-gzip":case"gzip":super(yr.default.createGzip());break;case"x-deflate":case"deflate":super(yr.default.createDeflate());break;case"deflate-raw":super(yr.default.createDeflateRaw());break;case"br":super(yr.default.createBrotliCompress());break;case"zstd":super(yr.default.createZstdCompress());break;default:throw new Error(`Unsupported compression format: ${t}`)}}};kn.PonyfillCompressionStream=hi});var hl=A(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.PonyfillDecompressionStream=void 0;var bp=(At(),bt(Lt)),gr=bp.__importDefault(L("zlib")),yp=br(),gp=ye(),di=class extends yp.PonyfillTransformStream{static supportedFormats=(0,gp.getSupportedFormats)();constructor(t){switch(t){case"x-gzip":case"gzip":super(gr.default.createGunzip());break;case"x-deflate":case"deflate":super(gr.default.createInflate());break;case"deflate-raw":super(gr.default.createInflateRaw());break;case"br":super(gr.default.createBrotliDecompress());break;case"zstd":super(gr.default.createZstdDecompress());break;default:throw new TypeError(`Unsupported compression format: '${t}'`)}}};vn.PonyfillDecompressionStream=di});var ml=A(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PonyfillTextEncoderStream=Nt.PonyfillTextDecoderStream=void 0;var dl=oi(),pl=br(),pi=class extends pl.PonyfillTransformStream{textDecoder;constructor(t,r){super({transform:(n,s)=>s.enqueue(this.textDecoder.decode(n,{stream:!0}))}),this.textDecoder=new dl.PonyfillTextDecoder(t,r)}get encoding(){return this.textDecoder.encoding}get fatal(){return this.textDecoder.fatal}get ignoreBOM(){return this.textDecoder.ignoreBOM}};Nt.PonyfillTextDecoderStream=pi;var mi=class extends pl.PonyfillTransformStream{textEncoder;constructor(t){super({transform:(r,n)=>n.enqueue(this.textEncoder.encode(r))}),this.textEncoder=new dl.PonyfillTextEncoder(t)}get encoding(){return this.textEncoder.encoding}encode(t){return this.textEncoder.encode(t)}};Nt.PonyfillTextEncoderStream=mi});var yl=A(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.TextEncoderStream=j.TextDecoderStream=j.IteratorObject=j.DecompressionStream=j.CompressionStream=j.TransformStream=j.WritableStream=j.URLSearchParams=j.URL=j.btoa=j.TextDecoder=j.TextEncoder=j.Blob=j.FormData=j.File=j.ReadableStream=j.Response=j.Request=j.Body=j.Headers=j.fetch=void 0;var _p=cl();Object.defineProperty(j,"fetch",{enumerable:!0,get:function(){return _p.fetchPonyfill}});var xp=mn();Object.defineProperty(j,"Headers",{enumerable:!0,get:function(){return xp.PonyfillHeaders}});var wp=pn();Object.defineProperty(j,"Body",{enumerable:!0,get:function(){return wp.PonyfillBody}});var Sp=_n();Object.defineProperty(j,"Request",{enumerable:!0,get:function(){return Sp.PonyfillRequest}});var Pp=dr();Object.defineProperty(j,"Response",{enumerable:!0,get:function(){return Pp.PonyfillResponse}});var Ep=Ft();Object.defineProperty(j,"ReadableStream",{enumerable:!0,get:function(){return Ep.PonyfillReadableStream}});var kp=Fs();Object.defineProperty(j,"File",{enumerable:!0,get:function(){return kp.PonyfillFile}});var vp=Gs();Object.defineProperty(j,"FormData",{enumerable:!0,get:function(){return vp.PonyfillFormData}});var Tp=Zr();Object.defineProperty(j,"Blob",{enumerable:!0,get:function(){return Tp.PonyfillBlob}});var bi=oi();Object.defineProperty(j,"TextEncoder",{enumerable:!0,get:function(){return bi.PonyfillTextEncoder}});Object.defineProperty(j,"TextDecoder",{enumerable:!0,get:function(){return bi.PonyfillTextDecoder}});Object.defineProperty(j,"btoa",{enumerable:!0,get:function(){return bi.PonyfillBtoa}});var Cp=pr();Object.defineProperty(j,"URL",{enumerable:!0,get:function(){return Cp.PonyfillURL}});var Rp=ll();Object.defineProperty(j,"URLSearchParams",{enumerable:!0,get:function(){return Rp.PonyfillURLSearchParams}});var Dp=li();Object.defineProperty(j,"WritableStream",{enumerable:!0,get:function(){return Dp.PonyfillWritableStream}});var Op=br();Object.defineProperty(j,"TransformStream",{enumerable:!0,get:function(){return Op.PonyfillTransformStream}});var Lp=fl();Object.defineProperty(j,"CompressionStream",{enumerable:!0,get:function(){return Lp.PonyfillCompressionStream}});var Ap=hl();Object.defineProperty(j,"DecompressionStream",{enumerable:!0,get:function(){return Ap.PonyfillDecompressionStream}});var Fp=fn();Object.defineProperty(j,"IteratorObject",{enumerable:!0,get:function(){return Fp.PonyfillIteratorObject}});var bl=ml();Object.defineProperty(j,"TextDecoderStream",{enumerable:!0,get:function(){return bl.PonyfillTextDecoderStream}});Object.defineProperty(j,"TextEncoderStream",{enumerable:!0,get:function(){return bl.PonyfillTextEncoderStream}})});var _l=A((yy,gl)=>{var jp=Kn(),z;gl.exports=function(t={}){let r={};if(r.URLPattern=globalThis.URLPattern,!r.URLPattern){let n=Go();r.URLPattern=n.URLPattern}if(t.skipPonyfill||jp())return{fetch:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response,FormData:globalThis.FormData,ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,CompressionStream:globalThis.CompressionStream,DecompressionStream:globalThis.DecompressionStream,TextDecoderStream:globalThis.TextDecoderStream,TextEncoderStream:globalThis.TextEncoderStream,Blob:globalThis.Blob,File:globalThis.File,crypto:globalThis.crypto,btoa:globalThis.btoa,TextEncoder:globalThis.TextEncoder,TextDecoder:globalThis.TextDecoder,URLPattern:r.URLPattern,URL:globalThis.URL,URLSearchParams:globalThis.URLSearchParams};if(z||(z=yl()),r.fetch=z.fetch,r.Request=z.Request,r.Response=z.Response,r.Headers=z.Headers,r.FormData=z.FormData,r.ReadableStream=z.ReadableStream,r.URL=z.URL,r.URLSearchParams=z.URLSearchParams,r.WritableStream=z.WritableStream,r.TransformStream=z.TransformStream,r.CompressionStream=z.CompressionStream,r.DecompressionStream=z.DecompressionStream,r.TextDecoderStream=z.TextDecoderStream,r.TextEncoderStream=z.TextEncoderStream,r.Blob=z.Blob,r.File=z.File,r.crypto=globalThis.crypto,r.btoa=z.btoa,r.TextEncoder=z.TextEncoder,r.TextDecoder=z.TextDecoder,t.formDataLimits&&(r.Body=class extends z.Body{constructor(s,i){super(s,{formDataLimits:t.formDataLimits,...i})}},r.Request=class extends z.Request{constructor(s,i){super(s,{formDataLimits:t.formDataLimits,...i})}},r.Response=class extends z.Response{constructor(s,i){super(s,{formDataLimits:t.formDataLimits,...i})}}),!r.crypto){let n=L("crypto");r.crypto=n.webcrypto}return r}});var Sl=A((wl,W)=>{var xl=_l(),Ip=Kn(),G=xl();if(!Ip())try{let e="node-libcurl";globalThis.libcurl=globalThis.libcurl||L(e)}catch{}W.exports.fetch=G.fetch;W.exports.Headers=G.Headers;W.exports.Request=G.Request;W.exports.Response=G.Response;W.exports.FormData=G.FormData;W.exports.ReadableStream=G.ReadableStream;W.exports.WritableStream=G.WritableStream;W.exports.TransformStream=G.TransformStream;W.exports.CompressionStream=G.CompressionStream;W.exports.DecompressionStream=G.DecompressionStream;W.exports.TextDecoderStream=G.TextDecoderStream;W.exports.TextEncoderStream=G.TextEncoderStream;W.exports.Blob=G.Blob;W.exports.File=G.File;W.exports.crypto=G.crypto;W.exports.btoa=G.btoa;W.exports.TextEncoder=G.TextEncoder;W.exports.TextDecoder=G.TextDecoder;W.exports.URLPattern=G.URLPattern;W.exports.URL=G.URL;W.exports.URLSearchParams=G.URLSearchParams;wl.createFetch=xl});import{env as Hn}from"process";import{closeSync as zm}from"fs";import{createServer as Wm}from"http";import Gm from"os";import{monitorEventLoopDelay as Vm,performance as Yi}from"perf_hooks";import Km from"process";import{promisify as Ym}from"util";var Dr=Symbol.for("@whatwg-node/promise-helpers/FakePromise");function $e(e){return(e==null?void 0:e.then)!=null}function Lf(e){let t=e;return t&&t.then&&t.catch&&t.finally}function Z(e,t,r,n){let s=se().then(e).then(t,r);return n&&(s=s.finally(n)),Vn(s)}function se(e){return e&&Lf(e)?e:$e(e)?{then:(t,r)=>se(e.then(t,r)),catch:t=>se(e.then(r=>r,t)),finally:t=>se(t?jf(e,t):e),[Symbol.toStringTag]:"Promise"}:{then(t){if(t)try{return se(t(e))}catch(r){return er(r)}return this},catch(){return this},finally(t){if(t)try{return se(t()).then(()=>e,()=>e)}catch(r){return er(r)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:e,[Dr]:"resolved"}}function eo(){if(Promise.withResolvers)return Promise.withResolvers();let e,t;return{promise:new Promise(function(s,i){e=s,t=i}),get resolve(){return e},get reject(){return t}}}function Or(e,t,r){if((e==null?void 0:e.length)===0)return;let n=e[Symbol.iterator](),s=0;function i(){let{done:o,value:a}=n.next();if(o)return;let l=!1;function c(){l=!0}return Z(function(){return t(a,c,s++)},function(d){if(d&&(r==null||r.push(d)),!l)return i()})}return i()}function er(e){return{then(t,r){if(r)try{return se(r(e))}catch(n){return er(n)}return this},catch(t){if(t)try{return se(t(e))}catch(r){return er(r)}return this},finally(t){if(t)try{t()}catch(r){return er(r)}return this},__fakeRejectError:e,[Symbol.toStringTag]:"Promise",[Dr]:"rejected"}}function Af(e){return(e==null?void 0:e[Dr])==="resolved"}function Ff(e){return(e==null?void 0:e[Dr])==="rejected"}function jf(e,t){return"finally"in e?e.finally(t):e.then(r=>{let n=t();return $e(n)?n.then(()=>r):r},r=>{let n=t();if($e(n))return n.then(()=>{throw r});throw r})}function Vn(e){if(Af(e))return e.__fakePromiseValue;if(Ff(e))throw e.__fakeRejectError;return e}function to(e,t){let r={...t,...e};for(let n of Object.keys(r))n in e&&n in t&&(r[n]=(s,i)=>e[n](s,()=>t[n](s,i)));return r}var ro=e=>({fn(t,r){return t?(...n)=>{let s;return t(e,()=>{s=r(...n)}),s}:r},asyncFn(t,r){return t?(...n)=>{let s;return Z(()=>t(e,()=>(s=r(...n),$e(s)?s.then(()=>{}):void 0)),()=>s)}:r}});var We=class extends Error{error;suppressed;constructor(t,r,n){super(n),this.error=t,this.suppressed=r,this.name="SuppressedError",Error.captureStackTrace(this,this.constructor)}};var ae={get dispose(){return Symbol.dispose||Symbol.for("dispose")},get asyncDispose(){return Symbol.asyncDispose||Symbol.for("asyncDispose")}};function Lr(e){return(e==null?void 0:e[ae.dispose])!=null}function no(e){return(e==null?void 0:e[ae.asyncDispose])!=null}var If=globalThis.SuppressedError||We,Ar=class e{callbacks=[];get disposed(){return this.callbacks.length===0}use(t){return no(t)?this.callbacks.push(()=>t[ae.asyncDispose]()):Lr(t)&&this.callbacks.push(()=>t[ae.dispose]()),t}adopt(t,r){return r&&this.callbacks.push(()=>r(t)),t}defer(t){t&&this.callbacks.push(t)}move(){let t=new e;return t.callbacks=this.callbacks,this.callbacks=[],t}disposeAsync(){return this[ae.asyncDispose]()}_error;_iterateCallbacks(){let t=this.callbacks.pop();if(t)return Z(t,()=>this._iterateCallbacks(),r=>(this._error=this._error?new If(r,this._error):r,this._iterateCallbacks()))}[ae.asyncDispose](){let t=this._iterateCallbacks();if(t!=null&&t.then)return t.then(()=>{if(this._error){let r=this._error;throw this._error=void 0,r}});if(this._error){let r=this._error;throw this._error=void 0,r}}[Symbol.toStringTag]="AsyncDisposableStack"};var Bf=globalThis.SuppressedError||We,Fr=class e{callbacks=[];get disposed(){return this.callbacks.length===0}use(t){return Lr(t)&&this.callbacks.push(()=>t[ae.dispose]()),t}adopt(t,r){return r&&this.callbacks.push(()=>r(t)),t}defer(t){t&&this.callbacks.push(t)}move(){let t=new e;return t.callbacks=this.callbacks,this.callbacks=[],t}dispose(){return this[ae.dispose]()}_error;_iterateCallbacks(){let t=this.callbacks.pop();if(t){try{t()}catch(r){this._error=this._error?new Bf(r,this._error):r}return this._iterateCallbacks()}}[ae.dispose](){if(this._iterateCallbacks(),this._error){let t=this._error;throw this._error=void 0,t}}[Symbol.toStringTag]="DisposableStack"};var yb=globalThis.DisposableStack||Fr,so=globalThis.AsyncDisposableStack||Ar,gb=globalThis.SuppressedError||We;var Yp=Of(Sl(),1);function Cl(e){return e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function"}function Bp(e){var n,s,i,o,a;if((n=e.socket)!=null&&n.localPort)return(s=e.socket)==null?void 0:s.localPort;let t=((i=e.headers)==null?void 0:i[":authority"])||((o=e.headers)==null?void 0:o.host),r=(a=t==null?void 0:t.split(":"))==null?void 0:a[1];return r||80}function Up(e){var n,s,i,o,a;if((n=e.headers)!=null&&n[":authority"])return(s=e.headers)==null?void 0:s[":authority"];if((i=e.headers)!=null&&i.host)return(o=e.headers)==null?void 0:o.host;let t=Bp(e);if(e.hostname)return e.hostname+":"+t;let r=(a=e.socket)==null?void 0:a.localAddress;return r&&!(r!=null&&r.includes("::"))&&!(r!=null&&r.includes("ffff"))?`${r}:${t}`:"localhost"}function Np(e){var s;let t=Up(e),r=e.protocol||((s=e.socket)!=null&&s.encrypted?"https":"http"),n=e.originalUrl||e.url||"/graphql";return`${r}://${t}${n}`}function $p(e){let t=e[Symbol.toStringTag];return!!(typeof e=="string"||t==="Uint8Array"||t==="Blob"||t==="FormData"||t==="URLSearchParams"||Cl(e))}function gi(e,t,r,n){var c,f;let s=e.raw||e.req||e,i=Np(s);if(e.query){let d=new t.URL(i);for(let _ in e.query)d.searchParams.set(_,e.query[_]);i=d.toString()}let o=e.headers;if((c=e.headers)!=null&&c[":method"]){o={};for(let d in e.headers)d.startsWith(":")||(o[d]=e.headers[d])}let a=n?Pi():new AbortController;if(r!=null&&r.once){let d=()=>{a.signal.aborted||(Object.defineProperty(s,"aborted",{value:!0}),a.abort(r.errored??void 0))};r.once("error",d),r.once("close",d),r.once("finish",()=>{r.removeListener("close",d)})}if(e.method==="GET"||e.method==="HEAD")return new t.Request(i,{method:e.method,headers:o,signal:a.signal});let l=e.body;if(l!=null&&Object.keys(l).length>0){if($p(l))return new t.Request(i,{method:e.method||"GET",headers:o,body:l,signal:a.signal});let d=new t.Request(i,{method:e.method||"GET",headers:o,signal:a.signal});return(f=d.headers.get("content-type"))!=null&&f.includes("json")||d.headers.set("content-type","application/json; charset=utf-8"),new Proxy(d,{get(_,p,x){switch(p){case"json":return()=>se(l);case"text":return()=>se(JSON.stringify(l));default:{let w=Reflect.get(d,p,d);return typeof w=="function"?function(...C){return w.apply(this===x?d:this,C)}:w}}}})}return new t.Request(i,{method:e.method,headers:o,signal:a.signal,body:s,duplex:"half"})}function Rl(e){return e.read!=null}function Dl(e){return Rl(e)}function _i(e){return e!=null&&e.setHeader!=null&&e.end!=null&&e.once!=null&&e.write!=null}function qp(e){return e!=null&&e.getReader!=null}function Ol(e){return e!=null&&e.request!=null&&e.respondWith!=null}function Mp(e){var t,r,n,s,i,o;(r=(t=e==null?void 0:e.socket)==null?void 0:t.setTimeout)==null||r.call(t,0),(s=(n=e==null?void 0:e.socket)==null?void 0:n.setNoDelay)==null||s.call(n,!0),(o=(i=e==null?void 0:e.socket)==null?void 0:i.setKeepAlive)==null||o.call(i,!0)}function _r(e){e.end(null,null,null)}function Hp(e,t){let r=!1,n=()=>{r=!0};e.once("error",n),e.once("close",n),e.once("finish",()=>{e.removeListener("close",n),e.removeListener("error",n)});let s=t[Symbol.asyncIterator]();return Ll(()=>s.next(),e,()=>r)}function Pl(e){e.end(null,null,null)}function Ll(e,t,r){let n=()=>Z(e,s=>r!=null&&r()||s.done?Pl(t):Z(()=>Tn(s.value,t),()=>r!=null&&r()?Pl(t):n()));return n()}function Tn(e,t){if(!t.write(e))return new Promise(n=>t.once("drain",n))}var kl,vl,Tl,zp=(Tl=(vl=(kl=globalThis.process)==null?void 0:kl.versions)==null?void 0:vl.node)==null?void 0:Tl.startsWith("1");function Al(e,t,r,n){var o,a;if(t.closed||t.destroyed||t.writableEnded)return;if(!e){t.statusCode=404,_r(t);return}if(n&&((o=e.headers)!=null&&o.headersInit)&&!Array.isArray(e.headers.headersInit)&&!e.headers.headersInit.get&&!e.headers._map&&!((a=e.headers._setCookies)!=null&&a.length))t.writeHead(e.status,e.statusText,e.headers.headersInit);else{if(t.setHeaders&&!zp)t.setHeaders(e.headers);else{let l=!1;e.headers.forEach((c,f)=>{var d,_;if(f==="set-cookie"){if(l)return;l=!0;let p=(_=(d=e.headers).getSetCookie)==null?void 0:_.call(d);if(p){t.setHeader("set-cookie",p);return}}t.setHeader(f,c)})}t.writeHead(e.status,e.statusText)}if(e.bodyType==="String"){let l=e.bodyInit;return Z(()=>Tn(l,t),()=>_r(t))}let s=e._buffer;if(s)return Z(()=>Tn(s,t),()=>_r(t));let i=e.body;if(i==null){_r(t);return}if(i[Symbol.toStringTag]==="Uint8Array")return Z(()=>Tn(i,t),()=>_r(t));if(Mp(r),Rl(i)){t.once("close",()=>{i.destroy()}),i.pipe(t,{end:!0});return}if(qp(i))return Wp(r,t,i);if(Cl(i))return Hp(t,i)}function Wp(e,t,r){var s;let n=r.getReader();return(s=e==null?void 0:e.once)==null||s.call(e,"error",i=>{n.cancel(i)}),Ll(()=>n.read(),t)}function Fl(e){return e!=null&&typeof e=="object"&&("body"in e||"cache"in e||"credentials"in e||"headers"in e||"integrity"in e||"keepalive"in e||"method"in e||"mode"in e||"redirect"in e||"referrer"in e||"referrerPolicy"in e||"signal"in e||"window"in e)}function ft(...e){let[t,...r]=e.filter(n=>n!=null&&typeof n=="object");return r.forEach(n=>{let s=Object.getOwnPropertyNames(n).reduce((i,o)=>(Object.getOwnPropertyDescriptor(n,o)&&(i[o]=Object.getOwnPropertyDescriptor(n,o)),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{let o=Object.getOwnPropertyDescriptor(n,i);o!=null&&o.enumerable&&(s[i]=o)}),Object.defineProperties(t,s)}),t}function xi(e,t){return new t(e.stack||e.message||e.toString(),{status:e.status||500})}function wi(e,t){return e==null?t==null?{}:{waitUntil:t}:ft(Object.create(e),{waitUntil:t},e)}function Si(e,t){if(t!=null&&t.aborted)throw t.reason;if($e(e)&&t){let n=function(){r.reject(t.reason)},r=eo();return t.addEventListener("abort",n,{once:!0}),e.then(function(i){r.resolve(i)}).catch(function(i){r.reject(i)}).finally(()=>{t.removeEventListener("abort",n)}),r.promise}return e}var Gp=["SIGINT","exit","SIGTERM"],Cn=new Set,El=!1;function Vp(){if(!El){El=!0;for(let e of Gp)globalThis.process.once(e,function(){return Promise.allSettled([...Cn].map(r=>!r.disposed&&r.disposeAsync()))})}}function jl(e){globalThis.process&&(Vp(),Cn.has(e)||(Cn.add(e),e.defer(()=>{Cn.delete(e)})))}var yi=class extends EventTarget{aborted=!1;_onabort=null;_reason;constructor(){var r,n;super();let t=(n=(r=globalThis.process)==null?void 0:r.getBuiltinModule)==null?void 0:n.call(r,"node:events");t!=null&&t.kMaxEventTargetListeners&&(this[t.kMaxEventTargetListeners]=0)}throwIfAborted(){var t,r;if((r=(t=this._nativeCtrl)==null?void 0:t.signal)!=null&&r.throwIfAborted)return this._nativeCtrl.signal.throwIfAborted();if(this.aborted)throw this._reason}_nativeCtrl;ensureNativeCtrl(){if(!this._nativeCtrl){let t=this.aborted;this._nativeCtrl=new AbortController,t&&this._nativeCtrl.abort(this._reason)}return this._nativeCtrl}abort(t){var r,n;if((r=this._nativeCtrl)!=null&&r.abort)return(n=this._nativeCtrl)==null?void 0:n.abort(t);this._reason=t||new DOMException("This operation was aborted","AbortError"),this.aborted=!0,this.dispatchEvent(new Event("abort"))}get signal(){var t;return(t=this._nativeCtrl)!=null&&t.signal?this._nativeCtrl.signal:this}get reason(){var t;return(t=this._nativeCtrl)!=null&&t.signal?this._nativeCtrl.signal.reason:this._reason}get onabort(){return this._onabort?this._onabort:this._onabort}set onabort(t){var r;if((r=this._nativeCtrl)!=null&&r.signal){this._nativeCtrl.signal.onabort=t;return}this._onabort&&this.removeEventListener("abort",this._onabort),this._onabort=t,t&&this.addEventListener("abort",t)}};function Pi(){return globalThis.Bun||globalThis.Deno?new AbortController:new Proxy(new yi,{get(e,t,r){if(t.toString().includes("kDependantSignals")){let n=e.ensureNativeCtrl();return Reflect.get(n.signal,t,n.signal)}return Reflect.get(e,t,r)},set(e,t,r,n){if(t.toString().includes("kDependantSignals")){let s=e.ensureNativeCtrl();return Reflect.set(s.signal,t,r,s.signal)}return Reflect.set(e,t,r,n)},getPrototypeOf(){return AbortSignal.prototype}})}function Il(e){return!!e.onData}function Bl({req:e,res:t,fetchAPI:r,controller:n}){let s=e.getMethod(),i,o=[],a=[S=>{o.push(S)}],l=S=>{for(let T of a)T(S)},c=!1,f=[()=>{c=!0}],d=()=>{for(let S of f)S()};t.onData(function(S,T){l(Buffer.from(Buffer.from(S,0,S.byteLength))),T&&d()});let _;if(s!=="get"&&s!=="head"){i="half",n.signal.addEventListener("abort",()=>{d()},{once:!0});let S;_=()=>(S||(S=new r.ReadableStream({start(T){for(let F of o)T.enqueue(F);if(c){T.close();return}a.push(F=>{T.enqueue(F)}),f.push(()=>{if(n.signal.reason){T.error(n.signal.reason);return}T.desiredSize&&T.close()})}})),S)}let p=new r.Headers;e.forEach((S,T)=>{p.append(S,T)});let x=`http://localhost${e.getUrl()}`,w=e.getQuery();w&&(x+=`?${w}`);let k;function C(){return _?c?P():_():null}let N=new r.Request(x,{method:s,headers:p,get body(){return C()},signal:n.signal,duplex:i});function P(){return k||(k=o.length===1?o[0]:Buffer.concat(o)),k}function O(){return c?se(P()):new Promise((S,T)=>{try{f.push(()=>{S(P())})}catch(F){T(F)}})}return Object.defineProperties(N,{body:{get(){return C()},configurable:!0,enumerable:!0},json:{value(){return O().then(S=>S.toString("utf8")).then(S=>JSON.parse(S))},configurable:!0,enumerable:!0},text:{value(){return O().then(S=>S.toString("utf8"))},configurable:!0,enumerable:!0},arrayBuffer:{value(){return O()},configurable:!0,enumerable:!0}}),N}function Kp(e,t){return new t.WritableStream({write(r){e.cork(()=>{e.write(r)})},close(){e.cork(()=>{e.end()})}})}function Ul(e,t,r,n){if(!t){e.writeStatus("404 Not Found"),e.end();return}let s=t._buffer,i=t.bodyType==="String"?t.bodyInit:void 0;if(!r.signal.aborted&&(e.cork(()=>{var a,l;e.writeStatus(`${t.status} ${t.statusText}`);let o=!1;for(let[c,f]of t.headers)if(c!=="content-length"){if(c==="set-cookie"){if(o)continue;o=!0;let d=(l=(a=t.headers).getSetCookie)==null?void 0:l.call(a);if(d){for(let _ of d)e.writeHeader(c,_);continue}}e.writeHeader(c,f)}i?e.end(i):s?e.end(s):t.body||e.end()}),!(i||s||!t.body)))return r.signal.addEventListener("abort",()=>{var o,a;(o=t.body)!=null&&o.locked||(a=t.body)==null||a.cancel(r.signal.reason)},{once:!0}),t.body.pipeTo(Kp(e,n),{signal:r.signal}).catch(o=>{if(!r.signal.aborted)throw o})}function Jp(e){try{return!!(e!=null&&e.request)}catch{return!1}}var Xp={};function Nl(e,t){let r=(t==null?void 0:t.__useSingleWriteHead)==null?!0:t.__useSingleWriteHead,n={...Yp,...t==null?void 0:t.fetchAPI},s=(t==null?void 0:t.__useCustomAbortCtrl)==null?n.Request!==globalThis.Request:t.__useCustomAbortCtrl,i=typeof e=="function"?e:e.handle,o=[],a=[],l,c=new Set,f;function d(){return f||(f=new so,t!=null&&t.disposeOnProcessTerminate&&jl(f),f.defer(()=>{if(c.size>0)return Promise.allSettled(c).then(()=>{c.clear()},()=>{c.clear()})})),f}function _(m){$e(m)&&(d(),c.add(m),m.then(()=>{c.delete(m)},g=>{console.error(`Unexpected error while waiting: ${g.message||g}`),c.delete(m)}))}if((t==null?void 0:t.plugins)!=null)for(let m of t.plugins){m.instrumentation&&(l=l?to(l,m.instrumentation):m.instrumentation),m.onRequest&&o.push(m.onRequest),m.onResponse&&a.push(m.onResponse);let g=m[ae.dispose];g&&d().defer(g);let E=m[ae.asyncDispose];E&&d().defer(E),m.onDispose&&d().defer(m.onDispose)}let p=o.length>0||a.length>0?function(g,E){let v=i,I;if(o.length===0)return xe();let $=g.parsedUrl||new Proxy(Xp,{get(q,Ee,oe){return $=new n.URL(g.url,"http://localhost"),Reflect.get($,Ee,$)}});function V(q){return a.length===0?q:Z(()=>Or(a,Ee=>Ee({request:g,response:q,serverContext:E,setResponse(oe){q=oe},fetchAPI:n})),()=>q)}function xe(){return I?V(I):Z(()=>v(g,E),V)}return Z(()=>Or(o,(q,Ee)=>q({request:g,setRequest(oe){g=oe},serverContext:E,fetchAPI:n,url:$,requestHandler:v,setRequestHandler(oe){v=oe},endResponse(oe){I=oe,oe&&Ee()}})),xe)}:i;if(l!=null&&l.request){let m=p;p=(g,E)=>ro({request:g}).asyncFn(l.request,m)(g,E)}function x(m,...g){let E=g.length>1?ft(...g):g[0]||{};E.waitUntil||(E.waitUntil=_);let v=gi(m,n,void 0,s);return p(v,E)}function w(m,g,...E){let v=g.raw||g,I=E.length>1?ft(...E):E[0]||{};I.waitUntil||(I.waitUntil=_);let $=gi(m,n,v,s);return p($,I)}function k(m,g,...E){let v={req:m,res:g,waitUntil:_};return Vn(se().then(()=>w(m,g,v,...E)).catch(I=>xi(I,n.Response)).then(I=>Al(I,g,m,r)).catch(I=>console.error(`Unexpected error while handling request: ${I.message||I}`)))}function C(m,g,...E){let v={res:m,req:g,waitUntil:_},$=E.filter(ne=>ne!=null).length>0?ft(v,...E):v,V=s?Pi():new AbortController,xe=m.end.bind(m),q=!1;m.end=function(ne){return q=!0,xe(ne)},m.onAborted.bind(m)(function(){V.abort()}),m.onAborted=function(ne){V.signal.addEventListener("abort",ne,{once:!0})};let oe=Bl({req:g,res:m,fetchAPI:n,controller:V});return Z(()=>Z(()=>p(oe,$),ne=>ne,ne=>xi(ne,n.Response)),ne=>{if(!V.signal.aborted&&!q)return Z(()=>Ul(m,ne,V,n),Ce=>Ce,Ce=>{console.error(`Unexpected error while handling request: ${Ce.message||Ce}`)})})}function N(m,...g){if(!m.respondWith||!m.request)throw new TypeError(`Expected FetchEvent, got ${m}`);let E=g.filter($=>$!=null),v=E.length>0?ft({},m,...E):wi(m),I=p(m.request,v);m.respondWith(I)}function P(m,...g){let E=g.filter(I=>I!=null),v=E.length>1?ft({},...E):wi(E[0],E[0]==null||E[0].waitUntil==null?_:void 0);return p(m,v)}let O=(m,...g)=>{if(typeof m=="string"||"href"in m){let[v,...I]=g;if(Fl(v)){let V=new n.Request(m,v),xe=P(V,...I),q=v.signal;return q?Si(xe,q):xe}let $=new n.Request(m);return P($,...g)}let E=P(m,...g);return Si(E,m.signal)},S=(m,...g)=>{let[E,...v]=g;if(Dl(m)){if(!_i(E))throw new TypeError(`Expected ServerResponse, got ${E}`);return k(m,E,...v)}if(Il(m))return C(m,E,...v);if(_i(E))throw new TypeError("Got Node response without Node request");return Jp(m)?Ol(m)?N(m,...g):P(m.request,m,...g):O(m,...g)},T={handleRequest:P,fetch:O,handleNodeRequest:x,handleNodeRequestAndResponse:w,requestListener:k,handleEvent:N,handleUWS:C,handle:S,get disposableStack(){return d()},[ae.asyncDispose](){return f&&!f.disposed?f.disposeAsync():se()},dispose(){return f&&!f.disposed?f.disposeAsync():se()},waitUntil:_},F=new Proxy(S,{has:(m,g)=>g in T||g in S||e&&g in e,get:(m,g)=>{if(globalThis.Deno||g===Symbol.asyncDispose||g===Symbol.dispose){let I=Reflect.get(T,g,T);if(I)return I}let E=T[g];if(E)return E.bind?E.bind(T):E;let v=S[g];if(v)return v.bind?v.bind(S):v;if(e){let I=e[g];if(I)return I.bind?function(...$){let V=e[g](...$);return V===e?F:V}:I}},apply(m,g,E){return S(...E)}});return F}var $l="x-nf-client-connection-ip",ql="x-nf-geo",Ml="x-nf-account-id",Rn="x-nf-deploy-id",Hl="x-nf-deploy-context",zl="x-nf-deploy-published",Wl="x-nf-site-id";var Gl="x-nf-request-id";var Vl="x-nf-ai-gateway",Kl="x-nf-blobs-info",Yl="x-nf-pc-token",Jl="x-nf-pc-url",Xl="x-nf-feature-flags",Zl="x-nf-functions-metadata",Ql="x-nf-purge-api-token",eu="x-nf-skew-protection-token",Ei="x-nf-play-timing",tu="x-forwarded-proto";var On=Symbol("Request flags"),xr=Symbol("Request route"),ki=Symbol.for("$netlify.requestNodePrimitives"),Zp=typeof Request>"u"?class{}:Request,ru,Dn=class extends(ru=Zp,On,xr,ki,ru){};import{AsyncLocalStorage as Qp}from"async_hooks";var wr=new Qp;import{createWriteStream as em,fstatSync as tm}from"fs";import{format as rm}from"util";var nm=1e6,nu=null,su=()=>nu??console.log,iu=e=>{try{tm(e)}catch(a){console.error("Failed to initialize platform log (FD %d):",e,a);return}let t=em("",{fd:e}),r=[],n=0,s=0,i=!1;t.on("error",a=>{console.error("Failed to write platform log:",a),r=[],n=0,s=0,i=!1});let o=()=>{for(t.cork();n<r.length;){let a=r[n],l=t.write(a);if(n+=1,s-=a.length,!l){i=!0,t.once("drain",o),t.uncork();return}}t.uncork(),r=[],n=0,s=0,i=!1};nu=(...a)=>{let l=rm(...a)+`
`;s+l.length>nm||(r.push(l),s+=l.length,i||o())}};import{Buffer as ou}from"buffer";var $t=e=>{if(!e)return null;try{return JSON.parse(ou.from(e,"base64").toString("utf8"))}catch{return null}},au=e=>ou.from(JSON.stringify(e)).toString("base64"),cu=e=>e&&typeof e=="object"&&"default"in e?e.default:e,vi=async e=>{let t=0;for(;e.enqueuedPromises.size!==0;)await Promise.allSettled(e.enqueuedPromises),++t>=1e3&&(t=0,await new Promise(r=>{setTimeout(r,0)}))};import{performance as yf}from"perf_hooks";var $y=globalThis.Buffer?e=>Buffer.from(e,"base64").toString():e=>atob(e),lu=globalThis.Buffer?e=>Buffer.from(e).toString("base64"):e=>btoa(e);var hu=e=>{throw TypeError(e)},du=(e,t,r)=>t.has(e)||hu("Cannot "+r),pe=(e,t,r)=>(du(e,t,"read from private field"),r?r.call(e):t.get(e)),Pr=(e,t,r)=>t.has(e)?hu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Er=(e,t,r,n)=>(du(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),jn=(e=>(e.Delete="delete",e.Read="read",e.Write="write",e))(jn||{}),sm={invalid_vary:"Responses must not use unsupported directives of the `Netlify-Vary` header (https://ntl.fyi/cache_api_invalid_vary).",no_cache:"Responses must not set cache control headers with the `private`, `no-cache` or `no-store` directives (https://ntl.fyi/cache_api_no_cache).",low_ttl:"Responses must have a cache control header with a `max-age` or `s-maxage` directive (https://ntl.fyi/cache_api_low_ttl).",no_directive:"Responses must have a cache control header with caching directives (https://ntl.fyi/cache_api_no_directive).",no_ttl:"Responses must have a cache control header with a `max-age` or `s-maxage` directive (https://ntl.fyi/cache_api_no_ttl).",no_status:"Responses must specify a status code (https://ntl.fyi/cache_api_no_status).",invalid_directive:"Responses must have a cache control header with caching directives (https://ntl.fyi/cache_api_invalid_directive).",status:"Responses must have a status code between 200 and 299 (https://ntl.fyi/cache_api_status)."},im="The server has returned an unexpected error (https://ntl.fyi/cache_api_error).",om="netlify-programmable-error",am="netlify-programmable-headers",cm="netlify-programmable-status",lm="netlify-programmable-store",um="netlify-forwarded-host",fm="user-agent",uu=new Set(["http:","https:"]),hm=new Set(["cookie","content-encoding","content-length"]),Ln=Symbol("getInternalHeaders"),fu=Symbol("serializeResourceHeaders"),qt,An,Sr,dm=class{constructor({getContext:e,name:t,userAgent:r}){Pr(this,qt),Pr(this,An),Pr(this,Sr),Er(this,qt,e),Er(this,An,t),Er(this,Sr,r)}[Ln](e){let{host:t,token:r}=e,n={Authorization:`Bearer ${r}`,[lm]:pe(this,An)};return t&&(n[um]=t),pe(this,Sr)&&(n[fm]=pe(this,Sr)),n}[fu](e){let t={};return e.forEach((r,n)=>{hm.has(n)||(n==="set-cookie"?(t[n]=t[n]||[],t[n].push(r)):t[n]=r.split(","))}),lu(JSON.stringify(t))}async add(e){await this.put(new Request(e),await fetch(e))}async addAll(e){await Promise.allSettled(e.map(t=>this.add(t)))}async delete(e){let t=pe(this,qt).call(this,{operation:"delete"});if(t){let r=Ti(e);await fetch(`${t.url}/${Ci(r)}`,{headers:this[Ln](t),method:"DELETE"})}return!0}async keys(e){return[]}async match(e){try{let t=pe(this,qt).call(this,{operation:"read"});if(!t)return;let r=Ti(e),n=`${t.url}/${Ci(r)}`,s=await fetch(n,{headers:this[Ln](t),method:"GET"});return s.ok?s:void 0}catch{}}async matchAll(e,t){if(!e)return[];let r=await this.match(e);return r?[r]:[]}async put(e,t){var i,o,a;if(!t.ok)throw new TypeError(`Cannot cache response with status ${t.status}.`);if(e instanceof Request&&e.method!=="GET")throw new TypeError(`Cannot cache response to ${e.method} request.`);if(t.status===206)throw new TypeError("Cannot cache response to a range request (206 Partial Content).");if((i=t.headers.get("vary"))!=null&&i.includes("*"))throw new TypeError("Cannot cache response with 'Vary: *' header.");let r=pe(this,qt).call(this,{operation:"write"});if(!r)return;let n=Ti(e),s=await fetch(`${r.url}/${Ci(n)}`,{body:t.body,headers:{...this[Ln](r),[am]:this[fu](t.headers),[cm]:t.status.toString()},duplex:"half",method:"POST"});if(!s.ok){let l=((o=s.headers)==null?void 0:o.get(om))??"",c=sm[l]||im;(a=r.logger)==null||a.call(r,`Failed to write to the cache: ${c}`)}}};qt=new WeakMap;An=new WeakMap;Sr=new WeakMap;var Ti=e=>{let t;if(e instanceof Request)t=new URL(e.url);else try{t=new URL(String(e))}catch{throw new TypeError(`${e} is not a valid URL.`)}if(!uu.has(t.protocol))throw new TypeError(`Cannot cache response for URL with unsupported protocol (${t.protocol}). Supported protocols are ${[...uu].join(", ")}.`);return t},Ci=e=>encodeURIComponent(e.toString()),Fn,je,pu=class{constructor(e){Pr(this,Fn),Pr(this,je),Er(this,Fn,e),Er(this,je,new Map)}open(e){let t=pe(this,je).get(e);return t||(t=new dm({...pe(this,Fn),name:e}),pe(this,je).set(e,t)),Promise.resolve(t)}has(e){return Promise.resolve(pe(this,je).has(e))}delete(e){return Promise.resolve(pe(this,je).delete(e))}keys(){return Promise.resolve([...pe(this,je).keys()])}async match(e,t){var r;if(t!=null&&t.cacheName)return(r=pe(this,je).get(t.cacheName))==null?void 0:r.match(e);for(let n of pe(this,je).values())if(await n.match(e)===void 0)return}};Fn=new WeakMap;je=new WeakMap;var In=class e extends Error{constructor(t){super(t),this.name="NetlifyUserError",Object.setPrototypeOf(this,e.prototype)}};var pm={"cache-api-read":100,"cache-api-write":20},Bn=class{constructor(t=pm){this.counts=new Map,this.limits=t}register(t){let r=this.counts.get(t)||0,n=this.limits[t]||0;return r>=n?!1:(this.counts.set(t,r+1),!0)}};import{env as mu}from"process";var bu=()=>!!mu.NETLIFY_DEV||!!mu.NETLIFY_LOCAL;var mm="__nfSystemLog",yu=(e,t)=>{bu()||su()(mm,{msg:e,fields:t})};var gu=(e,t,r)=>!t||!r?null:{host:new URL(e).hostname,token:t,url:new URL("/.netlify/cache",r).toString()},bm=()=>{globalThis.caches=new pu({getContext:({operation:e})=>{let t=wr.getStore();if(!(t!=null&&t.operationCounter))throw new In("The Cache API must be used within the scope of the request handler. Refer to https://ntl.fyi/cache-api-scope for more information.");let{cacheAPI:r,operationCounter:n}=t,s=e===jn.Delete||e===jn.Write?"cache-api-write":"cache-api-read";return n.register(s)?r||(yu("missing Cache API metadata in request"),null):(console.log(`You've exceeded the number of allowed Cache API ${s==="cache-api-write"?"writes":"reads"} for a single invocation. Refer to https://ntl.fyi/cache-api-limits for more information.`),null)},userAgent:"netlify-functions"})};bm();var _u=e=>({id:e.headers.get(Ml)??""});var xu=({headers:e,skewProtectionToken:t})=>({context:e.get(Hl)??"",id:e.get(Rn)??"",published:e.get(zl)==="1",skewProtectionToken:t});var Mt,vr,kr=class{constructor(t){U(this,Mt);U(this,vr);B(this,Mt,new Set),B(this,vr,t)}get(t){let r=u(this,vr)[t];return r!==void 0&&u(this,Mt).add(t),r}get evaluations(){return u(this,Mt)}};Mt=new WeakMap,vr=new WeakMap;var wu=e=>e[On]??new kr({}),Su=(e,t)=>{e[On]=t};var Pu=e=>{let t=$t(e);if(!t)return{};let{postal_code:r,...n}=t;return Object.fromEntries(Object.entries({...n,postalCode:r}).filter(([,i])=>i!==void 0))};var Eu=e=>e??"";var ym=Object.defineProperty,D=(e,t)=>ym(e,"name",{value:t,configurable:!0}),Gt=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(e,t,r,n,s,i){this.type=e,this.name=t,this.prefix=r,this.value=n,this.suffix=s,this.modifier=i}hasCustomName(){return this.name!==""&&typeof this.name!="number"}};D(Gt,"Part");var gm=/[$_\p{ID_Start}]/u,_m=/[$_\u200C\u200D\p{ID_Continue}]/u,Di=".*";function Tu(e,t){return(t?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(e)}D(Tu,"isASCII");function ji(e,t=!1){let r=[],n=0;for(;n<e.length;){let s=e[n],i=D(function(o){if(!t)throw new TypeError(o);r.push({type:"INVALID_CHAR",index:n,value:e[n++]})},"ErrorOrInvalid");if(s==="*"){r.push({type:"ASTERISK",index:n,value:e[n++]});continue}if(s==="+"||s==="?"){r.push({type:"OTHER_MODIFIER",index:n,value:e[n++]});continue}if(s==="\\"){r.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(s==="{"){r.push({type:"OPEN",index:n,value:e[n++]});continue}if(s==="}"){r.push({type:"CLOSE",index:n,value:e[n++]});continue}if(s===":"){let o="",a=n+1;for(;a<e.length;){let l=e.substr(a,1);if(a===n+1&&gm.test(l)||a!==n+1&&_m.test(l)){o+=e[a++];continue}break}if(!o){i(`Missing parameter name at ${n}`);continue}r.push({type:"NAME",index:n,value:o}),n=a;continue}if(s==="("){let o=1,a="",l=n+1,c=!1;if(e[l]==="?"){i(`Pattern cannot start with "?" at ${l}`);continue}for(;l<e.length;){if(!Tu(e[l],!1)){i(`Invalid character '${e[l]}' at ${l}.`),c=!0;break}if(e[l]==="\\"){a+=e[l++]+e[l++];continue}if(e[l]===")"){if(o--,o===0){l++;break}}else if(e[l]==="("&&(o++,e[l+1]!=="?")){i(`Capturing groups are not allowed at ${l}`),c=!0;break}a+=e[l++]}if(c)continue;if(o){i(`Unbalanced pattern at ${n}`);continue}if(!a){i(`Missing pattern at ${n}`);continue}r.push({type:"REGEX",index:n,value:a}),n=l;continue}r.push({type:"CHAR",index:n,value:e[n++]})}return r.push({type:"END",index:n,value:""}),r}D(ji,"lexer");function Ii(e,t={}){let r=ji(e);t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./");let n=`[^${ge(t.delimiter)}]+?`,s=[],i=0,o=0,a="",l=new Set,c=D(P=>{if(o<r.length&&r[o].type===P)return r[o++].value},"tryConsume"),f=D(()=>c("OTHER_MODIFIER")??c("ASTERISK"),"tryConsumeModifier"),d=D(P=>{let O=c(P);if(O!==void 0)return O;let{type:S,index:T}=r[o];throw new TypeError(`Unexpected ${S} at ${T}, expected ${P}`)},"mustConsume"),_=D(()=>{let P="",O;for(;O=c("CHAR")??c("ESCAPED_CHAR");)P+=O;return P},"consumeText"),p=D(P=>P,"DefaultEncodePart"),x=t.encodePart||p,w="",k=D(P=>{w+=P},"appendToPendingFixedValue"),C=D(()=>{w.length&&(s.push(new Gt(3,"","",x(w),"",3)),w="")},"maybeAddPartFromPendingFixedValue"),N=D((P,O,S,T,F)=>{let m=3;switch(F){case"?":m=1;break;case"*":m=0;break;case"+":m=2;break}if(!O&&!S&&m===3){k(P);return}if(C(),!O&&!S){if(!P)return;s.push(new Gt(3,"","",x(P),"",m));return}let g;S?S==="*"?g=Di:g=S:g=n;let E=2;g===n?(E=1,g=""):g===Di&&(E=0,g="");let v;if(O?v=O:S&&(v=i++),l.has(v))throw new TypeError(`Duplicate name '${v}'.`);l.add(v),s.push(new Gt(E,v,x(P),g,x(T),m))},"addPart");for(;o<r.length;){let P=c("CHAR"),O=c("NAME"),S=c("REGEX");if(!O&&!S&&(S=c("ASTERISK")),O||S){let F=P??"";t.prefixes.indexOf(F)===-1&&(k(F),F=""),C();let m=f();N(F,O,S,"",m);continue}let T=P??c("ESCAPED_CHAR");if(T){k(T);continue}if(c("OPEN")){let F=_(),m=c("NAME"),g=c("REGEX");!m&&!g&&(g=c("ASTERISK"));let E=_();d("CLOSE");let v=f();N(F,m,g,E,v);continue}C(),d("END")}return s}D(Ii,"parse");function ge(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}D(ge,"escapeString");function Oi(e){return e&&e.ignoreCase?"ui":"u"}D(Oi,"flags");function Cu(e,t,r){return Bi(Ii(e,r),t,r)}D(Cu,"stringToRegexp");function dt(e){switch(e){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}D(dt,"modifierToString");function Bi(e,t,r={}){r.delimiter??(r.delimiter="/#?"),r.prefixes??(r.prefixes="./"),r.sensitive??(r.sensitive=!1),r.strict??(r.strict=!1),r.end??(r.end=!0),r.start??(r.start=!0),r.endsWith="";let n=r.start?"^":"";for(let a of e){if(a.type===3){a.modifier===3?n+=ge(a.value):n+=`(?:${ge(a.value)})${dt(a.modifier)}`;continue}t&&t.push(a.name);let l=`[^${ge(r.delimiter)}]+?`,c=a.value;if(a.type===1?c=l:a.type===0&&(c=Di),!a.prefix.length&&!a.suffix.length){a.modifier===3||a.modifier===1?n+=`(${c})${dt(a.modifier)}`:n+=`((?:${c})${dt(a.modifier)})`;continue}if(a.modifier===3||a.modifier===1){n+=`(?:${ge(a.prefix)}(${c})${ge(a.suffix)})`,n+=dt(a.modifier);continue}n+=`(?:${ge(a.prefix)}`,n+=`((?:${c})(?:`,n+=ge(a.suffix),n+=ge(a.prefix),n+=`(?:${c}))*)${ge(a.suffix)})`,a.modifier===0&&(n+="?")}let s=`[${ge(r.endsWith)}]|$`,i=`[${ge(r.delimiter)}]`;if(r.end)return r.strict||(n+=`${i}?`),r.endsWith.length?n+=`(?=${s})`:n+="$",new RegExp(n,Oi(r));r.strict||(n+=`(?:${i}(?=${s}))?`);let o=!1;if(e.length){let a=e[e.length-1];a.type===3&&a.modifier===3&&(o=r.delimiter.indexOf(a)>-1)}return o||(n+=`(?=${i}|${s})`),new RegExp(n,Oi(r))}D(Bi,"partsToRegexp");var et={delimiter:"",prefixes:"",sensitive:!0,strict:!0},xm={delimiter:".",prefixes:"",sensitive:!0,strict:!0},wm={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function Ru(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\"||e[0]=="{")&&e[1]=="/":!1}D(Ru,"isAbsolutePathname");function Ui(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}D(Ui,"maybeStripPrefix");function Du(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}D(Du,"maybeStripSuffix");function Ni(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\"||e[0]==="{")&&e[1]==="["}D(Ni,"treatAsIPv6Hostname");var Ou=["ftp","file","http","https","ws","wss"];function $i(e){if(!e)return!0;for(let t of Ou)if(e.test(t))return!0;return!1}D($i,"isSpecialScheme");function Lu(e,t){if(e=Ui(e,"#"),t||e==="")return e;let r=new URL("https://example.com");return r.hash=e,r.hash?r.hash.substring(1,r.hash.length):""}D(Lu,"canonicalizeHash");function Au(e,t){if(e=Ui(e,"?"),t||e==="")return e;let r=new URL("https://example.com");return r.search=e,r.search?r.search.substring(1,r.search.length):""}D(Au,"canonicalizeSearch");function Fu(e,t){return t||e===""?e:Ni(e)?Hi(e):Mi(e)}D(Fu,"canonicalizeHostname");function ju(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.password=e,r.password}D(ju,"canonicalizePassword");function Iu(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.username=e,r.username}D(Iu,"canonicalizeUsername");function Bu(e,t,r){if(r||e==="")return e;if(t&&!Ou.includes(t))return new URL(`${t}:${e}`).pathname;let n=e[0]=="/";return e=new URL(n?e:"/-"+e,"https://example.com").pathname,n||(e=e.substring(2,e.length)),e}D(Bu,"canonicalizePathname");function Uu(e,t,r){return qi(t)===e&&(e=""),r||e===""?e:zi(e)}D(Uu,"canonicalizePort");function Nu(e,t){return e=Du(e,":"),t||e===""?e:qn(e)}D(Nu,"canonicalizeProtocol");function qi(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}D(qi,"defaultPortForProtocol");function qn(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}D(qn,"protocolEncodeCallback");function $u(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}D($u,"usernameEncodeCallback");function qu(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}D(qu,"passwordEncodeCallback");function Mi(e){if(e==="")return e;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}D(Mi,"hostnameEncodeCallback");function Hi(e){if(e==="")return e;if(/[^0-9a-fA-F[\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}D(Hi,"ipv6HostnameEncodeCallback");function zi(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}D(zi,"portEncodeCallback");function Mu(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}D(Mu,"standardURLPathnameEncodeCallback");function Hu(e){return e===""?e:new URL(`data:${e}`).pathname}D(Hu,"pathURLPathnameEncodeCallback");function zu(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}D(zu,"searchEncodeCallback");function Wu(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}D(Wu,"hashEncodeCallback");var Vt,he,te,H,pt,Kt,_e,Yt,Jt,Xt,y,J,Vu,Li,Tr,Un,Pe,Ai,Ku,Nn,Yu,Ju,$n,Ht,ht,Xu,Zu,Qu,ef,Ie,tf,ku,Gu=(ku=class{constructor(e){U(this,y);U(this,Vt);U(this,he,[]);U(this,te,{});U(this,H,0);U(this,pt,1);U(this,Kt,0);U(this,_e,0);U(this,Yt,0);U(this,Jt,0);U(this,Xt,!1);B(this,Vt,e)}get result(){return u(this,te)}parse(){for(B(this,he,ji(u(this,Vt),!0));u(this,H)<u(this,he).length;B(this,H,u(this,H)+u(this,pt))){if(B(this,pt,1),u(this,he)[u(this,H)].type==="END"){if(u(this,_e)===0){h(this,y,Li).call(this),h(this,y,ht).call(this)?h(this,y,J).call(this,9,1):h(this,y,Ht).call(this)?h(this,y,J).call(this,8,1):h(this,y,J).call(this,7,0);continue}else if(u(this,_e)===2){h(this,y,Tr).call(this,5);continue}h(this,y,J).call(this,10,0);break}if(u(this,Yt)>0)if(h(this,y,Zu).call(this))B(this,Yt,u(this,Yt)-1);else continue;if(h(this,y,Xu).call(this)){B(this,Yt,u(this,Yt)+1);continue}switch(u(this,_e)){case 0:h(this,y,Ai).call(this)&&h(this,y,Tr).call(this,1);break;case 1:if(h(this,y,Ai).call(this)){h(this,y,tf).call(this);let e=7,t=1;h(this,y,Ku).call(this)?(e=2,t=3):u(this,Xt)&&(e=2),h(this,y,J).call(this,e,t)}break;case 2:h(this,y,Nn).call(this)?h(this,y,Tr).call(this,3):(h(this,y,$n).call(this)||h(this,y,Ht).call(this)||h(this,y,ht).call(this))&&h(this,y,Tr).call(this,5);break;case 3:h(this,y,Yu).call(this)?h(this,y,J).call(this,4,1):h(this,y,Nn).call(this)&&h(this,y,J).call(this,5,1);break;case 4:h(this,y,Nn).call(this)&&h(this,y,J).call(this,5,1);break;case 5:h(this,y,Qu).call(this)?B(this,Jt,u(this,Jt)+1):h(this,y,ef).call(this)&&B(this,Jt,u(this,Jt)-1),h(this,y,Ju).call(this)&&!u(this,Jt)?h(this,y,J).call(this,6,1):h(this,y,$n).call(this)?h(this,y,J).call(this,7,0):h(this,y,Ht).call(this)?h(this,y,J).call(this,8,1):h(this,y,ht).call(this)&&h(this,y,J).call(this,9,1);break;case 6:h(this,y,$n).call(this)?h(this,y,J).call(this,7,0):h(this,y,Ht).call(this)?h(this,y,J).call(this,8,1):h(this,y,ht).call(this)&&h(this,y,J).call(this,9,1);break;case 7:h(this,y,Ht).call(this)?h(this,y,J).call(this,8,1):h(this,y,ht).call(this)&&h(this,y,J).call(this,9,1);break;case 8:h(this,y,ht).call(this)&&h(this,y,J).call(this,9,1);break;case 9:break;case 10:break}}u(this,te).hostname!==void 0&&u(this,te).port===void 0&&(u(this,te).port="")}},Vt=new WeakMap,he=new WeakMap,te=new WeakMap,H=new WeakMap,pt=new WeakMap,Kt=new WeakMap,_e=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,y=new WeakSet,J=function(e,t){var r,n,s;switch(u(this,_e)){case 0:break;case 1:u(this,te).protocol=h(this,y,Ie).call(this);break;case 2:break;case 3:u(this,te).username=h(this,y,Ie).call(this);break;case 4:u(this,te).password=h(this,y,Ie).call(this);break;case 5:u(this,te).hostname=h(this,y,Ie).call(this);break;case 6:u(this,te).port=h(this,y,Ie).call(this);break;case 7:u(this,te).pathname=h(this,y,Ie).call(this);break;case 8:u(this,te).search=h(this,y,Ie).call(this);break;case 9:u(this,te).hash=h(this,y,Ie).call(this);break;case 10:break}u(this,_e)!==0&&e!==10&&([1,2,3,4].includes(u(this,_e))&&[6,7,8,9].includes(e)&&((r=u(this,te)).hostname??(r.hostname="")),[1,2,3,4,5,6].includes(u(this,_e))&&[8,9].includes(e)&&((n=u(this,te)).pathname??(n.pathname=u(this,Xt)?"/":"")),[1,2,3,4,5,6,7].includes(u(this,_e))&&e===9&&((s=u(this,te)).search??(s.search=""))),h(this,y,Vu).call(this,e,t)},Vu=function(e,t){B(this,_e,e),B(this,Kt,u(this,H)+t),B(this,H,u(this,H)+t),B(this,pt,0)},Li=function(){B(this,H,u(this,Kt)),B(this,pt,0)},Tr=function(e){h(this,y,Li).call(this),B(this,_e,e)},Un=function(e){return e<0&&(e=u(this,he).length-e),e<u(this,he).length?u(this,he)[e]:u(this,he)[u(this,he).length-1]},Pe=function(e,t){let r=h(this,y,Un).call(this,e);return r.value===t&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")},Ai=function(){return h(this,y,Pe).call(this,u(this,H),":")},Ku=function(){return h(this,y,Pe).call(this,u(this,H)+1,"/")&&h(this,y,Pe).call(this,u(this,H)+2,"/")},Nn=function(){return h(this,y,Pe).call(this,u(this,H),"@")},Yu=function(){return h(this,y,Pe).call(this,u(this,H),":")},Ju=function(){return h(this,y,Pe).call(this,u(this,H),":")},$n=function(){return h(this,y,Pe).call(this,u(this,H),"/")},Ht=function(){if(h(this,y,Pe).call(this,u(this,H),"?"))return!0;if(u(this,he)[u(this,H)].value!=="?")return!1;let e=h(this,y,Un).call(this,u(this,H)-1);return e.type!=="NAME"&&e.type!=="REGEX"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"},ht=function(){return h(this,y,Pe).call(this,u(this,H),"#")},Xu=function(){return u(this,he)[u(this,H)].type=="OPEN"},Zu=function(){return u(this,he)[u(this,H)].type=="CLOSE"},Qu=function(){return h(this,y,Pe).call(this,u(this,H),"[")},ef=function(){return h(this,y,Pe).call(this,u(this,H),"]")},Ie=function(){let e=u(this,he)[u(this,H)],t=h(this,y,Un).call(this,u(this,Kt)).index;return u(this,Vt).substring(t,e.index)},tf=function(){let e={};Object.assign(e,et),e.encodePart=qn;let t=Cu(h(this,y,Ie).call(this),void 0,e);B(this,Xt,$i(t))},ku);D(Gu,"Parser");var Ri=["protocol","username","password","hostname","port","pathname","search","hash"],Qe="*";function Fi(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type 'string'.");let r=new URL(e,t);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==""?r.search.substring(1,r.search.length):void 0,hash:r.hash!==""?r.hash.substring(1,r.hash.length):void 0}}D(Fi,"extractValues");function Be(e,t){return t?Wt(e):e}D(Be,"processBaseURLString");function zt(e,t,r){let n;if(typeof t.baseURL=="string")try{n=new URL(t.baseURL),t.protocol===void 0&&(e.protocol=Be(n.protocol.substring(0,n.protocol.length-1),r)),!r&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&(e.username=Be(n.username,r)),!r&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&t.password===void 0&&(e.password=Be(n.password,r)),t.protocol===void 0&&t.hostname===void 0&&(e.hostname=Be(n.hostname,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&(e.port=Be(n.port,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&(e.pathname=Be(n.pathname,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&(e.search=Be(n.search.substring(1,n.search.length),r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&t.hash===void 0&&(e.hash=Be(n.hash.substring(1,n.hash.length),r))}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(e.protocol=Nu(t.protocol,r)),typeof t.username=="string"&&(e.username=Iu(t.username,r)),typeof t.password=="string"&&(e.password=ju(t.password,r)),typeof t.hostname=="string"&&(e.hostname=Fu(t.hostname,r)),typeof t.port=="string"&&(e.port=Uu(t.port,e.protocol,r)),typeof t.pathname=="string"){if(e.pathname=t.pathname,n&&!Ru(e.pathname,r)){let s=n.pathname.lastIndexOf("/");s>=0&&(e.pathname=Be(n.pathname.substring(0,s+1),r)+e.pathname)}e.pathname=Bu(e.pathname,e.protocol,r)}return typeof t.search=="string"&&(e.search=Au(t.search,r)),typeof t.hash=="string"&&(e.hash=Lu(t.hash,r)),e}D(zt,"applyInit");function Wt(e){return e.replace(/([+*?:{}()\\])/g,"\\$1")}D(Wt,"escapePatternString");function rf(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}D(rf,"escapeRegexpString");function nf(e,t){t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./"),t.sensitive??(t.sensitive=!1),t.strict??(t.strict=!1),t.end??(t.end=!0),t.start??(t.start=!0),t.endsWith="";let r=".*",n=`[^${rf(t.delimiter)}]+?`,s=/[$_\u200C\u200D\p{ID_Continue}]/u,i="";for(let o=0;o<e.length;++o){let a=e[o];if(a.type===3){if(a.modifier===3){i+=Wt(a.value);continue}i+=`{${Wt(a.value)}}${dt(a.modifier)}`;continue}let l=a.hasCustomName(),c=!!a.suffix.length||!!a.prefix.length&&(a.prefix.length!==1||!t.prefixes.includes(a.prefix)),f=o>0?e[o-1]:null,d=o<e.length-1?e[o+1]:null;if(!c&&l&&a.type===1&&a.modifier===3&&d&&!d.prefix.length&&!d.suffix.length)if(d.type===3){let _=d.value.length>0?d.value[0]:"";c=s.test(_)}else c=!d.hasCustomName();if(!c&&!a.prefix.length&&f&&f.type===3){let _=f.value[f.value.length-1];c=t.prefixes.includes(_)}c&&(i+="{"),i+=Wt(a.prefix),l&&(i+=`:${a.name}`),a.type===2?i+=`(${a.value})`:a.type===1?l||(i+=`(${n})`):a.type===0&&(!l&&(!f||f.type===3||f.modifier!==3||c||a.prefix!=="")?i+="*":i+=`(${r})`),a.type===1&&l&&a.suffix.length&&s.test(a.suffix[0])&&(i+="\\"),i+=Wt(a.suffix),c&&(i+="}"),a.modifier!==3&&(i+=dt(a.modifier))}return i}D(nf,"partsToPattern");var Ue,mt,Zt,re,Te,Qt,vu,Cr=(vu=class{constructor(e={},t,r){U(this,Ue);U(this,mt,{});U(this,Zt,{});U(this,re,{});U(this,Te,{});U(this,Qt,!1);try{let n;if(typeof t=="string"?n=t:r=t,typeof e=="string"){let a=new Gu(e);if(a.parse(),e=a.result,n===void 0&&typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");e.baseURL=n}else{if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type 'string'.")}typeof r>"u"&&(r={ignoreCase:!1});let s={ignoreCase:r.ignoreCase===!0};B(this,Ue,zt({pathname:Qe,protocol:Qe,username:Qe,password:Qe,hostname:Qe,port:Qe,search:Qe,hash:Qe},e,!0)),qi(u(this,Ue).protocol)===u(this,Ue).port&&(u(this,Ue).port="");let o;for(o of Ri){if(!(o in u(this,Ue)))continue;let a={},l=u(this,Ue)[o];switch(u(this,Zt)[o]=[],o){case"protocol":Object.assign(a,et),a.encodePart=qn;break;case"username":Object.assign(a,et),a.encodePart=$u;break;case"password":Object.assign(a,et),a.encodePart=qu;break;case"hostname":Object.assign(a,xm),Ni(l)?a.encodePart=Hi:a.encodePart=Mi;break;case"port":Object.assign(a,et),a.encodePart=zi;break;case"pathname":$i(u(this,mt).protocol)?(Object.assign(a,wm,s),a.encodePart=Mu):(Object.assign(a,et,s),a.encodePart=Hu);break;case"search":Object.assign(a,et,s),a.encodePart=zu;break;case"hash":Object.assign(a,et,s),a.encodePart=Wu;break}try{u(this,Te)[o]=Ii(l,a),u(this,mt)[o]=Bi(u(this,Te)[o],u(this,Zt)[o],a),u(this,re)[o]=nf(u(this,Te)[o],a),B(this,Qt,u(this,Qt)||u(this,Te)[o].some(c=>c.type===2))}catch{throw new TypeError(`invalid ${o} pattern '${u(this,Ue)[o]}'.`)}}}catch(n){throw new TypeError(`Failed to construct 'URLPattern': ${n.message}`)}}get[Symbol.toStringTag](){return"URLPattern"}test(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return!1;try{typeof e=="object"?r=zt(r,e,!1):r=zt(r,Fi(e,t),!1)}catch{return!1}let n;for(n of Ri)if(!u(this,mt)[n].exec(r[n]))return!1;return!0}exec(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return;try{typeof e=="object"?r=zt(r,e,!1):r=zt(r,Fi(e,t),!1)}catch{return null}let n={};t?n.inputs=[e,t]:n.inputs=[e];let s;for(s of Ri){let i=u(this,mt)[s].exec(r[s]);if(!i)return null;let o={};for(let[a,l]of u(this,Zt)[s].entries())if(typeof l=="string"||typeof l=="number"){let c=i[a+1];o[l]=c}n[s]={input:r[s]??"",groups:o}}return n}static compareComponent(e,t,r){let n=D((a,l)=>{for(let c of["type","modifier","prefix","value","suffix"]){if(a[c]<l[c])return-1;if(a[c]!==l[c])return 1}return 0},"comparePart"),s=new Gt(3,"","","","",3),i=new Gt(0,"","","","",3),o=D((a,l)=>{let c=0;for(;c<Math.min(a.length,l.length);++c){let f=n(a[c],l[c]);if(f)return f}return a.length===l.length?0:n(a[c]??s,l[c]??s)},"comparePartList");return!u(t,re)[e]&&!u(r,re)[e]?0:u(t,re)[e]&&!u(r,re)[e]?o(u(t,Te)[e],[i]):!u(t,re)[e]&&u(r,re)[e]?o([i],u(r,Te)[e]):o(u(t,Te)[e],u(r,Te)[e])}get protocol(){return u(this,re).protocol}get username(){return u(this,re).username}get password(){return u(this,re).password}get hostname(){return u(this,re).hostname}get port(){return u(this,re).port}get pathname(){return u(this,re).pathname}get search(){return u(this,re).search}get hash(){return u(this,re).hash}get hasRegExpGroups(){return u(this,Qt)}},Ue=new WeakMap,mt=new WeakMap,Zt=new WeakMap,re=new WeakMap,Te=new WeakMap,Qt=new WeakMap,vu);D(Cr,"URLPattern");globalThis.URLPattern||(globalThis.URLPattern=Cr);var sf=(e,t)=>{var o;if(e===void 0)return{};let r=t.endsWith("/")?t.slice(0,-1):t,s=(o=new Cr({pathname:e,baseURL:r}).exec(r))==null?void 0:o.pathname.groups;return s?Object.entries(s).reduce((a,[l,c])=>c===void 0?a:{...a,[l]:c},{}):{}};var of=e=>e.headers.get(Gl)||"";import{env as Sm}from"process";var af=()=>({region:Sm.AWS_REGION});import{env as Wi}from"process";var cf=()=>({id:Wi.SITE_ID,name:Wi.SITE_NAME,url:Wi.URL});var Pm=typeof Response<"u"&&typeof Response.json=="function"?e=>Response.json(e):e=>new Response(JSON.stringify(e),{headers:{"content-type":"application/json"}}),lf=({cookies:e,req:t,skewProtectionToken:r})=>{let n={},s=t[xr];try{n=sf(s,t.url)}catch{console.log(`Could not parse function route ${s}.`)}let i={enqueuedPromises:new Set};return{context:{account:_u(t),cookies:e.getPublicInterface(),deploy:xu({headers:t.headers,skewProtectionToken:r}),flags:wu(t),path:s,geo:Pu(t.headers.get(ql)),ip:Eu(t.headers.get($l)),json:Pm,log:console.log,next:()=>{throw new Error("`context.next` is not implemented for serverless functions")},params:n,requestId:of(t),rewrite:a=>{let l=Em(a,t.url);return km(l)},server:af(),site:cf(),url:new URL(t.url),waitUntil:function(l){if(arguments.length===0)throw new TypeError("waitUntil: At least 1 argument required, but only 0 passed");let c=Promise.resolve(l).catch(f=>console.error(f)).finally(()=>{i.enqueuedPromises.delete(c)});i.enqueuedPromises.add(c)}},state:i}},Em=(e,t)=>{if(e instanceof URL)return e;if(e.startsWith("/")){let r=new URL(t);return r.pathname=e,r}return new URL(e)},km=async e=>await fetch(e);import ff from"assert";function uf(e){function t(c,f=2){return c.padStart(f,"0")}let r=t(e.getUTCDate().toString()),n=t(e.getUTCHours().toString()),s=t(e.getUTCMinutes().toString()),i=t(e.getUTCSeconds().toString()),o=e.getUTCFullYear(),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${a[e.getUTCDay()]}, ${r} ${l[e.getUTCMonth()]} ${o} ${n}:${s}:${i} GMT`}var vm=/^(?=[\u0020-\u007E]*$)[^()@<>,;:\\"[\]?={}\s]+$/;function Tm(e){if(!e.name)return"";let t=[];if(Cm(e.name),Dm(e.name,e.value),t.push(`${e.name}=${e.value}`),e.name.startsWith("__Secure")&&(e.secure=!0),e.name.startsWith("__Host")&&(e.path="/",e.secure=!0,delete e.domain),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&Number.isInteger(e.maxAge)&&(ff(e.maxAge>=0,"Max-Age must be an integer superior or equal to 0"),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(Om(e.domain),t.push(`Domain=${e.domain}`)),e.sameSite&&t.push(`SameSite=${e.sameSite}`),e.path&&(Rm(e.path),t.push(`Path=${e.path}`)),e.expires){let{expires:r}=e,n=uf(typeof r=="number"?new Date(r):r);t.push(`Expires=${n}`)}return e.unparsed&&t.push(e.unparsed.join("; ")),t.join("; ")}function Cm(e){if(e&&!vm.test(e))throw new TypeError(`Invalid cookie name: "${e}".`)}function Rm(e){if(e!=null)for(let t=0;t<e.length;t++){let r=e.charAt(t);if(r<" "||r>"~"||r==";")throw new Error(`${e}: Invalid cookie path char '${r}'`)}}function Dm(e,t){if(!(t==null||e==null))for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<"!"||n=='"'||n==","||n==";"||n=="\\"||n=="\x7F")throw new Error(`RFC2616 cookie '${e}' cannot contain character '${n}'`);if(n>"\x80")throw new Error(`RFC2616 cookie '${e}' can only have US-ASCII chars as value${n.charCodeAt(0).toString(16)}`)}}function Om(e){if(e==null)return;let t=e.charAt(0),r=e.charAt(e.length-1);if(t=="-"||r=="."||r=="-")throw new Error(`Invalid first/last char in cookie domain: ${e}`)}function hf(e){let t=e.get("Cookie");if(t!=null){let r={},n=t.split(";");for(let s of n){let[i,...o]=s.split("=");ff(i!=null);let a=i.trim();r[a]=o.join("=")}return r}return{}}function Gi(e,t){let r=Tm(t);r&&e.append("Set-Cookie",r)}function df(e,t,r){Gi(e,Object.assign({name:t,value:"",expires:new Date(0)},r))}var Mn=class{constructor(t){this.ops=[],this.request=t}apply(t){this.ops.forEach(r=>{switch(r.type){case"delete":df(t,r.options.name,{domain:r.options.domain,path:r.options.path});break;case"set":Gi(t,r.cookie);break;default:}})}delete(t){let r={path:"/"},n=typeof t=="string"?{name:t}:t;this.ops.push({options:{...r,...n},type:"delete"})}get(t){return hf(this.request.headers)[t]}getPublicInterface(){return{delete:this.delete.bind(this),get:this.get.bind(this),set:this.set.bind(this)}}set(t,r){let n;if(typeof t=="string"){if(typeof r!="string")throw new TypeError("You must provide the cookie value as a string to 'cookies.set'");n={name:t,value:r}}else n=t;this.ops.push({cookie:n,type:"set"})}};import{Buffer as Vi}from"buffer";import Lm from"process";var Am="/.netlify/ai/",pf="NETLIFY_AI_GATEWAY_KEY",mf="NETLIFY_AI_GATEWAY_URL",Fm="NETLIFY_BLOBS_CONTEXT",jm="NETLIFY_BRANCH",Im="NETLIFY_DB_DRIVER",Bm="NETLIFY_DB_URL",Um="NETLIFY_PURGE_API_TOKEN",Nm=(e,t)=>tt(e)?e:`${t}${Am}`,tt=e=>typeof e=="string"&&e.length!==0,$m=(e,t)=>{try{let r=Vi.from(t,"base64").toString("utf8"),n=JSON.parse(r),s=e[pf],i=e[mf],o=Nm(n.url,e.URL);e[mf]=o,e[pf]=n.token;let a=n.envVars??[];for(let{key:l,url:c}of a){let f=e[l],d=e[c],_=tt(f)&&f!==s,p=tt(d)&&d!==i;!_&&!p&&(e[l]=n.token,e[c]=o)}}catch(r){console.error("An internal error occurred while setting up Netlify AI Gateway:",r)}},qm=(e,t,r)=>{try{let n=Vi.from(t,"base64").toString("utf8"),s=JSON.parse(n),i=r.get(Wl),o=r.get(Rn);e[Fm]=Vi.from(JSON.stringify({edgeURL:s.url,uncachedEdgeURL:s.url_uncached,token:s.token,siteID:i,deployID:o,primaryRegion:s.primary_region})).toString("base64")}catch(n){console.error("An internal error occurred while setting up Netlify Blobs:",n)}},bf=({aiGateway:e,blobs:t,env:r=Lm.env,headers:n,invocationMetadata:s,netlifyDBURL:i,purgeAPIToken:o})=>{tt(e)&&$m(r,e),tt(t)&&qm(r,t,n),tt(o)&&(r[Um]=o),tt(s==null?void 0:s.branch)&&(r[jm]=s.branch),tt(i)&&(r[Im]="serverless",r[Bm]=i)};var Ki=async({funcPath:e,url:t,headers:r,method:n,body:s})=>{var E,v;let i=r.get(Vl),o=$t(r.get(Kl)),a=r.get(Yl),l=r.get(Jl),c=$t(r.get(Xl)),f=$t(r.get(Zl)),d=r.get(Ql),_=r.get(eu)??void 0,p=new kr(c??{}),x=o?au(o):void 0,w=new Dn(t,{body:s,headers:r,method:n,duplex:"half"}),k=f==null?void 0:f.invocation_metadata,C=(v=(E=f==null?void 0:f.routes)==null?void 0:E[0])==null?void 0:v.pattern;C&&(w[xr]=C),bf({aiGateway:i??void 0,blobs:x,headers:r,invocationMetadata:k?{branch:k.branch??"",account_tier:k.account_tier,function_name:k.function_name??""}:void 0,purgeAPIToken:d??void 0}),Su(w,p);let N=new Mn(w),{context:P,state:O}=lf({cookies:N,req:w,skewProtectionToken:_}),S={cacheAPI:gu(t,a??void 0,l??void 0),cdnLoopHeader:r.get("cdn-loop"),context:P,operationCounter:new Bn,fetchCalls:[]},T=yf.now(),{func:F}=await import(e),m=yf.now()-T,g=cu(F);return{req:w,requestContext:S,state:O,cookies:N,importDurationMs:m,funcModule:g}};var Mm=e=>{let t=e.headers[tu];return t?String(t).split(",")[0].trim():e.socket&&"encrypted"in e.socket&&e.socket.encrypted?"https":"http"},gf=e=>{let t=Mm(e),r=e.headers.host??"localhost",n=e.url??"/";return`${t}://${r}${n}`},Hm=Symbol.for("$netlify.responseUpgraded"),_f=e=>!!(e&&e[Hm]);var Jm="/.netlify/internal/play/heartbeat",xf=(e,t={})=>{let{port:r=0,host:n,logFileDescriptor:s,readyFileDescriptor:i}=t;s&&iu(s);let o=Vm({resolution:500});o.enable();let a=Yi.eventLoopUtilization(),l=0,c=Nl(async f=>{let{body:d,headers:_,method:p,url:x}=f;if(new URL(x).pathname===Jm){let k=Yi.eventLoopUtilization(a);a=Yi.eventLoopUtilization();let C=Km.memoryUsage(),N=Gm.totalmem(),P=o.percentile(95)/1e6;return Response.json({event_loop_utilization:k.utilization,event_loop_delay_p95_ms:P,memory_rss_bytes:C.rss,memory_limit_bytes:N,request_count:l})}l+=1;try{let{req:k,requestContext:C,state:N,cookies:P,importDurationMs:O,funcModule:S}=await Ki({funcPath:e,url:x,headers:_,method:p,body:d}),T=await wr.run(C,()=>S(k,C.context));if(T instanceof Response){let F=new Headers(T.headers);P.apply(F),F.set(Ei,`import_ms;dur=${Math.round(O)}`);try{await vi(N)}catch(m){console.error(m)}return new Response(T.body,{headers:F,status:T.status})}try{await vi(N)}catch(F){console.error(F)}return new Response(null,{status:204,headers:{[Ei]:`import_ms;dur=${Math.round(O)}`}})}finally{l-=1}});return new Promise((f,d)=>{let _=Wm(c);_.on("upgrade",async(p,x,w)=>{try{let k=gf(p),C=new Headers;for(let[T,F]of Object.entries(p.headers))F!=null&&C.set(T,Array.isArray(F)?F.join(", "):F);let{req:N,requestContext:P,funcModule:O}=await Ki({funcPath:e,url:k,headers:C,method:p.method||"GET"});N[ki]={request:p,socket:x,head:w};let S=await wr.run(P,()=>O(N,P.context));_f(S)||x.destroy()}catch(k){console.error("Error handling WebSocket upgrade:",k),x.destroy()}}),_.on("error",d),_.listen(r,n,()=>{i&&zm(i);let p=_.address(),x=typeof p=="object"&&p!==null?p.port:r,w=Ym(_.close.bind(_));f({server:_,port:x,close:w})})})};var Pf=Hn.NETLIFY_PLAY_ENTRY_PATH;if(!Pf)throw new Error("NETLIFY_PLAY_ENTRY_PATH is not defined");var Ef=Number.parseInt(Hn.NETLIFY_PLAY_PORT??"");if(Number.isNaN(Ef))throw new TypeError("NETLIFY_PLAY_PORT is not defined");var wf=Number.parseInt(Hn.NETLIFY_PLAY_LOG_FD??""),Sf=Number.parseInt(Hn.NETLIFY_PLAY_SERVER_READY_FD??"");xf(Pf,{port:Ef,logFileDescriptor:Number.isNaN(wf)?void 0:wf,readyFileDescriptor:Number.isNaN(Sf)?void 0:Sf});
